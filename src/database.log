[2025-08-20 01:29:43,225] [DEBUG] [database:28] [conn:N/A] DatabaseManager initialized, instance_id: 5238165808
[2025-08-20 01:29:43,459] [DEBUG] [database:87] [conn:N/A] 连接池初始化成功, 循环ID: 4383722080
[2025-08-20 01:29:43,459] [INFO] [database:95] [conn:N/A] 开始数据库表结构初始化...
[2025-08-20 01:29:43,533] [DEBUG] [database:167] [conn:5238167584] 数据库表结构初始化完成
[2025-08-20 01:29:43,533] [DEBUG] [database:171] [conn:N/A] 当前循环活跃状态: True
[2025-08-20 01:29:43,533] [DEBUG] [database:62] [conn:N/A] initialize调用结束，总耗时: 0.31s
[2025-08-20 01:30:09,337] [DEBUG] [database:388] [conn:N/A] 检查数据是否最新
[2025-08-20 01:30:09,337] [DEBUG] [database:416] [conn:N/A] 检查StockInfo表状态(尝试1/3)
[2025-08-20 01:30:09,337] [DEBUG] [database:417] [conn:4725353440] 当前活跃连接数: 1
[2025-08-20 01:30:09,443] [WARNING] [database:443] [conn:N/A] StockInfo表为空
[2025-08-20 01:30:10,006] [DEBUG] [database:511] [conn:N/A] Truncating StockInfo table
[2025-08-20 01:30:10,024] [DEBUG] [database:515] [conn:N/A] Inserting 0 rows into StockInfo
[2025-08-20 01:30:10,049] [INFO] [database:521] [conn:N/A] 成功更新StockInfo表数据，成功插入0行，失败0行
[2025-08-20 01:30:21,228] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-20
[2025-08-20 01:30:21,229] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 01:30:21,229] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-20
[2025-08-20 01:30:21,581] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-20 for sh.603900

[2025-08-20 01:30:21,596] [INFO] [database:270] [conn:N/A] Found 1 missing data ranges for sh.603900
[2025-08-20 01:30:21,608] [INFO] [database:300] [conn:N/A] missing_ranges [(datetime.date(2025, 8, 19), datetime.date(2025, 8, 19))]
[2025-08-20 01:30:21,609] [INFO] [database:301] [conn:N/A] Fetching missing data ranges for sh.603900
[2025-08-20 01:30:21,609] [INFO] [database:306] [conn:N/A] Fetching data from 2025-08-19 to 2025-08-19
[2025-08-20 01:30:21,807] [ERROR] [database:350] [conn:N/A] Failed to load stock data: local variable 'end_date_str' referenced before assignment
[2025-08-20 01:33:51,981] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-20
[2025-08-20 01:33:51,982] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 01:33:51,982] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-20
[2025-08-20 01:33:52,010] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-20 for sh.603900

[2025-08-20 01:33:52,020] [INFO] [database:270] [conn:N/A] Found 1 missing data ranges for sh.603900
[2025-08-20 01:33:52,038] [INFO] [database:300] [conn:N/A] missing_ranges [(datetime.date(2025, 8, 19), datetime.date(2025, 8, 19))]
[2025-08-20 01:33:52,039] [INFO] [database:301] [conn:N/A] Fetching missing data ranges for sh.603900
[2025-08-20 01:33:52,042] [INFO] [database:306] [conn:N/A] Fetching data from 2025-08-19 to 2025-08-19
[2025-08-20 01:33:53,182] [ERROR] [database:350] [conn:N/A] Failed to load stock data: 未获取到数据, symbol: sh.603900, start_date:2025-08-19, end_date:2025-08-19, frequency: d
[2025-08-20 01:34:06,577] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 01:34:06,578] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 01:34:06,578] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 01:34:06,679] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 01:34:06,693] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 01:34:06,755] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 01:34:06,768] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 01:34:06,768] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 01:34:06,768] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 01:34:06,785] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 01:34:06,785] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 01:34:06,785] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 01:34:06,785] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 01:34:06,786] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 01:34:06,786] [DEBUG] [backtesting:506] [conn:N/A] 注册策略调度处理器: 51dcd429-8b76-4823-a460-ace09db0c58b
[2025-08-20 01:34:06,786] [INFO] [backtesting:509] [conn:N/A] 策略注册成功 | ID: 51dcd429-8b76-4823-a460-ace09db0c58b | 名称: 自定义规则策略
[2025-08-20 01:34:06,786] [DEBUG] [backtesting:272] [conn:N/A] 开始回测...
[2025-08-20 01:34:06,786] [DEBUG] [backtesting:209] [conn:N/A] 识别数据频率为：日线
[2025-08-20 01:34:06,788] [DEBUG] [backtesting:235] [conn:N/A] 开始回测...
[2025-08-20 01:34:06,788] [INFO] [backtesting:556] [conn:N/A] 回测系统初始化开始
[2025-08-20 01:34:06,788] [INFO] [backtesting:568] [conn:N/A] 策略初始化完成: 51dcd429-8b76-4823-a460-ace09db0c58b
[2025-08-20 01:34:06,788] [INFO] [backtesting:586] [conn:N/A] 回测系统初始化完成
[2025-08-20 01:34:06,788] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,788] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:34:06,788] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,788] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 01:34:06,788] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 01:34:06,788] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:34:06,788] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,788] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 01:34:06,788] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 01:34:06,789] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,789] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:34:06,789] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,789] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 01:34:06,789] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 01:34:06,789] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:34:06,789] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,789] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 01:34:06,789] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 01:34:06,789] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:34:06,789] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,789] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 01:34:06,789] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:34:06,789] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,789] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 01:34:06,789] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,790] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 01:34:06,791] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,791] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,791] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:34:06,791] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,791] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 01:34:06,791] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 01:34:06,791] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:34:06,791] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,791] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 01:34:06,791] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 01:34:06,791] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,792] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:34:06,792] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,792] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 01:34:06,792] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 01:34:06,792] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:34:06,792] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,792] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 01:34:06,792] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 01:34:06,792] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:34:06,792] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,792] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 01:34:06,793] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:34:06,793] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,793] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 01:34:06,793] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,793] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,793] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:34:06,793] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,793] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 01:34:06,793] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 01:34:06,794] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,795] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:34:06,796] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,796] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 01:34:06,797] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 01:34:06,798] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:34:06,798] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,798] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 01:34:06,799] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:34:06,799] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,799] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 01:34:06,799] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,799] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,799] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:34:06,799] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,799] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 01:34:06,800] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 01:34:06,800] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:34:06,800] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,800] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 01:34:06,800] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 1)
[2025-08-20 01:34:06,800] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,800] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:34:06,800] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,800] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 01:34:06,800] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 01:34:06,800] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:34:06,800] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,800] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 01:34:06,800] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 1)
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 01:34:06,801] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 01:34:06,801] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 01:34:06,802] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 01:34:06,802] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 2)
[2025-08-20 01:34:06,802] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,803] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:34:06,803] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,803] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 01:34:06,803] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 01:34:06,803] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:34:06,803] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,803] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 01:34:06,803] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 2)
[2025-08-20 01:34:06,803] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:34:06,803] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,803] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 01:34:06,803] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:34:06,803] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,803] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 01:34:06,803] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,804] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 01:34:06,805] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 01:34:06,805] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 3)
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,805] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 01:34:06,805] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 3)
[2025-08-20 01:34:06,806] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:34:06,806] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,806] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 01:34:06,806] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:34:06,806] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,806] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 01:34:06,806] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,806] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,806] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:34:06,806] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,807] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 01:34:06,807] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 01:34:06,807] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,807] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:34:06,807] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,807] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 01:34:06,807] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 01:34:06,807] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:34:06,807] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,807] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 01:34:06,807] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:34:06,807] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,807] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 01:34:06,807] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,808] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,808] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 01:34:06,808] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,808] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@5
[2025-08-20 01:34:06,808] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=1:6, 当前值=5.6700
[2025-08-20 01:34:06,808] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.093999999999999
[2025-08-20 01:34:06,808] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.093999999999999
[2025-08-20 01:34:06,809] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 5, 值: 6.093999999999999
[2025-08-20 01:34:06,809] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[5] = 6.093999999999999
[2025-08-20 01:34:06,809] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 01:34:06,810] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:34:06,810] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,810] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 01:34:06,810] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 4)
[2025-08-20 01:34:06,810] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,810] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 01:34:06,810] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,810] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 01:34:06,810] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 01:34:06,810] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:34:06,810] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,810] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 01:34:06,810] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 4)
[2025-08-20 01:34:06,811] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 01:34:06,811] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 01:34:06,811] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,811] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 01:34:06,811] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,811] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,812] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 01:34:06,812] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 01:34:06,812] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,812] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 01:34:06,812] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,812] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 01:34:06,812] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 01:34:06,812] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 01:34:06,812] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 01:34:06,812] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,812] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 01:34:06,812] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,812] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,813] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 01:34:06,813] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,813] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@6
[2025-08-20 01:34:06,813] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=2:7, 当前值=5.9700
[2025-08-20 01:34:06,813] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.964
[2025-08-20 01:34:06,813] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.964
[2025-08-20 01:34:06,813] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 6, 值: 5.964
[2025-08-20 01:34:06,813] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[6] = 5.964
[2025-08-20 01:34:06,813] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 01:34:06,814] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 01:34:06,814] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.093999999999999 (from index 5)
[2025-08-20 01:34:06,814] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,814] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 01:34:06,814] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,814] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 01:34:06,814] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 01:34:06,814] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 01:34:06,814] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,814] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 01:34:06,814] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 5)
[2025-08-20 01:34:06,814] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 01:34:06,814] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 01:34:06,814] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,814] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 01:34:06,814] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,814] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,814] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 01:34:06,814] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 01:34:06,814] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,815] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 01:34:06,815] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,815] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 01:34:06,815] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 01:34:06,815] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 01:34:06,815] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 01:34:06,815] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,815] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 01:34:06,815] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,815] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,815] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 7
[2025-08-20 01:34:06,815] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,815] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@7
[2025-08-20 01:34:06,815] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=3:8, 当前值=6.0600
[2025-08-20 01:34:06,815] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.848
[2025-08-20 01:34:06,816] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.848
[2025-08-20 01:34:06,816] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 7, 值: 5.848
[2025-08-20 01:34:06,816] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[7] = 5.848
[2025-08-20 01:34:06,816] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 01:34:06,816] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 01:34:06,816] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.964 (from index 6)
[2025-08-20 01:34:06,816] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,816] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 7
[2025-08-20 01:34:06,816] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,816] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@7
[2025-08-20 01:34:06,816] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=1:8, 当前值=6.0600
[2025-08-20 01:34:06,817] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.071428571428571
[2025-08-20 01:34:06,817] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.071428571428571
[2025-08-20 01:34:06,817] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 7, 值: 6.071428571428571
[2025-08-20 01:34:06,817] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[7] = 6.071428571428571
[2025-08-20 01:34:06,817] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 01:34:06,817] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 01:34:06,817] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,817] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 01:34:06,817] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 6)
[2025-08-20 01:34:06,817] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 01:34:06,817] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 01:34:06,817] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,817] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,817] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 01:34:06,817] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 01:34:06,817] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,818] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 01:34:06,818] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 01:34:06,818] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 01:34:06,818] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 01:34:06,818] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:34:06,819] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:34:06,819] [DEBUG] [backtesting:306] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 01:34:06,819] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:06,819] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,819] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 8
[2025-08-20 01:34:06,819] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,819] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@8
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=4:9, 当前值=6.2200
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.896
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.896
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 8, 值: 5.896
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[8] = 5.896
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 01:34:06,820] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 01:34:06,820] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.848 (from index 7)
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 8
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@8
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=2:9, 当前值=6.2200
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.014285714285714
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.014285714285714
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 8, 值: 6.014285714285714
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[8] = 6.014285714285714
[2025-08-20 01:34:06,820] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 01:34:06,820] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 01:34:06,820] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.071428571428571 (from index 7)
[2025-08-20 01:34:06,821] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 01:34:06,821] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 01:34:06,821] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,821] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,821] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 01:34:06,821] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 01:34:06,821] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,821] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 01:34:06,821] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 01:34:06,821] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 01:34:06,822] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 01:34:06,822] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 9
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@9
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=5:10, 当前值=6.2300
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.029999999999999
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.029999999999999
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 9, 值: 6.029999999999999
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[9] = 6.029999999999999
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 8 (当前索引: 9, 回溯周期: 1)
[2025-08-20 01:34:06,822] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 01:34:06,822] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.896 (from index 8)
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 9
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@9
[2025-08-20 01:34:06,822] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=3:10, 当前值=6.2300
[2025-08-20 01:34:06,823] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.9557142857142855
[2025-08-20 01:34:06,823] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=5.9557142857142855
[2025-08-20 01:34:06,823] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 9, 值: 5.9557142857142855
[2025-08-20 01:34:06,823] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[9] = 5.9557142857142855
[2025-08-20 01:34:06,823] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 8 (当前索引: 9, 回溯周期: 1)
[2025-08-20 01:34:06,823] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 01:34:06,823] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.014285714285714 (from index 8)
[2025-08-20 01:34:06,823] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.029999999999999
[2025-08-20 01:34:06,823] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.9557142857142855
[2025-08-20 01:34:06,823] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:34:06,823] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:34:06,823] [DEBUG] [backtesting:306] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 01:34:06,823] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 10
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@10
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=6:11, 当前值=6.1700
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.13
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.13
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 10, 值: 6.13
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[10] = 6.13
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 01:34:06,824] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.029999999999999
[2025-08-20 01:34:06,824] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.029999999999999 (from index 9)
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 10
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@10
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=4:11, 当前值=6.1700
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.982857142857143
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=5.982857142857143
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 10, 值: 5.982857142857143
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[10] = 5.982857142857143
[2025-08-20 01:34:06,824] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 01:34:06,824] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.9557142857142855
[2025-08-20 01:34:06,824] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.9557142857142855 (from index 9)
[2025-08-20 01:34:06,825] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 01:34:06,825] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 01:34:06,825] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,826] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,826] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 01:34:06,826] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 01:34:06,826] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,826] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 01:34:06,826] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 01:34:06,828] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 01:34:06,828] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 01:34:06,829] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,829] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,829] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 11
[2025-08-20 01:34:06,829] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,829] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@11
[2025-08-20 01:34:06,829] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=7:12, 当前值=6.7900
[2025-08-20 01:34:06,829] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.294
[2025-08-20 01:34:06,829] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.294
[2025-08-20 01:34:06,830] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 11, 值: 6.294
[2025-08-20 01:34:06,830] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[11] = 6.294
[2025-08-20 01:34:06,830] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 01:34:06,830] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 01:34:06,830] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.13 (from index 10)
[2025-08-20 01:34:06,830] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,830] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 11
[2025-08-20 01:34:06,830] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,830] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@11
[2025-08-20 01:34:06,830] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=5:12, 当前值=6.7900
[2025-08-20 01:34:06,830] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.158571428571428
[2025-08-20 01:34:06,830] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.158571428571428
[2025-08-20 01:34:06,830] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 11, 值: 6.158571428571428
[2025-08-20 01:34:06,830] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[11] = 6.158571428571428
[2025-08-20 01:34:06,830] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 01:34:06,830] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 01:34:06,830] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.982857142857143 (from index 10)
[2025-08-20 01:34:06,831] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 01:34:06,831] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 01:34:06,831] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,831] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,831] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 01:34:06,831] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 01:34:06,831] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,831] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 01:34:06,831] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 01:34:06,832] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 01:34:06,832] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 01:34:06,832] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,834] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,834] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 12
[2025-08-20 01:34:06,834] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,834] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@12
[2025-08-20 01:34:06,835] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=8:13, 当前值=6.3400
[2025-08-20 01:34:06,835] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.35
[2025-08-20 01:34:06,835] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.35
[2025-08-20 01:34:06,835] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 12, 值: 6.35
[2025-08-20 01:34:06,835] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[12] = 6.35
[2025-08-20 01:34:06,835] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 01:34:06,835] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 01:34:06,835] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.294 (from index 11)
[2025-08-20 01:34:06,835] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,835] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 12
[2025-08-20 01:34:06,835] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,835] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@12
[2025-08-20 01:34:06,835] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=6:13, 当前值=6.3400
[2025-08-20 01:34:06,836] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.2542857142857144
[2025-08-20 01:34:06,836] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.2542857142857144
[2025-08-20 01:34:06,836] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 12, 值: 6.2542857142857144
[2025-08-20 01:34:06,836] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[12] = 6.2542857142857144
[2025-08-20 01:34:06,837] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 01:34:06,838] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 01:34:06,838] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.158571428571428 (from index 11)
[2025-08-20 01:34:06,838] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 01:34:06,838] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 01:34:06,839] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,839] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,839] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 01:34:06,839] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 01:34:06,839] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,839] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 01:34:06,839] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 01:34:06,839] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 01:34:06,839] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 01:34:06,841] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,841] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,841] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 13
[2025-08-20 01:34:06,841] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,842] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@13
[2025-08-20 01:34:06,842] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=9:14, 当前值=6.9700
[2025-08-20 01:34:06,842] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.5
[2025-08-20 01:34:06,842] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.5
[2025-08-20 01:34:06,842] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 13, 值: 6.5
[2025-08-20 01:34:06,843] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[13] = 6.5
[2025-08-20 01:34:06,843] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 01:34:06,843] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 01:34:06,843] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.35 (from index 12)
[2025-08-20 01:34:06,843] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,843] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 13
[2025-08-20 01:34:06,843] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,843] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@13
[2025-08-20 01:34:06,844] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=7:14, 当前值=6.9700
[2025-08-20 01:34:06,844] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.397142857142858
[2025-08-20 01:34:06,844] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.397142857142858
[2025-08-20 01:34:06,844] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 13, 值: 6.397142857142858
[2025-08-20 01:34:06,844] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[13] = 6.397142857142858
[2025-08-20 01:34:06,844] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 01:34:06,844] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 01:34:06,845] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.2542857142857144 (from index 12)
[2025-08-20 01:34:06,845] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 01:34:06,845] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 01:34:06,845] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,846] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,846] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 01:34:06,846] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 01:34:06,846] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,846] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 01:34:06,847] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 01:34:06,847] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 01:34:06,847] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 01:34:06,847] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,847] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 14
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@14
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=10:15, 当前值=6.8200
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.618
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.618
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 14, 值: 6.618
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[14] = 6.618
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 01:34:06,848] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 01:34:06,848] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.5 (from index 13)
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 14
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@14
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=8:15, 当前值=6.8200
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.505714285714285
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.505714285714285
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 14, 值: 6.505714285714285
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[14] = 6.505714285714285
[2025-08-20 01:34:06,848] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 01:34:06,849] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 01:34:06,849] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.397142857142858 (from index 13)
[2025-08-20 01:34:06,849] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 01:34:06,849] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 01:34:06,849] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,849] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,849] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 01:34:06,849] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 01:34:06,849] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,849] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 01:34:06,849] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 01:34:06,849] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 01:34:06,849] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 01:34:06,850] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 15
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@15
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=11:16, 当前值=6.1800
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.62
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.62
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 15, 值: 6.62
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[15] = 6.62
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 01:34:06,850] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 01:34:06,850] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.618 (from index 14)
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 15
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@15
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=9:16, 当前值=6.1800
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.5
[2025-08-20 01:34:06,850] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.5
[2025-08-20 01:34:06,851] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 15, 值: 6.5
[2025-08-20 01:34:06,851] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[15] = 6.5
[2025-08-20 01:34:06,851] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 01:34:06,851] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 01:34:06,851] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.505714285714285 (from index 14)
[2025-08-20 01:34:06,851] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 01:34:06,851] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 01:34:06,851] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,851] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,851] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 01:34:06,851] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 01:34:06,851] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,851] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 01:34:06,851] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 01:34:06,852] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 01:34:06,852] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 01:34:06,852] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,852] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,852] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 16
[2025-08-20 01:34:06,852] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,852] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@16
[2025-08-20 01:34:06,852] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=12:17, 当前值=5.9200
[2025-08-20 01:34:06,852] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.446
[2025-08-20 01:34:06,852] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.446
[2025-08-20 01:34:06,852] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 16, 值: 6.446
[2025-08-20 01:34:06,852] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[16] = 6.446
[2025-08-20 01:34:06,852] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 01:34:06,853] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 01:34:06,853] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.62 (from index 15)
[2025-08-20 01:34:06,853] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,853] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 16
[2025-08-20 01:34:06,853] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,853] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@16
[2025-08-20 01:34:06,853] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=10:17, 当前值=5.9200
[2025-08-20 01:34:06,853] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.4557142857142855
[2025-08-20 01:34:06,853] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.4557142857142855
[2025-08-20 01:34:06,853] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 16, 值: 6.4557142857142855
[2025-08-20 01:34:06,853] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[16] = 6.4557142857142855
[2025-08-20 01:34:06,853] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 01:34:06,853] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 01:34:06,853] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.5 (from index 15)
[2025-08-20 01:34:06,853] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 01:34:06,853] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 01:34:06,854] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,854] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,854] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 01:34:06,854] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 01:34:06,854] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,854] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 01:34:06,854] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 01:34:06,854] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 01:34:06,854] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 01:34:06,854] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:34:06,854] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:34:06,855] [DEBUG] [backtesting:306] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 01:34:06,855] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 17
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@17
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=13:18, 当前值=5.9400
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.366
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.366
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 17, 值: 6.366
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[17] = 6.366
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 01:34:06,855] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 01:34:06,855] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.446 (from index 16)
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 17
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@17
[2025-08-20 01:34:06,855] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=11:18, 当前值=5.9400
[2025-08-20 01:34:06,856] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.422857142857143
[2025-08-20 01:34:06,856] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.422857142857143
[2025-08-20 01:34:06,856] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 17, 值: 6.422857142857143
[2025-08-20 01:34:06,856] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[17] = 6.422857142857143
[2025-08-20 01:34:06,856] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 01:34:06,856] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 01:34:06,856] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.4557142857142855 (from index 16)
[2025-08-20 01:34:06,857] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 01:34:06,857] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 01:34:06,857] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,857] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,857] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 01:34:06,857] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 01:34:06,857] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,857] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 01:34:06,857] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 01:34:06,857] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 01:34:06,857] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 01:34:06,858] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,858] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,858] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 18
[2025-08-20 01:34:06,858] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,858] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@18
[2025-08-20 01:34:06,858] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=14:19, 当前值=6.0900
[2025-08-20 01:34:06,858] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.1899999999999995
[2025-08-20 01:34:06,858] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.1899999999999995
[2025-08-20 01:34:06,858] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 18, 值: 6.1899999999999995
[2025-08-20 01:34:06,858] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[18] = 6.1899999999999995
[2025-08-20 01:34:06,858] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 01:34:06,858] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 01:34:06,858] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.366 (from index 17)
[2025-08-20 01:34:06,858] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,858] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 18
[2025-08-20 01:34:06,858] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,859] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@18
[2025-08-20 01:34:06,859] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=12:19, 当前值=6.0900
[2025-08-20 01:34:06,859] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.322857142857143
[2025-08-20 01:34:06,859] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.322857142857143
[2025-08-20 01:34:06,859] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 18, 值: 6.322857142857143
[2025-08-20 01:34:06,859] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[18] = 6.322857142857143
[2025-08-20 01:34:06,859] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 01:34:06,859] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 01:34:06,859] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.422857142857143 (from index 17)
[2025-08-20 01:34:06,859] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 01:34:06,860] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 01:34:06,860] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,860] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,860] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 01:34:06,860] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 01:34:06,860] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,860] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 01:34:06,861] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 01:34:06,861] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 01:34:06,862] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 01:34:06,862] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,862] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,862] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 19
[2025-08-20 01:34:06,862] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,862] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@19
[2025-08-20 01:34:06,862] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=15:20, 当前值=6.1000
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.046
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.046
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 19, 值: 6.046
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[19] = 6.046
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 01:34:06,863] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 01:34:06,863] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.1899999999999995 (from index 18)
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 19
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@19
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=13:20, 当前值=6.1000
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.288571428571429
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.288571428571429
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 19, 值: 6.288571428571429
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[19] = 6.288571428571429
[2025-08-20 01:34:06,863] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 01:34:06,863] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 01:34:06,863] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.322857142857143 (from index 18)
[2025-08-20 01:34:06,863] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 01:34:06,864] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 01:34:06,864] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,864] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,864] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 01:34:06,864] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 01:34:06,864] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,864] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 01:34:06,864] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 01:34:06,864] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 01:34:06,864] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 01:34:06,864] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,864] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,864] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 20
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@20
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=16:21, 当前值=6.7100
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.152
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.152
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 20, 值: 6.152
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[20] = 6.152
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 01:34:06,865] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 01:34:06,865] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.046 (from index 19)
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 20
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@20
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=14:21, 当前值=6.7100
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.251428571428571
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.251428571428571
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 20, 值: 6.251428571428571
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[20] = 6.251428571428571
[2025-08-20 01:34:06,865] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 01:34:06,865] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 01:34:06,865] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.288571428571429 (from index 19)
[2025-08-20 01:34:06,866] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 01:34:06,866] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 01:34:06,866] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,866] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,866] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 01:34:06,866] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 01:34:06,866] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,866] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 01:34:06,866] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 01:34:06,866] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 01:34:06,866] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 01:34:06,866] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 21
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@21
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=17:22, 当前值=7.3800
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.444
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.444
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 21, 值: 6.444
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[21] = 6.444
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 20 (当前索引: 21, 回溯周期: 1)
[2025-08-20 01:34:06,867] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 01:34:06,867] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.152 (from index 20)
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 21
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@21
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=15:22, 当前值=7.3800
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.331428571428572
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.331428571428572
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 21, 值: 6.331428571428572
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[21] = 6.331428571428572
[2025-08-20 01:34:06,867] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 20 (当前索引: 21, 回溯周期: 1)
[2025-08-20 01:34:06,867] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 01:34:06,868] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.251428571428571 (from index 20)
[2025-08-20 01:34:06,868] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.444
[2025-08-20 01:34:06,868] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.331428571428572
[2025-08-20 01:34:06,868] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:34:06,868] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:34:06,868] [DEBUG] [backtesting:306] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 01:34:06,868] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:06,868] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,868] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 22
[2025-08-20 01:34:06,868] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,868] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@22
[2025-08-20 01:34:06,868] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=18:23, 当前值=7.2700
[2025-08-20 01:34:06,868] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.709999999999999
[2025-08-20 01:34:06,868] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.709999999999999
[2025-08-20 01:34:06,869] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 22, 值: 6.709999999999999
[2025-08-20 01:34:06,869] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[22] = 6.709999999999999
[2025-08-20 01:34:06,869] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 01:34:06,869] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.444
[2025-08-20 01:34:06,869] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.444 (from index 21)
[2025-08-20 01:34:06,869] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,869] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 22
[2025-08-20 01:34:06,869] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,869] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@22
[2025-08-20 01:34:06,869] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=16:23, 当前值=7.2700
[2025-08-20 01:34:06,869] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.487142857142857
[2025-08-20 01:34:06,869] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.487142857142857
[2025-08-20 01:34:06,869] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 22, 值: 6.487142857142857
[2025-08-20 01:34:06,869] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[22] = 6.487142857142857
[2025-08-20 01:34:06,869] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 01:34:06,869] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.331428571428572
[2025-08-20 01:34:06,869] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.331428571428572 (from index 21)
[2025-08-20 01:34:06,869] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 01:34:06,869] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 01:34:06,869] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,870] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,870] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 01:34:06,870] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 01:34:06,870] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,870] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 01:34:06,870] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 01:34:06,870] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 01:34:06,870] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 01:34:06,870] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,870] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,870] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 23
[2025-08-20 01:34:06,870] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,870] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@23
[2025-08-20 01:34:06,870] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=19:24, 当前值=7.3200
[2025-08-20 01:34:06,870] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.956
[2025-08-20 01:34:06,871] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.956
[2025-08-20 01:34:06,871] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 23, 值: 6.956
[2025-08-20 01:34:06,871] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[23] = 6.956
[2025-08-20 01:34:06,871] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 01:34:06,871] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 01:34:06,871] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.709999999999999 (from index 22)
[2025-08-20 01:34:06,871] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,871] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 23
[2025-08-20 01:34:06,871] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,871] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@23
[2025-08-20 01:34:06,871] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=17:24, 当前值=7.3200
[2025-08-20 01:34:06,871] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.687142857142858
[2025-08-20 01:34:06,871] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.687142857142858
[2025-08-20 01:34:06,871] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 23, 值: 6.687142857142858
[2025-08-20 01:34:06,871] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[23] = 6.687142857142858
[2025-08-20 01:34:06,871] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 01:34:06,871] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 01:34:06,871] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.487142857142857 (from index 22)
[2025-08-20 01:34:06,872] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 01:34:06,872] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 01:34:06,872] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,872] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,872] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 01:34:06,872] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 01:34:06,872] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,872] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 01:34:06,872] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 01:34:06,872] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 01:34:06,872] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 01:34:06,872] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,872] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,872] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 24
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@24
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=20:25, 当前值=7.4700
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.2299999999999995
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.2299999999999995
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 24, 值: 7.2299999999999995
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[24] = 7.2299999999999995
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 01:34:06,873] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 01:34:06,873] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.956 (from index 23)
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 24
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@24
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=18:25, 当前值=7.4700
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.905714285714287
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.905714285714287
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 24, 值: 6.905714285714287
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[24] = 6.905714285714287
[2025-08-20 01:34:06,873] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 01:34:06,873] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 01:34:06,873] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.687142857142858 (from index 23)
[2025-08-20 01:34:06,873] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 01:34:06,874] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 01:34:06,874] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,874] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,874] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 01:34:06,874] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 01:34:06,874] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,874] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 01:34:06,874] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 01:34:06,874] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 01:34:06,874] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 01:34:06,874] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,874] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,874] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 25
[2025-08-20 01:34:06,874] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,874] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@25
[2025-08-20 01:34:06,874] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=21:26, 当前值=7.3300
[2025-08-20 01:34:06,875] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.354000000000001
[2025-08-20 01:34:06,875] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.354000000000001
[2025-08-20 01:34:06,875] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 25, 值: 7.354000000000001
[2025-08-20 01:34:06,875] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[25] = 7.354000000000001
[2025-08-20 01:34:06,875] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 01:34:06,875] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 01:34:06,875] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.2299999999999995 (from index 24)
[2025-08-20 01:34:06,875] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,875] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 25
[2025-08-20 01:34:06,875] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,875] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@25
[2025-08-20 01:34:06,875] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=19:26, 当前值=7.3300
[2025-08-20 01:34:06,876] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.082857142857143
[2025-08-20 01:34:06,876] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.082857142857143
[2025-08-20 01:34:06,876] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 25, 值: 7.082857142857143
[2025-08-20 01:34:06,876] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[25] = 7.082857142857143
[2025-08-20 01:34:06,876] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 01:34:06,877] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 01:34:06,877] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.905714285714287 (from index 24)
[2025-08-20 01:34:06,877] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 01:34:06,877] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 01:34:06,877] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,877] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,878] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 01:34:06,878] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 01:34:06,878] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,878] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 01:34:06,878] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 01:34:06,878] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 01:34:06,878] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 01:34:06,878] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,878] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,878] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 26
[2025-08-20 01:34:06,878] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,878] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@26
[2025-08-20 01:34:06,878] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=22:27, 当前值=7.6600
[2025-08-20 01:34:06,878] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.409999999999999
[2025-08-20 01:34:06,878] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.409999999999999
[2025-08-20 01:34:06,879] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 26, 值: 7.409999999999999
[2025-08-20 01:34:06,879] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[26] = 7.409999999999999
[2025-08-20 01:34:06,879] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 01:34:06,879] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 01:34:06,879] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.354000000000001 (from index 25)
[2025-08-20 01:34:06,879] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,879] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 26
[2025-08-20 01:34:06,879] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,879] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@26
[2025-08-20 01:34:06,879] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=20:27, 当前值=7.6600
[2025-08-20 01:34:06,879] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.305714285714286
[2025-08-20 01:34:06,879] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.305714285714286
[2025-08-20 01:34:06,879] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 26, 值: 7.305714285714286
[2025-08-20 01:34:06,879] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[26] = 7.305714285714286
[2025-08-20 01:34:06,879] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 01:34:06,879] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 01:34:06,879] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.082857142857143 (from index 25)
[2025-08-20 01:34:06,879] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 01:34:06,879] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 01:34:06,879] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,879] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,880] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 01:34:06,880] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 01:34:06,880] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,880] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 01:34:06,880] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 01:34:06,880] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 01:34:06,880] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 01:34:06,880] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,880] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,880] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 27
[2025-08-20 01:34:06,880] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,880] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@27
[2025-08-20 01:34:06,880] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=23:28, 当前值=7.7500
[2025-08-20 01:34:06,880] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.506
[2025-08-20 01:34:06,880] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.506
[2025-08-20 01:34:06,880] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 27, 值: 7.506
[2025-08-20 01:34:06,881] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[27] = 7.506
[2025-08-20 01:34:06,881] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 01:34:06,881] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 01:34:06,881] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.409999999999999 (from index 26)
[2025-08-20 01:34:06,881] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,881] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 27
[2025-08-20 01:34:06,881] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,881] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@27
[2025-08-20 01:34:06,881] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=21:28, 当前值=7.7500
[2025-08-20 01:34:06,881] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.454285714285715
[2025-08-20 01:34:06,881] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.454285714285715
[2025-08-20 01:34:06,881] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 27, 值: 7.454285714285715
[2025-08-20 01:34:06,881] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[27] = 7.454285714285715
[2025-08-20 01:34:06,881] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 01:34:06,881] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 01:34:06,881] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.305714285714286 (from index 26)
[2025-08-20 01:34:06,881] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 01:34:06,881] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 01:34:06,882] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,882] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,882] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 01:34:06,882] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 01:34:06,882] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,882] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 01:34:06,882] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 01:34:06,882] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 01:34:06,882] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 01:34:06,882] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,882] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,882] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 28
[2025-08-20 01:34:06,882] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,882] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@28
[2025-08-20 01:34:06,882] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=24:29, 当前值=7.6400
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.57
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.57
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 28, 值: 7.57
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[28] = 7.57
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 01:34:06,883] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 01:34:06,883] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.506 (from index 27)
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 28
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@28
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=22:29, 当前值=7.6400
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.491428571428571
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.491428571428571
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 28, 值: 7.491428571428571
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[28] = 7.491428571428571
[2025-08-20 01:34:06,883] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 01:34:06,883] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 01:34:06,883] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.454285714285715 (from index 27)
[2025-08-20 01:34:06,883] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 01:34:06,884] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 01:34:06,884] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,884] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,884] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 01:34:06,884] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 01:34:06,884] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,884] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 01:34:06,884] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 01:34:06,884] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 01:34:06,884] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 01:34:06,884] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 29
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@29
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=25:30, 当前值=7.9700
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.67
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.67
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 29, 值: 7.67
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[29] = 7.67
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 01:34:06,885] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 01:34:06,885] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.57 (from index 28)
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 29
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@29
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=23:30, 当前值=7.9700
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.591428571428572
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.591428571428572
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 29, 值: 7.591428571428572
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[29] = 7.591428571428572
[2025-08-20 01:34:06,885] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 01:34:06,885] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 01:34:06,885] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.491428571428571 (from index 28)
[2025-08-20 01:34:06,886] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 01:34:06,886] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 01:34:06,886] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,886] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,886] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 01:34:06,886] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 01:34:06,886] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,886] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 01:34:06,886] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 01:34:06,886] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 01:34:06,886] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 01:34:06,887] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 30
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@30
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=26:31, 当前值=8.0800
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.82
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.82
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 30, 值: 7.82
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[30] = 7.82
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 01:34:06,887] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 01:34:06,887] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.67 (from index 29)
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 30
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@30
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=24:31, 当前值=8.0800
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.7
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.7
[2025-08-20 01:34:06,887] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 30, 值: 7.7
[2025-08-20 01:34:06,888] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[30] = 7.7
[2025-08-20 01:34:06,888] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 01:34:06,888] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 01:34:06,888] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.591428571428572 (from index 29)
[2025-08-20 01:34:06,888] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 01:34:06,888] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 01:34:06,888] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,888] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,888] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 01:34:06,888] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 01:34:06,888] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,888] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 01:34:06,888] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 01:34:06,888] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 01:34:06,888] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 01:34:06,889] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 31
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@31
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=27:32, 当前值=8.8900
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.065999999999999
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=8.065999999999999
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 31, 值: 8.065999999999999
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[31] = 8.065999999999999
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 01:34:06,889] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 01:34:06,889] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.82 (from index 30)
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 31
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@31
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=25:32, 当前值=8.8900
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.902857142857143
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.902857142857143
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 31, 值: 7.902857142857143
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[31] = 7.902857142857143
[2025-08-20 01:34:06,889] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 01:34:06,890] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 01:34:06,890] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.7 (from index 30)
[2025-08-20 01:34:06,890] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 01:34:06,890] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 01:34:06,890] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,890] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,890] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 01:34:06,890] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 01:34:06,890] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,890] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 01:34:06,890] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 01:34:06,891] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 01:34:06,891] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 01:34:06,891] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,892] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,892] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 32
[2025-08-20 01:34:06,892] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,892] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@32
[2025-08-20 01:34:06,892] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=28:33, 当前值=9.7800
[2025-08-20 01:34:06,892] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.472
[2025-08-20 01:34:06,892] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=8.472
[2025-08-20 01:34:06,892] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 32, 值: 8.472
[2025-08-20 01:34:06,892] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[32] = 8.472
[2025-08-20 01:34:06,892] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 01:34:06,892] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 01:34:06,892] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.065999999999999 (from index 31)
[2025-08-20 01:34:06,892] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,893] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 32
[2025-08-20 01:34:06,893] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,893] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@32
[2025-08-20 01:34:06,893] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=26:33, 当前值=9.7800
[2025-08-20 01:34:06,893] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.252857142857144
[2025-08-20 01:34:06,893] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=8.252857142857144
[2025-08-20 01:34:06,893] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 32, 值: 8.252857142857144
[2025-08-20 01:34:06,893] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[32] = 8.252857142857144
[2025-08-20 01:34:06,893] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 01:34:06,893] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 01:34:06,893] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.902857142857143 (from index 31)
[2025-08-20 01:34:06,893] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 01:34:06,893] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 01:34:06,893] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,893] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,893] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 01:34:06,893] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 01:34:06,893] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,893] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 01:34:06,894] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 01:34:06,894] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 01:34:06,894] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 01:34:06,894] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,894] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,894] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 33
[2025-08-20 01:34:06,894] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,894] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@33
[2025-08-20 01:34:06,894] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=29:34, 当前值=10.7600
[2025-08-20 01:34:06,894] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.096
[2025-08-20 01:34:06,894] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.096
[2025-08-20 01:34:06,894] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 33, 值: 9.096
[2025-08-20 01:34:06,894] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[33] = 9.096
[2025-08-20 01:34:06,894] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 01:34:06,894] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 01:34:06,894] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.472 (from index 32)
[2025-08-20 01:34:06,894] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,894] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 33
[2025-08-20 01:34:06,895] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,895] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@33
[2025-08-20 01:34:06,895] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=27:34, 当前值=10.7600
[2025-08-20 01:34:06,895] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.695714285714285
[2025-08-20 01:34:06,895] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=8.695714285714285
[2025-08-20 01:34:06,895] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 33, 值: 8.695714285714285
[2025-08-20 01:34:06,895] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[33] = 8.695714285714285
[2025-08-20 01:34:06,895] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 01:34:06,895] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 01:34:06,895] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.252857142857144 (from index 32)
[2025-08-20 01:34:06,895] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 01:34:06,895] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 01:34:06,895] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,895] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,895] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 01:34:06,895] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 01:34:06,895] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,895] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 01:34:06,895] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 01:34:06,896] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 01:34:06,896] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 01:34:06,896] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,896] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,896] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 34
[2025-08-20 01:34:06,896] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,896] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@34
[2025-08-20 01:34:06,896] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=30:35, 当前值=11.4500
[2025-08-20 01:34:06,896] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.792
[2025-08-20 01:34:06,896] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.792
[2025-08-20 01:34:06,896] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 34, 值: 9.792
[2025-08-20 01:34:06,896] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[34] = 9.792
[2025-08-20 01:34:06,896] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 01:34:06,896] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 01:34:06,896] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.096 (from index 33)
[2025-08-20 01:34:06,896] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,896] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 34
[2025-08-20 01:34:06,896] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,896] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@34
[2025-08-20 01:34:06,897] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=28:35, 当前值=11.4500
[2025-08-20 01:34:06,897] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.224285714285713
[2025-08-20 01:34:06,897] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.224285714285713
[2025-08-20 01:34:06,897] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 34, 值: 9.224285714285713
[2025-08-20 01:34:06,897] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[34] = 9.224285714285713
[2025-08-20 01:34:06,897] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 01:34:06,897] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 01:34:06,897] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.695714285714285 (from index 33)
[2025-08-20 01:34:06,897] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 01:34:06,897] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 01:34:06,897] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,897] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,897] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 01:34:06,897] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 01:34:06,897] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,897] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 01:34:06,897] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 01:34:06,897] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 01:34:06,898] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 01:34:06,898] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 35
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@35
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=31:36, 当前值=12.6000
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.696
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.696
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 35, 值: 10.696
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[35] = 10.696
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 01:34:06,898] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 01:34:06,898] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.792 (from index 34)
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 35
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@35
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=29:36, 当前值=12.6000
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.932857142857143
[2025-08-20 01:34:06,898] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.932857142857143
[2025-08-20 01:34:06,899] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 35, 值: 9.932857142857143
[2025-08-20 01:34:06,899] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[35] = 9.932857142857143
[2025-08-20 01:34:06,899] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 01:34:06,899] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 01:34:06,899] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.224285714285713 (from index 34)
[2025-08-20 01:34:06,899] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 01:34:06,899] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 01:34:06,899] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,899] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,899] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 01:34:06,899] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 01:34:06,899] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,899] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 01:34:06,899] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 01:34:06,900] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 01:34:06,900] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 01:34:06,900] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,900] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,900] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 36
[2025-08-20 01:34:06,900] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,900] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@36
[2025-08-20 01:34:06,900] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=32:37, 当前值=13.8600
[2025-08-20 01:34:06,900] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.690000000000001
[2025-08-20 01:34:06,900] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.690000000000001
[2025-08-20 01:34:06,900] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 36, 值: 11.690000000000001
[2025-08-20 01:34:06,900] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[36] = 11.690000000000001
[2025-08-20 01:34:06,900] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 01:34:06,900] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 01:34:06,900] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.696 (from index 35)
[2025-08-20 01:34:06,900] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,900] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 36
[2025-08-20 01:34:06,900] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,901] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@36
[2025-08-20 01:34:06,901] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=30:37, 当前值=13.8600
[2025-08-20 01:34:06,901] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.774285714285714
[2025-08-20 01:34:06,901] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.774285714285714
[2025-08-20 01:34:06,901] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 36, 值: 10.774285714285714
[2025-08-20 01:34:06,901] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[36] = 10.774285714285714
[2025-08-20 01:34:06,901] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 01:34:06,901] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 01:34:06,901] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.932857142857143 (from index 35)
[2025-08-20 01:34:06,901] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 01:34:06,901] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 01:34:06,901] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,901] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,901] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 01:34:06,901] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 01:34:06,901] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,902] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 01:34:06,902] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 01:34:06,902] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 01:34:06,902] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 01:34:06,902] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,902] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,902] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 37
[2025-08-20 01:34:06,902] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,902] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@37
[2025-08-20 01:34:06,902] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=33:38, 当前值=13.5000
[2025-08-20 01:34:06,902] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.434000000000001
[2025-08-20 01:34:06,902] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.434000000000001
[2025-08-20 01:34:06,902] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 37, 值: 12.434000000000001
[2025-08-20 01:34:06,902] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[37] = 12.434000000000001
[2025-08-20 01:34:06,902] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 01:34:06,902] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 01:34:06,903] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.690000000000001 (from index 36)
[2025-08-20 01:34:06,903] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,903] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 37
[2025-08-20 01:34:06,903] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,903] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@37
[2025-08-20 01:34:06,903] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=31:38, 当前值=13.5000
[2025-08-20 01:34:06,903] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.54857142857143
[2025-08-20 01:34:06,903] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.54857142857143
[2025-08-20 01:34:06,903] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 37, 值: 11.54857142857143
[2025-08-20 01:34:06,903] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[37] = 11.54857142857143
[2025-08-20 01:34:06,903] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 01:34:06,903] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 01:34:06,903] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.774285714285714 (from index 36)
[2025-08-20 01:34:06,903] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 01:34:06,903] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 01:34:06,903] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,903] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,903] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 01:34:06,903] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 01:34:06,903] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,904] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 01:34:06,904] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 01:34:06,904] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 01:34:06,904] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 01:34:06,904] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,904] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,904] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 38
[2025-08-20 01:34:06,904] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,904] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@38
[2025-08-20 01:34:06,904] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=34:39, 当前值=12.1500
[2025-08-20 01:34:06,904] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.712
[2025-08-20 01:34:06,904] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.712
[2025-08-20 01:34:06,904] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 38, 值: 12.712
[2025-08-20 01:34:06,904] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[38] = 12.712
[2025-08-20 01:34:06,904] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 01:34:06,904] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 01:34:06,904] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.434000000000001 (from index 37)
[2025-08-20 01:34:06,904] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,905] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 38
[2025-08-20 01:34:06,905] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,905] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@38
[2025-08-20 01:34:06,905] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=32:39, 当前值=12.1500
[2025-08-20 01:34:06,905] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.014285714285714
[2025-08-20 01:34:06,905] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.014285714285714
[2025-08-20 01:34:06,905] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 38, 值: 12.014285714285714
[2025-08-20 01:34:06,905] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[38] = 12.014285714285714
[2025-08-20 01:34:06,905] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 01:34:06,905] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 01:34:06,905] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.54857142857143 (from index 37)
[2025-08-20 01:34:06,905] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 01:34:06,905] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 01:34:06,905] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,905] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,905] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 01:34:06,905] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 01:34:06,905] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,905] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 01:34:06,906] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 01:34:06,906] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 01:34:06,906] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 01:34:06,906] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,906] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,906] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 39
[2025-08-20 01:34:06,906] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,906] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@39
[2025-08-20 01:34:06,906] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=35:40, 当前值=11.2600
[2025-08-20 01:34:06,906] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.674
[2025-08-20 01:34:06,906] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.674
[2025-08-20 01:34:06,906] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 39, 值: 12.674
[2025-08-20 01:34:06,906] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[39] = 12.674
[2025-08-20 01:34:06,906] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 01:34:06,906] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 01:34:06,906] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.712 (from index 38)
[2025-08-20 01:34:06,906] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,907] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 39
[2025-08-20 01:34:06,907] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,907] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@39
[2025-08-20 01:34:06,907] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=33:40, 当前值=11.2600
[2025-08-20 01:34:06,907] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.225714285714286
[2025-08-20 01:34:06,907] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.225714285714286
[2025-08-20 01:34:06,907] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 39, 值: 12.225714285714286
[2025-08-20 01:34:06,907] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[39] = 12.225714285714286
[2025-08-20 01:34:06,907] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 01:34:06,907] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 01:34:06,907] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.014285714285714 (from index 38)
[2025-08-20 01:34:06,907] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 01:34:06,907] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 01:34:06,907] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,907] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,907] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 01:34:06,907] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 01:34:06,907] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,907] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 01:34:06,908] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 01:34:06,908] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 01:34:06,908] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 01:34:06,908] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,908] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,908] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 40
[2025-08-20 01:34:06,908] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,908] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@40
[2025-08-20 01:34:06,908] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=36:41, 当前值=11.8500
[2025-08-20 01:34:06,908] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.524
[2025-08-20 01:34:06,908] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.524
[2025-08-20 01:34:06,908] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 40, 值: 12.524
[2025-08-20 01:34:06,909] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[40] = 12.524
[2025-08-20 01:34:06,909] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 01:34:06,909] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 01:34:06,909] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.674 (from index 39)
[2025-08-20 01:34:06,909] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,909] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 40
[2025-08-20 01:34:06,909] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,909] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@40
[2025-08-20 01:34:06,909] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=34:41, 当前值=11.8500
[2025-08-20 01:34:06,910] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.381428571428572
[2025-08-20 01:34:06,910] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.381428571428572
[2025-08-20 01:34:06,910] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 40, 值: 12.381428571428572
[2025-08-20 01:34:06,910] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[40] = 12.381428571428572
[2025-08-20 01:34:06,910] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 01:34:06,910] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 01:34:06,910] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.225714285714286 (from index 39)
[2025-08-20 01:34:06,911] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 01:34:06,911] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 01:34:06,911] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,911] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,911] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 01:34:06,911] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 01:34:06,911] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,912] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 01:34:06,912] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 01:34:06,912] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 01:34:06,912] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 01:34:06,912] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,912] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,912] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 41
[2025-08-20 01:34:06,912] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,912] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@41
[2025-08-20 01:34:06,912] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=37:42, 当前值=13.0400
[2025-08-20 01:34:06,912] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.36
[2025-08-20 01:34:06,912] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.36
[2025-08-20 01:34:06,912] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 41, 值: 12.36
[2025-08-20 01:34:06,912] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[41] = 12.36
[2025-08-20 01:34:06,912] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 01:34:06,913] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 01:34:06,913] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.524 (from index 40)
[2025-08-20 01:34:06,913] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,913] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 41
[2025-08-20 01:34:06,913] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,913] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@41
[2025-08-20 01:34:06,913] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=35:42, 当前值=13.0400
[2025-08-20 01:34:06,913] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.608571428571429
[2025-08-20 01:34:06,913] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.608571428571429
[2025-08-20 01:34:06,913] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 41, 值: 12.608571428571429
[2025-08-20 01:34:06,913] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[41] = 12.608571428571429
[2025-08-20 01:34:06,913] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 01:34:06,913] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 01:34:06,913] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.381428571428572 (from index 40)
[2025-08-20 01:34:06,913] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 01:34:06,913] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 01:34:06,913] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,914] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,914] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 01:34:06,914] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 01:34:06,914] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,914] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 01:34:06,914] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 01:34:06,914] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 01:34:06,914] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 01:34:06,914] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:34:06,914] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:34:06,914] [DEBUG] [backtesting:306] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 01:34:06,914] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:06,915] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,915] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 42
[2025-08-20 01:34:06,915] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,915] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@42
[2025-08-20 01:34:06,915] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=38:43, 当前值=11.7400
[2025-08-20 01:34:06,915] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.008
[2025-08-20 01:34:06,915] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.008
[2025-08-20 01:34:06,915] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 42, 值: 12.008
[2025-08-20 01:34:06,915] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[42] = 12.008
[2025-08-20 01:34:06,915] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 01:34:06,915] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 01:34:06,915] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.36 (from index 41)
[2025-08-20 01:34:06,915] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,916] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 42
[2025-08-20 01:34:06,916] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,916] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@42
[2025-08-20 01:34:06,916] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=36:43, 当前值=11.7400
[2025-08-20 01:34:06,916] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.485714285714286
[2025-08-20 01:34:06,916] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.485714285714286
[2025-08-20 01:34:06,916] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 42, 值: 12.485714285714286
[2025-08-20 01:34:06,916] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[42] = 12.485714285714286
[2025-08-20 01:34:06,916] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 01:34:06,916] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 01:34:06,916] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.608571428571429 (from index 41)
[2025-08-20 01:34:06,916] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 01:34:06,916] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 01:34:06,916] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,916] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,917] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 01:34:06,917] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 01:34:06,917] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,917] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 01:34:06,917] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 01:34:06,917] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 01:34:06,917] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 01:34:06,917] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,917] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,917] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 43
[2025-08-20 01:34:06,917] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,917] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@43
[2025-08-20 01:34:06,917] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=39:44, 当前值=11.1000
[2025-08-20 01:34:06,917] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.798
[2025-08-20 01:34:06,917] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.798
[2025-08-20 01:34:06,917] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 43, 值: 11.798
[2025-08-20 01:34:06,918] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[43] = 11.798
[2025-08-20 01:34:06,918] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 01:34:06,918] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 01:34:06,918] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.008 (from index 42)
[2025-08-20 01:34:06,918] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,918] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 43
[2025-08-20 01:34:06,918] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,918] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@43
[2025-08-20 01:34:06,918] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=37:44, 当前值=11.1000
[2025-08-20 01:34:06,918] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.09142857142857
[2025-08-20 01:34:06,918] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.09142857142857
[2025-08-20 01:34:06,918] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 43, 值: 12.09142857142857
[2025-08-20 01:34:06,918] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[43] = 12.09142857142857
[2025-08-20 01:34:06,918] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 01:34:06,918] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 01:34:06,918] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.485714285714286 (from index 42)
[2025-08-20 01:34:06,918] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 01:34:06,918] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 01:34:06,918] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,918] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,919] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 01:34:06,919] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 01:34:06,919] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,919] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 01:34:06,919] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 01:34:06,919] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 01:34:06,919] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 01:34:06,919] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,919] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,919] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 44
[2025-08-20 01:34:06,919] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,919] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@44
[2025-08-20 01:34:06,919] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=40:45, 当前值=11.7300
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.892
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.892
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 44, 值: 11.892
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[44] = 11.892
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 43 (当前索引: 44, 回溯周期: 1)
[2025-08-20 01:34:06,920] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 01:34:06,920] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.798 (from index 43)
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 44
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@44
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=38:45, 当前值=11.7300
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.838571428571429
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.838571428571429
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 44, 值: 11.838571428571429
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[44] = 11.838571428571429
[2025-08-20 01:34:06,920] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 43 (当前索引: 44, 回溯周期: 1)
[2025-08-20 01:34:06,920] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 01:34:06,920] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.09142857142857 (from index 43)
[2025-08-20 01:34:06,920] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 01:34:06,920] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.838571428571429
[2025-08-20 01:34:06,921] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:34:06,921] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:34:06,921] [DEBUG] [backtesting:306] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 01:34:06,921] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:06,921] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,921] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 45
[2025-08-20 01:34:06,921] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@45
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=41:46, 当前值=11.8500
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.892
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.892
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 45, 值: 11.892
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[45] = 11.892
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 01:34:06,922] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 01:34:06,922] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 44)
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 45
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@45
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=39:46, 当前值=11.8500
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.795714285714284
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.795714285714284
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 45, 值: 11.795714285714284
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[45] = 11.795714285714284
[2025-08-20 01:34:06,922] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 01:34:06,922] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.838571428571429
[2025-08-20 01:34:06,922] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.838571428571429 (from index 44)
[2025-08-20 01:34:06,922] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 01:34:06,922] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 01:34:06,923] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,923] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,923] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 01:34:06,923] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 01:34:06,923] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,923] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 01:34:06,923] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 01:34:06,923] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 01:34:06,923] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 01:34:06,923] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,923] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,923] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 46
[2025-08-20 01:34:06,923] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,923] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@46
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=42:47, 当前值=12.2400
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.732
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.732
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 46, 值: 11.732
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[46] = 11.732
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 01:34:06,924] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 01:34:06,924] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 45)
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 46
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@46
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=40:47, 当前值=12.2400
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.935714285714285
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.935714285714285
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 46, 值: 11.935714285714285
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[46] = 11.935714285714285
[2025-08-20 01:34:06,924] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 01:34:06,924] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 01:34:06,924] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.795714285714284 (from index 45)
[2025-08-20 01:34:06,924] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:34:06,925] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 01:34:06,925] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,925] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,925] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:34:06,925] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 01:34:06,925] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,925] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 01:34:06,925] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 01:34:06,925] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:34:06,925] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 01:34:06,926] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:34:06,926] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:34:06,926] [DEBUG] [backtesting:306] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 01:34:06,927] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:06,927] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,927] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 47
[2025-08-20 01:34:06,927] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,927] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@47
[2025-08-20 01:34:06,927] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=43:48, 当前值=12.9700
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.978
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.978
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 47, 值: 11.978
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[47] = 11.978
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 01:34:06,928] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:34:06,928] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 46)
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 47
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@47
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=41:48, 当前值=12.9700
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.095714285714285
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.095714285714285
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 47, 值: 12.095714285714285
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[47] = 12.095714285714285
[2025-08-20 01:34:06,928] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 01:34:06,928] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 01:34:06,928] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.935714285714285 (from index 46)
[2025-08-20 01:34:06,928] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 01:34:06,929] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 01:34:06,929] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,929] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,929] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 01:34:06,929] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 01:34:06,929] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,929] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 01:34:06,929] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 01:34:06,929] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 01:34:06,929] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 01:34:06,929] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,929] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 48
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@48
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=44:49, 当前值=12.9700
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.352
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.352
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 48, 值: 12.352
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[48] = 12.352
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 47 (当前索引: 48, 回溯周期: 1)
[2025-08-20 01:34:06,930] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 01:34:06,930] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.978 (from index 47)
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 48
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@48
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=42:49, 当前值=12.9700
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.085714285714285
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.085714285714285
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 48, 值: 12.085714285714285
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[48] = 12.085714285714285
[2025-08-20 01:34:06,930] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 47 (当前索引: 48, 回溯周期: 1)
[2025-08-20 01:34:06,931] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 01:34:06,931] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.095714285714285 (from index 47)
[2025-08-20 01:34:06,931] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.352
[2025-08-20 01:34:06,931] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.085714285714285
[2025-08-20 01:34:06,931] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:34:06,931] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:34:06,931] [DEBUG] [backtesting:306] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 01:34:06,931] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:06,932] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,932] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 49
[2025-08-20 01:34:06,932] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,932] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@49
[2025-08-20 01:34:06,932] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=45:50, 当前值=12.8700
[2025-08-20 01:34:06,932] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.58
[2025-08-20 01:34:06,932] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.58
[2025-08-20 01:34:06,932] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 49, 值: 12.58
[2025-08-20 01:34:06,932] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[49] = 12.58
[2025-08-20 01:34:06,932] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 01:34:06,933] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.352
[2025-08-20 01:34:06,933] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.352 (from index 48)
[2025-08-20 01:34:06,933] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,933] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 49
[2025-08-20 01:34:06,933] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,933] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@49
[2025-08-20 01:34:06,933] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=43:50, 当前值=12.8700
[2025-08-20 01:34:06,933] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.247142857142858
[2025-08-20 01:34:06,933] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.247142857142858
[2025-08-20 01:34:06,933] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 49, 值: 12.247142857142858
[2025-08-20 01:34:06,933] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[49] = 12.247142857142858
[2025-08-20 01:34:06,933] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 01:34:06,933] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.085714285714285
[2025-08-20 01:34:06,933] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.085714285714285 (from index 48)
[2025-08-20 01:34:06,933] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 01:34:06,933] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 01:34:06,933] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,933] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,934] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 01:34:06,934] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 01:34:06,934] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,934] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 01:34:06,934] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 01:34:06,934] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 01:34:06,934] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 01:34:06,934] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,934] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,934] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 50
[2025-08-20 01:34:06,934] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,934] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@50
[2025-08-20 01:34:06,934] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=46:51, 当前值=12.3500
[2025-08-20 01:34:06,934] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.68
[2025-08-20 01:34:06,934] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.68
[2025-08-20 01:34:06,934] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 50, 值: 12.68
[2025-08-20 01:34:06,935] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[50] = 12.68
[2025-08-20 01:34:06,935] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 01:34:06,935] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 01:34:06,935] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.58 (from index 49)
[2025-08-20 01:34:06,935] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,935] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 50
[2025-08-20 01:34:06,935] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,935] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@50
[2025-08-20 01:34:06,935] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=44:51, 当前值=12.3500
[2025-08-20 01:34:06,935] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.425714285714287
[2025-08-20 01:34:06,935] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.425714285714287
[2025-08-20 01:34:06,935] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 50, 值: 12.425714285714287
[2025-08-20 01:34:06,935] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[50] = 12.425714285714287
[2025-08-20 01:34:06,935] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 01:34:06,935] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 01:34:06,935] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.247142857142858 (from index 49)
[2025-08-20 01:34:06,935] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 01:34:06,935] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 01:34:06,935] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,935] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,936] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 01:34:06,936] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 01:34:06,936] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,936] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 01:34:06,936] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 01:34:06,936] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 01:34:06,936] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 01:34:06,936] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,936] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,936] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 51
[2025-08-20 01:34:06,936] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,936] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@51
[2025-08-20 01:34:06,936] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=47:52, 当前值=12.1800
[2025-08-20 01:34:06,936] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.668000000000001
[2025-08-20 01:34:06,936] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.668000000000001
[2025-08-20 01:34:06,936] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 51, 值: 12.668000000000001
[2025-08-20 01:34:06,937] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[51] = 12.668000000000001
[2025-08-20 01:34:06,937] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 01:34:06,937] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 01:34:06,937] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.68 (from index 50)
[2025-08-20 01:34:06,937] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,937] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 51
[2025-08-20 01:34:06,937] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,937] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@51
[2025-08-20 01:34:06,937] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=45:52, 当前值=12.1800
[2025-08-20 01:34:06,937] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.49
[2025-08-20 01:34:06,937] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.49
[2025-08-20 01:34:06,937] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 51, 值: 12.49
[2025-08-20 01:34:06,937] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[51] = 12.49
[2025-08-20 01:34:06,937] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 01:34:06,937] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 01:34:06,937] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.425714285714287 (from index 50)
[2025-08-20 01:34:06,937] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 01:34:06,937] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 01:34:06,937] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,938] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,938] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 01:34:06,938] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 01:34:06,938] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,938] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 01:34:06,938] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 01:34:06,938] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 01:34:06,938] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 01:34:06,938] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,938] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,938] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 52
[2025-08-20 01:34:06,938] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,938] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@52
[2025-08-20 01:34:06,938] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=48:53, 当前值=11.6200
[2025-08-20 01:34:06,938] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.398
[2025-08-20 01:34:06,938] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.398
[2025-08-20 01:34:06,938] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 52, 值: 12.398
[2025-08-20 01:34:06,939] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[52] = 12.398
[2025-08-20 01:34:06,939] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 01:34:06,939] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 01:34:06,939] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.668000000000001 (from index 51)
[2025-08-20 01:34:06,939] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,939] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 52
[2025-08-20 01:34:06,939] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,939] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@52
[2025-08-20 01:34:06,939] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=46:53, 当前值=11.6200
[2025-08-20 01:34:06,939] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.457142857142857
[2025-08-20 01:34:06,939] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.457142857142857
[2025-08-20 01:34:06,939] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 52, 值: 12.457142857142857
[2025-08-20 01:34:06,939] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[52] = 12.457142857142857
[2025-08-20 01:34:06,939] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 01:34:06,939] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 01:34:06,939] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.49 (from index 51)
[2025-08-20 01:34:06,939] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 01:34:06,939] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 01:34:06,939] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,939] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,940] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 01:34:06,940] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 01:34:06,940] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,940] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 01:34:06,940] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 01:34:06,940] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 01:34:06,940] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 01:34:06,940] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:34:06,940] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:34:06,940] [DEBUG] [backtesting:306] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 01:34:06,940] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 53
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@53
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=49:54, 当前值=11.5100
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.106
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.106
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 53, 值: 12.106
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[53] = 12.106
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 01:34:06,941] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 01:34:06,941] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.398 (from index 52)
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 53
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@53
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=47:54, 当前值=11.5100
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.352857142857143
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.352857142857143
[2025-08-20 01:34:06,941] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 53, 值: 12.352857142857143
[2025-08-20 01:34:06,942] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[53] = 12.352857142857143
[2025-08-20 01:34:06,942] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 01:34:06,942] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 01:34:06,942] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.457142857142857 (from index 52)
[2025-08-20 01:34:06,943] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 01:34:06,943] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 01:34:06,943] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,943] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,944] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 01:34:06,944] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 01:34:06,944] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,944] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 01:34:06,944] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 01:34:06,944] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 01:34:06,944] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 01:34:06,944] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,944] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,944] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 54
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@54
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=50:55, 当前值=11.8200
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.895999999999999
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.895999999999999
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 54, 值: 11.895999999999999
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[54] = 11.895999999999999
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 01:34:06,945] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 01:34:06,945] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.106 (from index 53)
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 54
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@54
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=48:55, 当前值=11.8200
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.188571428571427
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.188571428571427
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 54, 值: 12.188571428571427
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[54] = 12.188571428571427
[2025-08-20 01:34:06,945] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 01:34:06,945] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 01:34:06,945] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.352857142857143 (from index 53)
[2025-08-20 01:34:06,946] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 01:34:06,946] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 01:34:06,946] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,946] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,946] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 01:34:06,946] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 01:34:06,946] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,946] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 01:34:06,946] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 01:34:06,946] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 01:34:06,946] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 01:34:06,947] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,947] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,947] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 55
[2025-08-20 01:34:06,947] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,947] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@55
[2025-08-20 01:34:06,947] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=51:56, 当前值=11.5300
[2025-08-20 01:34:06,947] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.732
[2025-08-20 01:34:06,947] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.732
[2025-08-20 01:34:06,947] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 55, 值: 11.732
[2025-08-20 01:34:06,947] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[55] = 11.732
[2025-08-20 01:34:06,947] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 01:34:06,947] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 01:34:06,947] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.895999999999999 (from index 54)
[2025-08-20 01:34:06,948] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,948] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 55
[2025-08-20 01:34:06,948] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,948] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@55
[2025-08-20 01:34:06,948] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=49:56, 当前值=11.5300
[2025-08-20 01:34:06,948] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.982857142857142
[2025-08-20 01:34:06,948] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.982857142857142
[2025-08-20 01:34:06,948] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 55, 值: 11.982857142857142
[2025-08-20 01:34:06,948] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[55] = 11.982857142857142
[2025-08-20 01:34:06,948] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 01:34:06,948] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 01:34:06,948] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.188571428571427 (from index 54)
[2025-08-20 01:34:06,948] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:34:06,948] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 01:34:06,948] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,948] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,949] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:34:06,949] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 01:34:06,949] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,949] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 01:34:06,949] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 01:34:06,949] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:34:06,949] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 01:34:06,949] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,949] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,949] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 56
[2025-08-20 01:34:06,949] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,949] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@56
[2025-08-20 01:34:06,949] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=52:57, 当前值=11.2400
[2025-08-20 01:34:06,949] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.544
[2025-08-20 01:34:06,949] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.544
[2025-08-20 01:34:06,949] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 56, 值: 11.544
[2025-08-20 01:34:06,949] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[56] = 11.544
[2025-08-20 01:34:06,949] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 01:34:06,950] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:34:06,950] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 55)
[2025-08-20 01:34:06,950] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,950] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 56
[2025-08-20 01:34:06,950] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,950] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@56
[2025-08-20 01:34:06,950] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=50:57, 当前值=11.2400
[2025-08-20 01:34:06,950] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.75
[2025-08-20 01:34:06,950] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.75
[2025-08-20 01:34:06,950] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 56, 值: 11.75
[2025-08-20 01:34:06,950] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[56] = 11.75
[2025-08-20 01:34:06,950] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 01:34:06,950] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 01:34:06,950] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.982857142857142 (from index 55)
[2025-08-20 01:34:06,950] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 01:34:06,950] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 01:34:06,950] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,950] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,950] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 01:34:06,950] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 01:34:06,951] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,951] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 01:34:06,951] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 01:34:06,951] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 01:34:06,951] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 01:34:06,951] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,951] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,951] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 57
[2025-08-20 01:34:06,951] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,951] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@57
[2025-08-20 01:34:06,951] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=53:58, 当前值=11.1200
[2025-08-20 01:34:06,951] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.443999999999999
[2025-08-20 01:34:06,951] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.443999999999999
[2025-08-20 01:34:06,951] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 57, 值: 11.443999999999999
[2025-08-20 01:34:06,951] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[57] = 11.443999999999999
[2025-08-20 01:34:06,952] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 01:34:06,952] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 01:34:06,952] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.544 (from index 56)
[2025-08-20 01:34:06,952] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,952] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 57
[2025-08-20 01:34:06,952] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,952] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@57
[2025-08-20 01:34:06,952] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=51:58, 当前值=11.1200
[2025-08-20 01:34:06,952] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.574285714285713
[2025-08-20 01:34:06,952] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.574285714285713
[2025-08-20 01:34:06,952] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 57, 值: 11.574285714285713
[2025-08-20 01:34:06,952] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[57] = 11.574285714285713
[2025-08-20 01:34:06,952] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 01:34:06,952] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 01:34:06,952] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.75 (from index 56)
[2025-08-20 01:34:06,952] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 01:34:06,953] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 01:34:06,953] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,953] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,953] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 01:34:06,953] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 01:34:06,953] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,953] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 01:34:06,953] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 01:34:06,953] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 01:34:06,953] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 01:34:06,953] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,953] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,953] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 58
[2025-08-20 01:34:06,953] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,953] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@58
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=54:59, 当前值=11.1500
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.372
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.372
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 58, 值: 11.372
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[58] = 11.372
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 01:34:06,954] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 01:34:06,954] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.443999999999999 (from index 57)
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 58
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@58
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=52:59, 当前值=11.1500
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.427142857142856
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.427142857142856
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 58, 值: 11.427142857142856
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[58] = 11.427142857142856
[2025-08-20 01:34:06,954] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 01:34:06,954] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 01:34:06,954] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.574285714285713 (from index 57)
[2025-08-20 01:34:06,954] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 01:34:06,955] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 01:34:06,955] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,955] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,955] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 01:34:06,955] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 01:34:06,955] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,955] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 01:34:06,955] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 01:34:06,955] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 01:34:06,955] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 01:34:06,955] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,955] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,955] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 59
[2025-08-20 01:34:06,955] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,955] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@59
[2025-08-20 01:34:06,955] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=55:60, 当前值=11.4000
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.288
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.288
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 59, 值: 11.288
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[59] = 11.288
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 01:34:06,956] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 01:34:06,956] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.372 (from index 58)
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 59
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@59
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=53:60, 当前值=11.4000
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.395714285714286
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.395714285714286
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 59, 值: 11.395714285714286
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[59] = 11.395714285714286
[2025-08-20 01:34:06,956] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 01:34:06,956] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 01:34:06,956] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.427142857142856 (from index 58)
[2025-08-20 01:34:06,956] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 01:34:06,957] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 01:34:06,957] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,957] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,957] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 01:34:06,957] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 01:34:06,957] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,957] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 01:34:06,957] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 01:34:06,957] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 01:34:06,957] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 01:34:06,957] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 60
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@60
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=56:61, 当前值=11.4600
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.274
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.274
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 60, 值: 11.274
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[60] = 11.274
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 01:34:06,958] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 01:34:06,958] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.288 (from index 59)
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 60
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@60
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=54:61, 当前值=11.4600
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.388571428571428
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.388571428571428
[2025-08-20 01:34:06,958] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 60, 值: 11.388571428571428
[2025-08-20 01:34:06,959] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[60] = 11.388571428571428
[2025-08-20 01:34:06,959] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 01:34:06,959] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 01:34:06,959] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.395714285714286 (from index 59)
[2025-08-20 01:34:06,960] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 01:34:06,960] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 01:34:06,960] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,960] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,960] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 01:34:06,960] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 01:34:06,960] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,960] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 01:34:06,960] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 01:34:06,961] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 01:34:06,961] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 01:34:06,961] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,961] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,961] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 61
[2025-08-20 01:34:06,961] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,961] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@61
[2025-08-20 01:34:06,961] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=57:62, 当前值=11.3000
[2025-08-20 01:34:06,961] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.286
[2025-08-20 01:34:06,961] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.286
[2025-08-20 01:34:06,961] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 61, 值: 11.286
[2025-08-20 01:34:06,961] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[61] = 11.286
[2025-08-20 01:34:06,961] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 01:34:06,961] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 01:34:06,961] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.274 (from index 60)
[2025-08-20 01:34:06,962] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,962] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 61
[2025-08-20 01:34:06,962] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,962] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@61
[2025-08-20 01:34:06,962] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=55:62, 当前值=11.3000
[2025-08-20 01:34:06,962] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.314285714285715
[2025-08-20 01:34:06,962] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.314285714285715
[2025-08-20 01:34:06,962] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 61, 值: 11.314285714285715
[2025-08-20 01:34:06,962] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[61] = 11.314285714285715
[2025-08-20 01:34:06,962] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 01:34:06,963] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 01:34:06,963] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.388571428571428 (from index 60)
[2025-08-20 01:34:06,963] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 01:34:06,963] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 01:34:06,963] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,963] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,963] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 01:34:06,963] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 01:34:06,963] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,963] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 01:34:06,964] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 01:34:06,964] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 01:34:06,964] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 01:34:06,964] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,964] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,964] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 62
[2025-08-20 01:34:06,964] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,964] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@62
[2025-08-20 01:34:06,964] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=58:63, 当前值=11.2600
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.314
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.314
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 62, 值: 11.314
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[62] = 11.314
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 61 (当前索引: 62, 回溯周期: 1)
[2025-08-20 01:34:06,965] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 01:34:06,965] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.286 (from index 61)
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 62
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@62
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=56:63, 当前值=11.2600
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.275714285714287
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.275714285714287
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 62, 值: 11.275714285714287
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[62] = 11.275714285714287
[2025-08-20 01:34:06,965] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 61 (当前索引: 62, 回溯周期: 1)
[2025-08-20 01:34:06,965] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 01:34:06,965] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.314285714285715 (from index 61)
[2025-08-20 01:34:06,965] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.314
[2025-08-20 01:34:06,965] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.275714285714287
[2025-08-20 01:34:06,966] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:34:06,966] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:34:06,966] [DEBUG] [backtesting:306] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 01:34:06,966] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:06,966] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,966] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 63
[2025-08-20 01:34:06,966] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,966] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@63
[2025-08-20 01:34:06,966] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=59:64, 当前值=10.8600
[2025-08-20 01:34:06,966] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.256
[2025-08-20 01:34:06,966] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.256
[2025-08-20 01:34:06,966] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 63, 值: 11.256
[2025-08-20 01:34:06,966] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[63] = 11.256
[2025-08-20 01:34:06,966] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 01:34:06,966] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.314
[2025-08-20 01:34:06,966] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.314 (from index 62)
[2025-08-20 01:34:06,967] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,967] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 63
[2025-08-20 01:34:06,967] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,967] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@63
[2025-08-20 01:34:06,967] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=57:64, 当前值=10.8600
[2025-08-20 01:34:06,967] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.221428571428572
[2025-08-20 01:34:06,967] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.221428571428572
[2025-08-20 01:34:06,967] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 63, 值: 11.221428571428572
[2025-08-20 01:34:06,967] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[63] = 11.221428571428572
[2025-08-20 01:34:06,967] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 01:34:06,967] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.275714285714287
[2025-08-20 01:34:06,967] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.275714285714287 (from index 62)
[2025-08-20 01:34:06,967] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 01:34:06,967] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 01:34:06,967] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,967] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,968] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 01:34:06,968] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 01:34:06,968] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,968] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 01:34:06,968] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 01:34:06,968] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 01:34:06,968] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 01:34:06,968] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,968] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,968] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 64
[2025-08-20 01:34:06,968] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,968] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@64
[2025-08-20 01:34:06,968] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=60:65, 当前值=11.1900
[2025-08-20 01:34:06,968] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.214
[2025-08-20 01:34:06,968] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.214
[2025-08-20 01:34:06,969] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 64, 值: 11.214
[2025-08-20 01:34:06,969] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[64] = 11.214
[2025-08-20 01:34:06,969] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 01:34:06,969] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 01:34:06,969] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.256 (from index 63)
[2025-08-20 01:34:06,969] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,969] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 64
[2025-08-20 01:34:06,969] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,969] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@64
[2025-08-20 01:34:06,969] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=58:65, 当前值=11.1900
[2025-08-20 01:34:06,969] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.231428571428571
[2025-08-20 01:34:06,969] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.231428571428571
[2025-08-20 01:34:06,969] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 64, 值: 11.231428571428571
[2025-08-20 01:34:06,969] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[64] = 11.231428571428571
[2025-08-20 01:34:06,969] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 01:34:06,969] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 01:34:06,969] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.221428571428572 (from index 63)
[2025-08-20 01:34:06,969] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:34:06,969] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 01:34:06,969] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,969] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,970] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:34:06,970] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 01:34:06,970] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,970] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 01:34:06,970] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 01:34:06,970] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:34:06,970] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 01:34:06,970] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:34:06,970] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:34:06,970] [DEBUG] [backtesting:306] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 01:34:06,970] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:06,970] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 65
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@65
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=61:66, 当前值=11.3700
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.196
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.196
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 65, 值: 11.196
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[65] = 11.196
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 01:34:06,971] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:34:06,971] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 64)
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 65
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@65
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=59:66, 当前值=11.3700
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.262857142857143
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.262857142857143
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 65, 值: 11.262857142857143
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[65] = 11.262857142857143
[2025-08-20 01:34:06,971] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 01:34:06,972] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 01:34:06,972] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.231428571428571 (from index 64)
[2025-08-20 01:34:06,972] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 01:34:06,972] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 01:34:06,972] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,972] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,973] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 01:34:06,973] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 01:34:06,973] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,973] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 01:34:06,973] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 01:34:06,973] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 01:34:06,973] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 01:34:06,973] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,973] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,973] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 66
[2025-08-20 01:34:06,973] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,973] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@66
[2025-08-20 01:34:06,973] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=62:67, 当前值=11.4200
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.22
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.22
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 66, 值: 11.22
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[66] = 11.22
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 01:34:06,974] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 01:34:06,974] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.196 (from index 65)
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 66
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@66
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=60:67, 当前值=11.4200
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.265714285714285
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.265714285714285
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 66, 值: 11.265714285714285
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[66] = 11.265714285714285
[2025-08-20 01:34:06,974] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 01:34:06,974] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 01:34:06,974] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.262857142857143 (from index 65)
[2025-08-20 01:34:06,974] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 01:34:06,974] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 01:34:06,975] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,975] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,975] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 01:34:06,975] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 01:34:06,975] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,975] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 01:34:06,975] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 01:34:06,975] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 01:34:06,975] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 01:34:06,975] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,976] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,976] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 67
[2025-08-20 01:34:06,976] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,976] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@67
[2025-08-20 01:34:06,976] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=63:68, 当前值=11.2300
[2025-08-20 01:34:06,976] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.214
[2025-08-20 01:34:06,976] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.214
[2025-08-20 01:34:06,976] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 67, 值: 11.214
[2025-08-20 01:34:06,976] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[67] = 11.214
[2025-08-20 01:34:06,976] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 01:34:06,976] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 01:34:06,977] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.22 (from index 66)
[2025-08-20 01:34:06,977] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,977] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 67
[2025-08-20 01:34:06,977] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,977] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@67
[2025-08-20 01:34:06,977] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=61:68, 当前值=11.2300
[2025-08-20 01:34:06,977] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.232857142857142
[2025-08-20 01:34:06,977] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.232857142857142
[2025-08-20 01:34:06,978] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 67, 值: 11.232857142857142
[2025-08-20 01:34:06,978] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[67] = 11.232857142857142
[2025-08-20 01:34:06,978] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 01:34:06,978] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 01:34:06,978] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.265714285714285 (from index 66)
[2025-08-20 01:34:06,979] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:34:06,979] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 01:34:06,979] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,979] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,979] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:34:06,979] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 01:34:06,979] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,979] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 01:34:06,979] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 01:34:06,979] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:34:06,979] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 01:34:06,979] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,979] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 68
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@68
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=64:69, 当前值=11.3000
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.302
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.302
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 68, 值: 11.302
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[68] = 11.302
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 67 (当前索引: 68, 回溯周期: 1)
[2025-08-20 01:34:06,980] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:34:06,980] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 67)
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 68
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@68
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=62:69, 当前值=11.3000
[2025-08-20 01:34:06,980] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.232857142857142
[2025-08-20 01:34:06,981] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.232857142857142
[2025-08-20 01:34:06,981] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 68, 值: 11.232857142857142
[2025-08-20 01:34:06,981] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[68] = 11.232857142857142
[2025-08-20 01:34:06,981] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 67 (当前索引: 68, 回溯周期: 1)
[2025-08-20 01:34:06,981] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 01:34:06,981] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 67)
[2025-08-20 01:34:06,981] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.302
[2025-08-20 01:34:06,981] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 01:34:06,981] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:34:06,981] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:34:06,981] [DEBUG] [backtesting:306] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 01:34:06,981] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:06,981] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 69
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@69
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=65:70, 当前值=11.8900
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.442
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.442
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 69, 值: 11.442
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[69] = 11.442
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 01:34:06,982] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.302
[2025-08-20 01:34:06,982] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.302 (from index 68)
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 69
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@69
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=63:70, 当前值=11.8900
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.322857142857144
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.322857142857144
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 69, 值: 11.322857142857144
[2025-08-20 01:34:06,982] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[69] = 11.322857142857144
[2025-08-20 01:34:06,983] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 01:34:06,983] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 01:34:06,983] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 68)
[2025-08-20 01:34:06,983] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 01:34:06,983] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 01:34:06,983] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,983] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,983] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 01:34:06,983] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 01:34:06,983] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,983] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 01:34:06,983] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 01:34:06,983] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 01:34:06,983] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 01:34:06,983] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 70
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@70
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=66:71, 当前值=10.7000
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.308
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.308
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 70, 值: 11.308
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[70] = 11.308
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 01:34:06,984] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 01:34:06,984] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.442 (from index 69)
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 70
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@70
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=64:71, 当前值=10.7000
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.299999999999999
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.299999999999999
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 70, 值: 11.299999999999999
[2025-08-20 01:34:06,984] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[70] = 11.299999999999999
[2025-08-20 01:34:06,985] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 01:34:06,985] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 01:34:06,985] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.322857142857144 (from index 69)
[2025-08-20 01:34:06,985] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 01:34:06,985] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 01:34:06,985] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,985] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,985] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 01:34:06,985] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 01:34:06,985] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,985] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 01:34:06,985] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 01:34:06,985] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 01:34:06,985] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 01:34:06,985] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 71
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@71
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=67:72, 当前值=9.9300
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.01
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.01
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 71, 值: 11.01
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[71] = 11.01
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 01:34:06,986] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 01:34:06,986] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.308 (from index 70)
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 71
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@71
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=65:72, 当前值=9.9300
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.120000000000001
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.120000000000001
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 71, 值: 11.120000000000001
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[71] = 11.120000000000001
[2025-08-20 01:34:06,986] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 01:34:06,987] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 01:34:06,987] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.299999999999999 (from index 70)
[2025-08-20 01:34:06,987] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 01:34:06,987] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 01:34:06,987] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,988] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,988] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 01:34:06,988] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 01:34:06,988] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,988] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 01:34:06,988] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 01:34:06,988] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 01:34:06,988] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 01:34:06,988] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:34:06,989] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:34:06,989] [DEBUG] [backtesting:306] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 01:34:06,989] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:06,989] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,989] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 72
[2025-08-20 01:34:06,989] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,989] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@72
[2025-08-20 01:34:06,989] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=68:73, 当前值=9.8900
[2025-08-20 01:34:06,989] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.742
[2025-08-20 01:34:06,989] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.742
[2025-08-20 01:34:06,989] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 72, 值: 10.742
[2025-08-20 01:34:06,989] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[72] = 10.742
[2025-08-20 01:34:06,989] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 01:34:06,989] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 01:34:06,989] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.01 (from index 71)
[2025-08-20 01:34:06,989] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,990] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 72
[2025-08-20 01:34:06,990] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,990] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@72
[2025-08-20 01:34:06,990] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=66:73, 当前值=9.8900
[2025-08-20 01:34:06,990] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.90857142857143
[2025-08-20 01:34:06,990] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.90857142857143
[2025-08-20 01:34:06,990] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 72, 值: 10.90857142857143
[2025-08-20 01:34:06,990] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[72] = 10.90857142857143
[2025-08-20 01:34:06,990] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 01:34:06,990] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 01:34:06,990] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.120000000000001 (from index 71)
[2025-08-20 01:34:06,990] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 01:34:06,990] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 01:34:06,990] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,990] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,990] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 01:34:06,990] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 01:34:06,990] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,990] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 01:34:06,990] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 01:34:06,991] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 01:34:06,991] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 01:34:06,991] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,991] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,991] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 73
[2025-08-20 01:34:06,991] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,991] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@73
[2025-08-20 01:34:06,991] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=69:74, 当前值=9.7500
[2025-08-20 01:34:06,991] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.431999999999999
[2025-08-20 01:34:06,991] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.431999999999999
[2025-08-20 01:34:06,991] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 73, 值: 10.431999999999999
[2025-08-20 01:34:06,991] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[73] = 10.431999999999999
[2025-08-20 01:34:06,991] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 01:34:06,991] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 01:34:06,991] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.742 (from index 72)
[2025-08-20 01:34:06,992] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,992] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 73
[2025-08-20 01:34:06,992] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,992] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@73
[2025-08-20 01:34:06,992] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=67:74, 当前值=9.7500
[2025-08-20 01:34:06,993] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.67
[2025-08-20 01:34:06,993] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.67
[2025-08-20 01:34:06,993] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 73, 值: 10.67
[2025-08-20 01:34:06,993] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[73] = 10.67
[2025-08-20 01:34:06,993] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 01:34:06,993] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 01:34:06,993] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.90857142857143 (from index 72)
[2025-08-20 01:34:06,993] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 01:34:06,993] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 01:34:06,993] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,993] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,993] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 01:34:06,993] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 01:34:06,993] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,994] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 01:34:06,994] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 01:34:06,994] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 01:34:06,994] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 01:34:06,994] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,994] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,994] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 74
[2025-08-20 01:34:06,994] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,994] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@74
[2025-08-20 01:34:06,994] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=70:75, 当前值=9.8500
[2025-08-20 01:34:06,994] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.024
[2025-08-20 01:34:06,994] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.024
[2025-08-20 01:34:06,994] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 74, 值: 10.024
[2025-08-20 01:34:06,994] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[74] = 10.024
[2025-08-20 01:34:06,994] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 01:34:06,995] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 01:34:06,995] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.431999999999999 (from index 73)
[2025-08-20 01:34:06,995] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,995] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 74
[2025-08-20 01:34:06,995] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,995] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@74
[2025-08-20 01:34:06,995] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=68:75, 当前值=9.8500
[2025-08-20 01:34:06,995] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.472857142857142
[2025-08-20 01:34:06,995] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.472857142857142
[2025-08-20 01:34:06,995] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 74, 值: 10.472857142857142
[2025-08-20 01:34:06,995] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[74] = 10.472857142857142
[2025-08-20 01:34:06,995] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 01:34:06,995] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 01:34:06,995] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.67 (from index 73)
[2025-08-20 01:34:06,995] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 01:34:06,995] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 01:34:06,995] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,995] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,996] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 01:34:06,996] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 01:34:06,996] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,996] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 01:34:06,996] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 01:34:06,996] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 01:34:06,996] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 01:34:06,996] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,996] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,996] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 75
[2025-08-20 01:34:06,996] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,996] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@75
[2025-08-20 01:34:06,996] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=71:76, 当前值=9.9400
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.872
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.872
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 75, 值: 9.872
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[75] = 9.872
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 01:34:06,997] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 01:34:06,997] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.024 (from index 74)
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 75
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@75
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=69:76, 当前值=9.9400
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.278571428571428
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.278571428571428
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 75, 值: 10.278571428571428
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[75] = 10.278571428571428
[2025-08-20 01:34:06,997] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 01:34:06,997] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 01:34:06,997] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.472857142857142 (from index 74)
[2025-08-20 01:34:06,998] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:34:06,998] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 01:34:06,998] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:06,998] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,998] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:34:06,998] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 01:34:06,998] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,998] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 01:34:06,998] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 01:34:06,998] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:34:06,998] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 01:34:06,998] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 76
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@76
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=72:77, 当前值=9.9300
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.872
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.872
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 76, 值: 9.872
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[76] = 9.872
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 01:34:06,999] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:34:06,999] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 75)
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 76
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@76
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=70:77, 当前值=9.9300
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.998571428571427
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.998571428571427
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 76, 值: 9.998571428571427
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[76] = 9.998571428571427
[2025-08-20 01:34:06,999] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 01:34:06,999] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 01:34:06,999] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.278571428571428 (from index 75)
[2025-08-20 01:34:07,000] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:34:07,000] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 01:34:07,000] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,000] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,000] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:34:07,000] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 01:34:07,000] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,000] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 01:34:07,000] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 01:34:07,000] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:34:07,000] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 01:34:07,000] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 77
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@77
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=73:78, 当前值=9.8100
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.856
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.856
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 77, 值: 9.856
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[77] = 9.856
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 01:34:07,001] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:34:07,001] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 76)
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 77
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@77
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=71:78, 当前值=9.8100
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.87142857142857
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.87142857142857
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 77, 值: 9.87142857142857
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[77] = 9.87142857142857
[2025-08-20 01:34:07,001] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 01:34:07,002] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 01:34:07,002] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.998571428571427 (from index 76)
[2025-08-20 01:34:07,002] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 01:34:07,002] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 01:34:07,002] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,002] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,002] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 01:34:07,002] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 01:34:07,002] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,002] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 01:34:07,002] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 01:34:07,003] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 01:34:07,003] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 01:34:07,003] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,003] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,003] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 78
[2025-08-20 01:34:07,003] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,003] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@78
[2025-08-20 01:34:07,003] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=74:79, 当前值=9.7700
[2025-08-20 01:34:07,003] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.86
[2025-08-20 01:34:07,003] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.86
[2025-08-20 01:34:07,003] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 78, 值: 9.86
[2025-08-20 01:34:07,003] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[78] = 9.86
[2025-08-20 01:34:07,003] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 77 (当前索引: 78, 回溯周期: 1)
[2025-08-20 01:34:07,003] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 01:34:07,003] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.856 (from index 77)
[2025-08-20 01:34:07,003] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,004] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 78
[2025-08-20 01:34:07,004] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,004] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@78
[2025-08-20 01:34:07,004] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=72:79, 当前值=9.7700
[2025-08-20 01:34:07,004] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.848571428571429
[2025-08-20 01:34:07,004] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.848571428571429
[2025-08-20 01:34:07,004] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 78, 值: 9.848571428571429
[2025-08-20 01:34:07,004] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[78] = 9.848571428571429
[2025-08-20 01:34:07,004] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 77 (当前索引: 78, 回溯周期: 1)
[2025-08-20 01:34:07,004] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 01:34:07,004] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.87142857142857 (from index 77)
[2025-08-20 01:34:07,004] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 01:34:07,004] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.848571428571429
[2025-08-20 01:34:07,004] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:34:07,004] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:34:07,004] [DEBUG] [backtesting:306] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 01:34:07,005] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 79
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@79
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=75:80, 当前值=9.8500
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.86
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.86
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 79, 值: 9.86
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[79] = 9.86
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 01:34:07,005] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 01:34:07,005] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 78)
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 79
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@79
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=73:80, 当前值=9.8500
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.842857142857143
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.842857142857143
[2025-08-20 01:34:07,005] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 79, 值: 9.842857142857143
[2025-08-20 01:34:07,006] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[79] = 9.842857142857143
[2025-08-20 01:34:07,006] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 01:34:07,006] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.848571428571429
[2025-08-20 01:34:07,006] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.848571428571429 (from index 78)
[2025-08-20 01:34:07,006] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 01:34:07,006] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 01:34:07,006] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,006] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,006] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 01:34:07,006] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 01:34:07,006] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,006] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 01:34:07,006] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 01:34:07,006] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 01:34:07,007] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 01:34:07,007] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,007] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,007] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 80
[2025-08-20 01:34:07,007] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,007] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@80
[2025-08-20 01:34:07,007] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=76:81, 当前值=9.7200
[2025-08-20 01:34:07,007] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.815999999999999
[2025-08-20 01:34:07,007] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.815999999999999
[2025-08-20 01:34:07,007] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 80, 值: 9.815999999999999
[2025-08-20 01:34:07,007] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[80] = 9.815999999999999
[2025-08-20 01:34:07,007] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 01:34:07,007] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 01:34:07,007] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 79)
[2025-08-20 01:34:07,007] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,007] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 80
[2025-08-20 01:34:07,007] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,007] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@80
[2025-08-20 01:34:07,008] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=74:81, 当前值=9.7200
[2025-08-20 01:34:07,008] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.838571428571429
[2025-08-20 01:34:07,008] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.838571428571429
[2025-08-20 01:34:07,008] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 80, 值: 9.838571428571429
[2025-08-20 01:34:07,008] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[80] = 9.838571428571429
[2025-08-20 01:34:07,008] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 01:34:07,008] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 01:34:07,008] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.842857142857143 (from index 79)
[2025-08-20 01:34:07,008] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 01:34:07,008] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 01:34:07,008] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,008] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,008] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 01:34:07,008] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 01:34:07,008] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,009] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 01:34:07,009] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 01:34:07,009] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 01:34:07,009] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 01:34:07,009] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:34:07,010] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:34:07,010] [DEBUG] [backtesting:306] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 01:34:07,010] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:07,010] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,010] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 81
[2025-08-20 01:34:07,010] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,010] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@81
[2025-08-20 01:34:07,010] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=77:82, 当前值=9.7100
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.772
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.772
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 81, 值: 9.772
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[81] = 9.772
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 01:34:07,011] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 01:34:07,011] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.815999999999999 (from index 80)
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 81
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@81
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=75:82, 当前值=9.7100
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.81857142857143
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.81857142857143
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 81, 值: 9.81857142857143
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[81] = 9.81857142857143
[2025-08-20 01:34:07,011] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 01:34:07,011] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 01:34:07,011] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.838571428571429 (from index 80)
[2025-08-20 01:34:07,011] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 01:34:07,012] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 01:34:07,012] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,012] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,012] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 01:34:07,012] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 01:34:07,012] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,012] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 01:34:07,012] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 01:34:07,012] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 01:34:07,012] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 01:34:07,013] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,013] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,013] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 82
[2025-08-20 01:34:07,013] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,013] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@82
[2025-08-20 01:34:07,013] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=78:83, 当前值=9.6000
[2025-08-20 01:34:07,013] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.73
[2025-08-20 01:34:07,013] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.73
[2025-08-20 01:34:07,013] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 82, 值: 9.73
[2025-08-20 01:34:07,013] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[82] = 9.73
[2025-08-20 01:34:07,013] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 01:34:07,013] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 01:34:07,013] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.772 (from index 81)
[2025-08-20 01:34:07,013] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,013] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 82
[2025-08-20 01:34:07,013] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,013] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@82
[2025-08-20 01:34:07,014] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=76:83, 当前值=9.6000
[2025-08-20 01:34:07,014] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.77
[2025-08-20 01:34:07,014] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.77
[2025-08-20 01:34:07,014] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 82, 值: 9.77
[2025-08-20 01:34:07,014] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[82] = 9.77
[2025-08-20 01:34:07,014] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 01:34:07,014] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 01:34:07,014] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.81857142857143 (from index 81)
[2025-08-20 01:34:07,014] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 01:34:07,014] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 01:34:07,014] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,014] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,014] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 01:34:07,014] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 01:34:07,014] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,014] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 01:34:07,014] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 01:34:07,015] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 01:34:07,015] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 01:34:07,015] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 83
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@83
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=79:84, 当前值=9.5900
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.693999999999999
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.693999999999999
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 83, 值: 9.693999999999999
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[83] = 9.693999999999999
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 01:34:07,015] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 01:34:07,015] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.73 (from index 82)
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 83
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@83
[2025-08-20 01:34:07,015] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=77:84, 当前值=9.5900
[2025-08-20 01:34:07,016] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.721428571428572
[2025-08-20 01:34:07,016] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.721428571428572
[2025-08-20 01:34:07,016] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 83, 值: 9.721428571428572
[2025-08-20 01:34:07,016] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[83] = 9.721428571428572
[2025-08-20 01:34:07,016] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 01:34:07,016] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 01:34:07,016] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.77 (from index 82)
[2025-08-20 01:34:07,016] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 01:34:07,016] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 01:34:07,016] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,016] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,016] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 01:34:07,016] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 01:34:07,016] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,016] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 01:34:07,016] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 01:34:07,017] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 01:34:07,017] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 01:34:07,017] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,017] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,017] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 84
[2025-08-20 01:34:07,017] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,017] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@84
[2025-08-20 01:34:07,017] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=80:85, 当前值=9.9400
[2025-08-20 01:34:07,017] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.712
[2025-08-20 01:34:07,017] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.712
[2025-08-20 01:34:07,017] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 84, 值: 9.712
[2025-08-20 01:34:07,017] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[84] = 9.712
[2025-08-20 01:34:07,017] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 01:34:07,017] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 01:34:07,017] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.693999999999999 (from index 83)
[2025-08-20 01:34:07,017] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,017] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 84
[2025-08-20 01:34:07,018] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,018] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@84
[2025-08-20 01:34:07,018] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=78:85, 当前值=9.9400
[2025-08-20 01:34:07,018] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.74
[2025-08-20 01:34:07,018] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.74
[2025-08-20 01:34:07,018] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 84, 值: 9.74
[2025-08-20 01:34:07,018] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[84] = 9.74
[2025-08-20 01:34:07,018] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 01:34:07,018] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 01:34:07,018] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.721428571428572 (from index 83)
[2025-08-20 01:34:07,018] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 01:34:07,018] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 01:34:07,018] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,018] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,018] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 01:34:07,018] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 01:34:07,018] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,018] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 01:34:07,018] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 01:34:07,019] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 01:34:07,019] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 01:34:07,019] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 85
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@85
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=81:86, 当前值=9.8000
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.728
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.728
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 85, 值: 9.728
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[85] = 9.728
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 01:34:07,019] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 01:34:07,019] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.712 (from index 84)
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 85
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@85
[2025-08-20 01:34:07,019] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=79:86, 当前值=9.8000
[2025-08-20 01:34:07,020] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.744285714285713
[2025-08-20 01:34:07,020] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.744285714285713
[2025-08-20 01:34:07,020] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 85, 值: 9.744285714285713
[2025-08-20 01:34:07,020] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[85] = 9.744285714285713
[2025-08-20 01:34:07,020] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 01:34:07,020] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 01:34:07,020] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.74 (from index 84)
[2025-08-20 01:34:07,020] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 01:34:07,020] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 01:34:07,020] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,020] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,020] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 01:34:07,020] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 01:34:07,020] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,020] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 01:34:07,020] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 01:34:07,020] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 01:34:07,021] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 01:34:07,021] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 86
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@86
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=82:87, 当前值=9.8800
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.762
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.762
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 86, 值: 9.762
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[86] = 9.762
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 85 (当前索引: 86, 回溯周期: 1)
[2025-08-20 01:34:07,021] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 01:34:07,021] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.728 (from index 85)
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 86
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@86
[2025-08-20 01:34:07,021] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=80:87, 当前值=9.8800
[2025-08-20 01:34:07,022] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.748571428571427
[2025-08-20 01:34:07,022] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.748571428571427
[2025-08-20 01:34:07,022] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 86, 值: 9.748571428571427
[2025-08-20 01:34:07,022] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[86] = 9.748571428571427
[2025-08-20 01:34:07,022] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 85 (当前索引: 86, 回溯周期: 1)
[2025-08-20 01:34:07,022] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 01:34:07,022] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.744285714285713 (from index 85)
[2025-08-20 01:34:07,022] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.762
[2025-08-20 01:34:07,022] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.748571428571427
[2025-08-20 01:34:07,022] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:34:07,022] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:34:07,023] [DEBUG] [backtesting:306] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 01:34:07,023] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 87
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@87
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=83:88, 当前值=10.8700
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.016
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.016
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 87, 值: 10.016
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[87] = 10.016
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 01:34:07,023] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.762
[2025-08-20 01:34:07,023] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.762 (from index 86)
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 87
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@87
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=81:88, 当前值=10.8700
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.912857142857144
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.912857142857144
[2025-08-20 01:34:07,023] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 87, 值: 9.912857142857144
[2025-08-20 01:34:07,024] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[87] = 9.912857142857144
[2025-08-20 01:34:07,024] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 01:34:07,024] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.748571428571427
[2025-08-20 01:34:07,024] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.748571428571427 (from index 86)
[2025-08-20 01:34:07,024] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 01:34:07,024] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 01:34:07,024] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,024] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,024] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 01:34:07,024] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 01:34:07,024] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,024] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 01:34:07,024] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 01:34:07,024] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 01:34:07,024] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 01:34:07,025] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,025] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,025] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 88
[2025-08-20 01:34:07,025] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,025] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@88
[2025-08-20 01:34:07,025] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=84:89, 当前值=11.2400
[2025-08-20 01:34:07,025] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.346
[2025-08-20 01:34:07,025] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.346
[2025-08-20 01:34:07,025] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 88, 值: 10.346
[2025-08-20 01:34:07,025] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[88] = 10.346
[2025-08-20 01:34:07,025] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 01:34:07,026] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 01:34:07,026] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.016 (from index 87)
[2025-08-20 01:34:07,026] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,026] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 88
[2025-08-20 01:34:07,026] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,026] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@88
[2025-08-20 01:34:07,026] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=82:89, 当前值=11.2400
[2025-08-20 01:34:07,026] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.131428571428572
[2025-08-20 01:34:07,026] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.131428571428572
[2025-08-20 01:34:07,026] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 88, 值: 10.131428571428572
[2025-08-20 01:34:07,027] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[88] = 10.131428571428572
[2025-08-20 01:34:07,027] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 01:34:07,027] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 01:34:07,027] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.912857142857144 (from index 87)
[2025-08-20 01:34:07,027] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 01:34:07,027] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 01:34:07,027] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,027] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,027] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 01:34:07,027] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 01:34:07,027] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,027] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 01:34:07,027] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 01:34:07,028] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 01:34:07,028] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 01:34:07,028] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,028] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,028] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 89
[2025-08-20 01:34:07,028] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,028] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@89
[2025-08-20 01:34:07,028] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=85:90, 当前值=10.8900
[2025-08-20 01:34:07,028] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.536
[2025-08-20 01:34:07,028] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.536
[2025-08-20 01:34:07,028] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 89, 值: 10.536
[2025-08-20 01:34:07,028] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[89] = 10.536
[2025-08-20 01:34:07,028] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 01:34:07,028] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 01:34:07,028] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.346 (from index 88)
[2025-08-20 01:34:07,028] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,028] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 89
[2025-08-20 01:34:07,029] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,029] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@89
[2025-08-20 01:34:07,029] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=83:90, 当前值=10.8900
[2025-08-20 01:34:07,029] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.315714285714284
[2025-08-20 01:34:07,029] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.315714285714284
[2025-08-20 01:34:07,029] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 89, 值: 10.315714285714284
[2025-08-20 01:34:07,029] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[89] = 10.315714285714284
[2025-08-20 01:34:07,029] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 01:34:07,029] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 01:34:07,029] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.131428571428572 (from index 88)
[2025-08-20 01:34:07,029] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 01:34:07,029] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 01:34:07,029] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,030] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,030] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 01:34:07,030] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 01:34:07,030] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,030] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 01:34:07,030] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 01:34:07,030] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 01:34:07,030] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 01:34:07,030] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,030] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,030] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 90
[2025-08-20 01:34:07,030] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,030] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@90
[2025-08-20 01:34:07,030] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=86:91, 当前值=10.9600
[2025-08-20 01:34:07,030] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.768
[2025-08-20 01:34:07,030] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.768
[2025-08-20 01:34:07,031] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 90, 值: 10.768
[2025-08-20 01:34:07,031] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[90] = 10.768
[2025-08-20 01:34:07,031] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 01:34:07,031] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 01:34:07,031] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.536 (from index 89)
[2025-08-20 01:34:07,031] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,031] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 90
[2025-08-20 01:34:07,031] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,031] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@90
[2025-08-20 01:34:07,031] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=84:91, 当前值=10.9600
[2025-08-20 01:34:07,031] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.51142857142857
[2025-08-20 01:34:07,031] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.51142857142857
[2025-08-20 01:34:07,031] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 90, 值: 10.51142857142857
[2025-08-20 01:34:07,031] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[90] = 10.51142857142857
[2025-08-20 01:34:07,031] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 01:34:07,031] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 01:34:07,031] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.315714285714284 (from index 89)
[2025-08-20 01:34:07,031] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 01:34:07,031] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 01:34:07,031] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,032] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,032] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 01:34:07,032] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 01:34:07,032] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,032] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 01:34:07,032] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 01:34:07,032] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 01:34:07,032] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 01:34:07,032] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,032] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,032] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 91
[2025-08-20 01:34:07,032] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@91
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=87:92, 当前值=10.6400
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.92
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.92
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 91, 值: 10.92
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[91] = 10.92
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 01:34:07,033] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 01:34:07,033] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.768 (from index 90)
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 91
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@91
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=85:92, 当前值=10.6400
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.611428571428572
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.611428571428572
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 91, 值: 10.611428571428572
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[91] = 10.611428571428572
[2025-08-20 01:34:07,033] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 01:34:07,033] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 01:34:07,033] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.51142857142857 (from index 90)
[2025-08-20 01:34:07,033] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 01:34:07,033] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 01:34:07,034] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,034] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,034] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 01:34:07,034] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 01:34:07,034] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,034] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 01:34:07,034] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 01:34:07,034] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 01:34:07,034] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 01:34:07,034] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,034] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,034] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 92
[2025-08-20 01:34:07,034] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,034] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@92
[2025-08-20 01:34:07,034] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=88:93, 当前值=10.2700
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.8
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.8
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 92, 值: 10.8
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[92] = 10.8
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 01:34:07,035] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 01:34:07,035] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.92 (from index 91)
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 92
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@92
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=86:93, 当前值=10.2700
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.678571428571429
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.678571428571429
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 92, 值: 10.678571428571429
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[92] = 10.678571428571429
[2025-08-20 01:34:07,035] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 01:34:07,035] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 01:34:07,035] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.611428571428572 (from index 91)
[2025-08-20 01:34:07,035] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 01:34:07,035] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 01:34:07,035] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,036] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,036] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 01:34:07,036] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 01:34:07,036] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,036] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 01:34:07,036] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 01:34:07,036] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 01:34:07,036] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 01:34:07,036] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,036] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,036] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 93
[2025-08-20 01:34:07,036] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,036] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@93
[2025-08-20 01:34:07,036] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=89:94, 当前值=10.3000
[2025-08-20 01:34:07,037] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.612
[2025-08-20 01:34:07,037] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.612
[2025-08-20 01:34:07,037] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 93, 值: 10.612
[2025-08-20 01:34:07,037] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[93] = 10.612
[2025-08-20 01:34:07,037] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 01:34:07,037] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 01:34:07,037] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.8 (from index 92)
[2025-08-20 01:34:07,037] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,037] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 93
[2025-08-20 01:34:07,037] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,038] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@93
[2025-08-20 01:34:07,038] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=87:94, 当前值=10.3000
[2025-08-20 01:34:07,038] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.73857142857143
[2025-08-20 01:34:07,038] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.73857142857143
[2025-08-20 01:34:07,038] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 93, 值: 10.73857142857143
[2025-08-20 01:34:07,038] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[93] = 10.73857142857143
[2025-08-20 01:34:07,038] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 01:34:07,038] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 01:34:07,038] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.678571428571429 (from index 92)
[2025-08-20 01:34:07,038] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 01:34:07,038] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 01:34:07,038] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,038] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,038] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 01:34:07,038] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 01:34:07,039] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,039] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 01:34:07,039] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 01:34:07,039] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 01:34:07,039] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 01:34:07,039] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:34:07,039] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:34:07,039] [DEBUG] [backtesting:306] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 01:34:07,039] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:34:07,039] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,039] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 94
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@94
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=90:95, 当前值=10.2800
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.49
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.49
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 94, 值: 10.49
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[94] = 10.49
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 01:34:07,040] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 01:34:07,040] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.612 (from index 93)
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 94
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@94
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=88:95, 当前值=10.2800
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.654285714285715
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.654285714285715
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 94, 值: 10.654285714285715
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[94] = 10.654285714285715
[2025-08-20 01:34:07,040] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 01:34:07,040] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 01:34:07,040] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.73857142857143 (from index 93)
[2025-08-20 01:34:07,040] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 01:34:07,040] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 01:34:07,041] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:34:07,041] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:34:07,041] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 01:34:07,041] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 01:34:07,041] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:34:07,041] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 01:34:07,041] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 01:34:07,041] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 01:34:07,041] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 01:34:07,041] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:34:07,041] [DEBUG] [backtesting:262] [conn:N/A] 回测完成
[2025-08-20 01:34:07,043] [DEBUG] [backtesting:285] [conn:N/A] 回测完成！
[2025-08-20 01:54:37,716] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 01:54:37,716] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 01:54:37,716] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 01:54:37,896] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 01:54:37,912] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 01:54:37,957] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 01:54:37,972] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 01:54:37,972] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 01:54:37,972] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 01:54:37,978] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 01:54:37,978] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 01:54:37,978] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 01:54:37,978] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 01:54:37,979] [DEBUG] [backtesting:481] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 01:54:37,980] [DEBUG] [backtesting:506] [conn:N/A] 注册策略调度处理器: f3065d48-166c-4349-959b-b643573389b5
[2025-08-20 01:54:37,980] [INFO] [backtesting:509] [conn:N/A] 策略注册成功 | ID: f3065d48-166c-4349-959b-b643573389b5 | 名称: 自定义规则策略
[2025-08-20 01:54:37,980] [DEBUG] [backtesting:282] [conn:N/A] 开始回测...
[2025-08-20 01:54:37,980] [DEBUG] [backtesting:209] [conn:N/A] 识别数据频率为：日线
[2025-08-20 01:54:37,982] [DEBUG] [backtesting:235] [conn:N/A] 开始回测...
[2025-08-20 01:54:37,982] [INFO] [backtesting:556] [conn:N/A] 回测系统初始化开始
[2025-08-20 01:54:37,982] [INFO] [backtesting:568] [conn:N/A] 策略初始化完成: f3065d48-166c-4349-959b-b643573389b5
[2025-08-20 01:54:37,982] [INFO] [backtesting:586] [conn:N/A] 回测系统初始化完成
[2025-08-20 01:54:37,982] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:37,982] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:54:37,982] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,982] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 01:54:37,982] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 01:54:37,982] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:54:37,982] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,982] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 01:54:37,983] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 01:54:37,983] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:37,983] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:54:37,983] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,983] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 01:54:37,983] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 01:54:37,983] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:54:37,983] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,983] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 01:54:37,983] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 01:54:37,983] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:54:37,983] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,983] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 01:54:37,984] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:54:37,984] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,984] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 01:54:37,984] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:37,984] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:37,984] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:54:37,984] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,984] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 01:54:37,984] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 01:54:37,984] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:37,984] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:54:37,984] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,984] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 01:54:37,984] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 01:54:37,985] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 01:54:37,985] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,985] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 01:54:37,986] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 01:54:37,986] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 01:54:37,986] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 01:54:37,987] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 01:54:37,987] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 1)
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,987] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 01:54:37,988] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 1)
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 01:54:37,988] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,988] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 01:54:37,989] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 01:54:37,989] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 2)
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,989] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 01:54:37,990] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 2)
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 01:54:37,990] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:54:37,990] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 01:54:37,991] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,991] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 01:54:37,992] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 3)
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 01:54:37,992] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 3)
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 01:54:37,992] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 01:54:37,992] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:37,993] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:54:37,993] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,993] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 01:54:37,993] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 01:54:37,993] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:54:37,993] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,993] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 01:54:37,993] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:54:37,993] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,993] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 01:54:37,993] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:37,994] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:37,994] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 01:54:37,994] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@5
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=1:6, 当前值=5.6700
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.093999999999999
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.093999999999999
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 5, 值: 6.093999999999999
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[5] = 6.093999999999999
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 01:54:37,995] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 4)
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,995] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 01:54:37,995] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 4)
[2025-08-20 01:54:37,996] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 01:54:37,996] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 01:54:37,996] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,996] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 01:54:37,996] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:37,996] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:37,996] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 01:54:37,996] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 01:54:37,997] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:37,997] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 01:54:37,997] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,997] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 01:54:37,997] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 01:54:37,997] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 01:54:37,997] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 01:54:37,997] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,997] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 01:54:37,997] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:37,997] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:37,997] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 01:54:37,997] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:37,997] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@6
[2025-08-20 01:54:37,997] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=2:7, 当前值=5.9700
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.964
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.964
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 6, 值: 5.964
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[6] = 5.964
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 01:54:37,998] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 01:54:37,998] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.093999999999999 (from index 5)
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 01:54:37,998] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 5)
[2025-08-20 01:54:37,998] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,998] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 01:54:37,999] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:37,999] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:37,999] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 01:54:37,999] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 01:54:37,999] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:37,999] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 01:54:37,999] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,999] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 01:54:37,999] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 01:54:37,999] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 01:54:37,999] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 01:54:37,999] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:37,999] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 01:54:37,999] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 7
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@7
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=3:8, 当前值=6.0600
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.848
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.848
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 7, 值: 5.848
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[7] = 5.848
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 01:54:38,000] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 01:54:38,000] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.964 (from index 6)
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 7
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@7
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=1:8, 当前值=6.0600
[2025-08-20 01:54:38,000] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.071428571428571
[2025-08-20 01:54:38,001] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.071428571428571
[2025-08-20 01:54:38,001] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 7, 值: 6.071428571428571
[2025-08-20 01:54:38,001] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[7] = 6.071428571428571
[2025-08-20 01:54:38,001] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 01:54:38,001] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 01:54:38,001] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,001] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 01:54:38,001] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 6)
[2025-08-20 01:54:38,001] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 01:54:38,002] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 01:54:38,002] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,002] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,002] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 01:54:38,002] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 01:54:38,002] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,002] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 01:54:38,002] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 01:54:38,002] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 01:54:38,002] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 01:54:38,002] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:54:38,003] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:54:38,003] [DEBUG] [backtesting:306] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 01:54:38,003] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,003] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,003] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 8
[2025-08-20 01:54:38,003] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,003] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@8
[2025-08-20 01:54:38,003] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=4:9, 当前值=6.2200
[2025-08-20 01:54:38,003] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.896
[2025-08-20 01:54:38,003] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.896
[2025-08-20 01:54:38,003] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 8, 值: 5.896
[2025-08-20 01:54:38,003] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[8] = 5.896
[2025-08-20 01:54:38,003] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 01:54:38,003] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 01:54:38,003] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.848 (from index 7)
[2025-08-20 01:54:38,003] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,004] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 8
[2025-08-20 01:54:38,004] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,004] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@8
[2025-08-20 01:54:38,004] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=2:9, 当前值=6.2200
[2025-08-20 01:54:38,004] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.014285714285714
[2025-08-20 01:54:38,004] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.014285714285714
[2025-08-20 01:54:38,004] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 8, 值: 6.014285714285714
[2025-08-20 01:54:38,004] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[8] = 6.014285714285714
[2025-08-20 01:54:38,004] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 01:54:38,004] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 01:54:38,004] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.071428571428571 (from index 7)
[2025-08-20 01:54:38,004] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 01:54:38,005] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 01:54:38,006] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,006] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,006] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 01:54:38,006] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 01:54:38,006] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,006] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 01:54:38,006] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 01:54:38,007] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 01:54:38,007] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 01:54:38,007] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,007] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,007] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 9
[2025-08-20 01:54:38,007] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,007] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@9
[2025-08-20 01:54:38,007] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=5:10, 当前值=6.2300
[2025-08-20 01:54:38,007] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.029999999999999
[2025-08-20 01:54:38,007] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.029999999999999
[2025-08-20 01:54:38,007] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 9, 值: 6.029999999999999
[2025-08-20 01:54:38,007] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[9] = 6.029999999999999
[2025-08-20 01:54:38,008] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 8 (当前索引: 9, 回溯周期: 1)
[2025-08-20 01:54:38,008] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 01:54:38,008] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.896 (from index 8)
[2025-08-20 01:54:38,008] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,008] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 9
[2025-08-20 01:54:38,008] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,008] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@9
[2025-08-20 01:54:38,008] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=3:10, 当前值=6.2300
[2025-08-20 01:54:38,008] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.9557142857142855
[2025-08-20 01:54:38,008] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=5.9557142857142855
[2025-08-20 01:54:38,008] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 9, 值: 5.9557142857142855
[2025-08-20 01:54:38,008] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[9] = 5.9557142857142855
[2025-08-20 01:54:38,008] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 8 (当前索引: 9, 回溯周期: 1)
[2025-08-20 01:54:38,008] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 01:54:38,008] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.014285714285714 (from index 8)
[2025-08-20 01:54:38,008] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.029999999999999
[2025-08-20 01:54:38,008] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.9557142857142855
[2025-08-20 01:54:38,008] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:54:38,008] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:54:38,009] [DEBUG] [backtesting:306] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 01:54:38,009] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,009] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,009] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 10
[2025-08-20 01:54:38,009] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,009] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@10
[2025-08-20 01:54:38,009] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=6:11, 当前值=6.1700
[2025-08-20 01:54:38,009] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.13
[2025-08-20 01:54:38,009] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.13
[2025-08-20 01:54:38,009] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 10, 值: 6.13
[2025-08-20 01:54:38,009] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[10] = 6.13
[2025-08-20 01:54:38,009] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 01:54:38,009] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.029999999999999
[2025-08-20 01:54:38,009] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.029999999999999 (from index 9)
[2025-08-20 01:54:38,009] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,010] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 10
[2025-08-20 01:54:38,010] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,010] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@10
[2025-08-20 01:54:38,010] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=4:11, 当前值=6.1700
[2025-08-20 01:54:38,010] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.982857142857143
[2025-08-20 01:54:38,010] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=5.982857142857143
[2025-08-20 01:54:38,010] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 10, 值: 5.982857142857143
[2025-08-20 01:54:38,010] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[10] = 5.982857142857143
[2025-08-20 01:54:38,010] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 01:54:38,010] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.9557142857142855
[2025-08-20 01:54:38,010] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.9557142857142855 (from index 9)
[2025-08-20 01:54:38,010] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 01:54:38,010] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 01:54:38,011] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,012] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,012] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 01:54:38,012] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 01:54:38,012] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,013] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 01:54:38,013] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 01:54:38,013] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 01:54:38,013] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 01:54:38,013] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 11
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@11
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=7:12, 当前值=6.7900
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.294
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.294
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 11, 值: 6.294
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[11] = 6.294
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 01:54:38,014] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 01:54:38,014] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.13 (from index 10)
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 11
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@11
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=5:12, 当前值=6.7900
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.158571428571428
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.158571428571428
[2025-08-20 01:54:38,014] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 11, 值: 6.158571428571428
[2025-08-20 01:54:38,015] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[11] = 6.158571428571428
[2025-08-20 01:54:38,015] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 01:54:38,015] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 01:54:38,016] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.982857142857143 (from index 10)
[2025-08-20 01:54:38,018] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 01:54:38,018] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 01:54:38,018] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,018] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,021] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 01:54:38,021] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 01:54:38,021] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,021] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 01:54:38,021] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 01:54:38,021] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 01:54:38,021] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 01:54:38,021] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,021] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,022] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 12
[2025-08-20 01:54:38,022] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,022] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@12
[2025-08-20 01:54:38,022] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=8:13, 当前值=6.3400
[2025-08-20 01:54:38,022] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.35
[2025-08-20 01:54:38,022] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.35
[2025-08-20 01:54:38,022] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 12, 值: 6.35
[2025-08-20 01:54:38,023] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[12] = 6.35
[2025-08-20 01:54:38,023] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 01:54:38,023] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 01:54:38,023] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.294 (from index 11)
[2025-08-20 01:54:38,023] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,024] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 12
[2025-08-20 01:54:38,024] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,024] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@12
[2025-08-20 01:54:38,024] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=6:13, 当前值=6.3400
[2025-08-20 01:54:38,024] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.2542857142857144
[2025-08-20 01:54:38,024] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.2542857142857144
[2025-08-20 01:54:38,024] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 12, 值: 6.2542857142857144
[2025-08-20 01:54:38,024] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[12] = 6.2542857142857144
[2025-08-20 01:54:38,024] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 01:54:38,024] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 01:54:38,024] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.158571428571428 (from index 11)
[2025-08-20 01:54:38,024] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 01:54:38,024] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 01:54:38,024] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,024] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,025] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 01:54:38,025] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 01:54:38,025] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,025] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 01:54:38,025] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 01:54:38,025] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 01:54:38,025] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 01:54:38,025] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 13
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@13
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=9:14, 当前值=6.9700
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.5
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.5
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 13, 值: 6.5
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[13] = 6.5
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 01:54:38,026] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 01:54:38,026] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.35 (from index 12)
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 13
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@13
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=7:14, 当前值=6.9700
[2025-08-20 01:54:38,026] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.397142857142858
[2025-08-20 01:54:38,027] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.397142857142858
[2025-08-20 01:54:38,027] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 13, 值: 6.397142857142858
[2025-08-20 01:54:38,027] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[13] = 6.397142857142858
[2025-08-20 01:54:38,027] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 01:54:38,027] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 01:54:38,027] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.2542857142857144 (from index 12)
[2025-08-20 01:54:38,028] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 01:54:38,028] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 01:54:38,028] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,028] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,028] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 01:54:38,028] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 01:54:38,028] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,028] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 01:54:38,028] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 01:54:38,029] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 01:54:38,029] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 01:54:38,029] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,029] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,029] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 14
[2025-08-20 01:54:38,029] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,029] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@14
[2025-08-20 01:54:38,029] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=10:15, 当前值=6.8200
[2025-08-20 01:54:38,029] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.618
[2025-08-20 01:54:38,029] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.618
[2025-08-20 01:54:38,029] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 14, 值: 6.618
[2025-08-20 01:54:38,029] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[14] = 6.618
[2025-08-20 01:54:38,029] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 01:54:38,029] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 01:54:38,029] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.5 (from index 13)
[2025-08-20 01:54:38,029] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,030] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 14
[2025-08-20 01:54:38,030] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,030] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@14
[2025-08-20 01:54:38,030] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=8:15, 当前值=6.8200
[2025-08-20 01:54:38,030] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.505714285714285
[2025-08-20 01:54:38,030] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.505714285714285
[2025-08-20 01:54:38,030] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 14, 值: 6.505714285714285
[2025-08-20 01:54:38,030] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[14] = 6.505714285714285
[2025-08-20 01:54:38,030] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 01:54:38,030] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 01:54:38,030] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.397142857142858 (from index 13)
[2025-08-20 01:54:38,030] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 01:54:38,030] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 01:54:38,030] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,030] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,030] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 01:54:38,030] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 01:54:38,030] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,030] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 01:54:38,030] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 01:54:38,031] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 01:54:38,031] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 01:54:38,031] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,031] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,031] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 15
[2025-08-20 01:54:38,031] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,031] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@15
[2025-08-20 01:54:38,031] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=11:16, 当前值=6.1800
[2025-08-20 01:54:38,031] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.62
[2025-08-20 01:54:38,031] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.62
[2025-08-20 01:54:38,031] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 15, 值: 6.62
[2025-08-20 01:54:38,031] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[15] = 6.62
[2025-08-20 01:54:38,031] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 01:54:38,031] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 01:54:38,031] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.618 (from index 14)
[2025-08-20 01:54:38,031] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,032] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 15
[2025-08-20 01:54:38,032] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,032] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@15
[2025-08-20 01:54:38,032] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=9:16, 当前值=6.1800
[2025-08-20 01:54:38,032] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.5
[2025-08-20 01:54:38,032] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.5
[2025-08-20 01:54:38,032] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 15, 值: 6.5
[2025-08-20 01:54:38,032] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[15] = 6.5
[2025-08-20 01:54:38,032] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 01:54:38,032] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 01:54:38,032] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.505714285714285 (from index 14)
[2025-08-20 01:54:38,032] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 01:54:38,032] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 01:54:38,032] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,032] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,032] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 01:54:38,032] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 01:54:38,032] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,032] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 01:54:38,033] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 01:54:38,033] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 01:54:38,033] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 01:54:38,033] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,033] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,033] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 16
[2025-08-20 01:54:38,033] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,033] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@16
[2025-08-20 01:54:38,033] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=12:17, 当前值=5.9200
[2025-08-20 01:54:38,033] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.446
[2025-08-20 01:54:38,033] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.446
[2025-08-20 01:54:38,033] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 16, 值: 6.446
[2025-08-20 01:54:38,033] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[16] = 6.446
[2025-08-20 01:54:38,033] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 01:54:38,033] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 01:54:38,033] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.62 (from index 15)
[2025-08-20 01:54:38,033] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,034] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 16
[2025-08-20 01:54:38,034] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,034] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@16
[2025-08-20 01:54:38,034] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=10:17, 当前值=5.9200
[2025-08-20 01:54:38,034] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.4557142857142855
[2025-08-20 01:54:38,034] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.4557142857142855
[2025-08-20 01:54:38,034] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 16, 值: 6.4557142857142855
[2025-08-20 01:54:38,034] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[16] = 6.4557142857142855
[2025-08-20 01:54:38,034] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 01:54:38,034] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 01:54:38,034] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.5 (from index 15)
[2025-08-20 01:54:38,034] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 01:54:38,034] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 01:54:38,034] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,034] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,034] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 01:54:38,034] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 01:54:38,034] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,034] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 01:54:38,034] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 01:54:38,035] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 01:54:38,035] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 01:54:38,035] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:54:38,035] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:54:38,035] [DEBUG] [backtesting:306] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 01:54:38,035] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,035] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,035] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 17
[2025-08-20 01:54:38,035] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,035] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@17
[2025-08-20 01:54:38,035] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=13:18, 当前值=5.9400
[2025-08-20 01:54:38,035] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.366
[2025-08-20 01:54:38,035] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.366
[2025-08-20 01:54:38,035] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 17, 值: 6.366
[2025-08-20 01:54:38,035] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[17] = 6.366
[2025-08-20 01:54:38,036] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 01:54:38,036] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 01:54:38,036] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.446 (from index 16)
[2025-08-20 01:54:38,036] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,036] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 17
[2025-08-20 01:54:38,036] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,036] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@17
[2025-08-20 01:54:38,036] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=11:18, 当前值=5.9400
[2025-08-20 01:54:38,036] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.422857142857143
[2025-08-20 01:54:38,036] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.422857142857143
[2025-08-20 01:54:38,036] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 17, 值: 6.422857142857143
[2025-08-20 01:54:38,036] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[17] = 6.422857142857143
[2025-08-20 01:54:38,036] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 01:54:38,036] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 01:54:38,036] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.4557142857142855 (from index 16)
[2025-08-20 01:54:38,036] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 01:54:38,036] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 01:54:38,036] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,036] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,036] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 01:54:38,037] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 01:54:38,037] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,037] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 01:54:38,037] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 01:54:38,037] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 01:54:38,037] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 01:54:38,037] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,037] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,037] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 18
[2025-08-20 01:54:38,037] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,037] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@18
[2025-08-20 01:54:38,037] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=14:19, 当前值=6.0900
[2025-08-20 01:54:38,037] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.1899999999999995
[2025-08-20 01:54:38,037] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.1899999999999995
[2025-08-20 01:54:38,037] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 18, 值: 6.1899999999999995
[2025-08-20 01:54:38,037] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[18] = 6.1899999999999995
[2025-08-20 01:54:38,037] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 01:54:38,038] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 01:54:38,038] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.366 (from index 17)
[2025-08-20 01:54:38,038] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,038] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 18
[2025-08-20 01:54:38,038] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,038] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@18
[2025-08-20 01:54:38,038] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=12:19, 当前值=6.0900
[2025-08-20 01:54:38,038] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.322857142857143
[2025-08-20 01:54:38,038] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.322857142857143
[2025-08-20 01:54:38,038] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 18, 值: 6.322857142857143
[2025-08-20 01:54:38,038] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[18] = 6.322857142857143
[2025-08-20 01:54:38,038] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 01:54:38,038] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 01:54:38,038] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.422857142857143 (from index 17)
[2025-08-20 01:54:38,038] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 01:54:38,039] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 01:54:38,039] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,039] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,039] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 01:54:38,039] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 01:54:38,039] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,039] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 01:54:38,039] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 01:54:38,039] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 01:54:38,039] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 01:54:38,039] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,039] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,039] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 19
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@19
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=15:20, 当前值=6.1000
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.046
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.046
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 19, 值: 6.046
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[19] = 6.046
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 01:54:38,040] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 01:54:38,040] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.1899999999999995 (from index 18)
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 19
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@19
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=13:20, 当前值=6.1000
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.288571428571429
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.288571428571429
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 19, 值: 6.288571428571429
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[19] = 6.288571428571429
[2025-08-20 01:54:38,040] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 01:54:38,040] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 01:54:38,040] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.322857142857143 (from index 18)
[2025-08-20 01:54:38,040] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 01:54:38,041] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 01:54:38,041] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,041] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,041] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 01:54:38,041] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 01:54:38,041] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,041] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 01:54:38,041] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 01:54:38,041] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 01:54:38,041] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 01:54:38,041] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,041] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,041] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 20
[2025-08-20 01:54:38,041] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,041] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@20
[2025-08-20 01:54:38,041] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=16:21, 当前值=6.7100
[2025-08-20 01:54:38,041] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.152
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.152
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 20, 值: 6.152
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[20] = 6.152
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 01:54:38,042] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 01:54:38,042] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.046 (from index 19)
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 20
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@20
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=14:21, 当前值=6.7100
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.251428571428571
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.251428571428571
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 20, 值: 6.251428571428571
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[20] = 6.251428571428571
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 01:54:38,042] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 01:54:38,042] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.288571428571429 (from index 19)
[2025-08-20 01:54:38,042] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 01:54:38,042] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 01:54:38,042] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,042] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,043] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 01:54:38,043] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 01:54:38,043] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,043] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 01:54:38,043] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 01:54:38,043] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 01:54:38,043] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 01:54:38,043] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,043] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 21
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@21
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=17:22, 当前值=7.3800
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.444
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.444
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 21, 值: 6.444
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[21] = 6.444
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 20 (当前索引: 21, 回溯周期: 1)
[2025-08-20 01:54:38,044] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 01:54:38,044] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.152 (from index 20)
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 21
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@21
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=15:22, 当前值=7.3800
[2025-08-20 01:54:38,044] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.331428571428572
[2025-08-20 01:54:38,045] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.331428571428572
[2025-08-20 01:54:38,045] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 21, 值: 6.331428571428572
[2025-08-20 01:54:38,045] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[21] = 6.331428571428572
[2025-08-20 01:54:38,045] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 20 (当前索引: 21, 回溯周期: 1)
[2025-08-20 01:54:38,045] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 01:54:38,045] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.251428571428571 (from index 20)
[2025-08-20 01:54:38,045] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.444
[2025-08-20 01:54:38,045] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.331428571428572
[2025-08-20 01:54:38,045] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:54:38,045] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:54:38,045] [DEBUG] [backtesting:306] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 01:54:38,045] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 22
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@22
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=18:23, 当前值=7.2700
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.709999999999999
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.709999999999999
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 22, 值: 6.709999999999999
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[22] = 6.709999999999999
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 01:54:38,046] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.444
[2025-08-20 01:54:38,046] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.444 (from index 21)
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 22
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@22
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=16:23, 当前值=7.2700
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.487142857142857
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.487142857142857
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 22, 值: 6.487142857142857
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[22] = 6.487142857142857
[2025-08-20 01:54:38,046] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 01:54:38,046] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.331428571428572
[2025-08-20 01:54:38,046] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.331428571428572 (from index 21)
[2025-08-20 01:54:38,046] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 01:54:38,046] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 01:54:38,047] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,047] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,047] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 01:54:38,047] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 01:54:38,047] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,047] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 01:54:38,047] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 01:54:38,047] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 01:54:38,047] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 01:54:38,047] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,047] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,047] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 23
[2025-08-20 01:54:38,047] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@23
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=19:24, 当前值=7.3200
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.956
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.956
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 23, 值: 6.956
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[23] = 6.956
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 01:54:38,048] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 01:54:38,048] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.709999999999999 (from index 22)
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 23
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@23
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=17:24, 当前值=7.3200
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.687142857142858
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.687142857142858
[2025-08-20 01:54:38,048] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 23, 值: 6.687142857142858
[2025-08-20 01:54:38,049] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[23] = 6.687142857142858
[2025-08-20 01:54:38,049] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 01:54:38,049] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 01:54:38,049] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.487142857142857 (from index 22)
[2025-08-20 01:54:38,049] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 01:54:38,049] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 01:54:38,049] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,049] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,049] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 01:54:38,049] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 01:54:38,049] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,049] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 01:54:38,049] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 01:54:38,049] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 01:54:38,049] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 01:54:38,049] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 24
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@24
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=20:25, 当前值=7.4700
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.2299999999999995
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.2299999999999995
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 24, 值: 7.2299999999999995
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[24] = 7.2299999999999995
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 01:54:38,050] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 01:54:38,050] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.956 (from index 23)
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 24
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@24
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=18:25, 当前值=7.4700
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.905714285714287
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.905714285714287
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 24, 值: 6.905714285714287
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[24] = 6.905714285714287
[2025-08-20 01:54:38,050] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 01:54:38,050] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 01:54:38,050] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.687142857142858 (from index 23)
[2025-08-20 01:54:38,051] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 01:54:38,051] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 01:54:38,051] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,051] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,051] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 01:54:38,051] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 01:54:38,051] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,051] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 01:54:38,051] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 01:54:38,051] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 01:54:38,051] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 01:54:38,051] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,051] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 25
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@25
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=21:26, 当前值=7.3300
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.354000000000001
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.354000000000001
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 25, 值: 7.354000000000001
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[25] = 7.354000000000001
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 01:54:38,052] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 01:54:38,052] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.2299999999999995 (from index 24)
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 25
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@25
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=19:26, 当前值=7.3300
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.082857142857143
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.082857142857143
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 25, 值: 7.082857142857143
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[25] = 7.082857142857143
[2025-08-20 01:54:38,052] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 01:54:38,052] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 01:54:38,052] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.905714285714287 (from index 24)
[2025-08-20 01:54:38,053] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 01:54:38,053] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 01:54:38,053] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,053] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,053] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 01:54:38,053] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 01:54:38,053] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,053] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 01:54:38,053] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 01:54:38,053] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 01:54:38,053] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 01:54:38,053] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 26
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@26
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=22:27, 当前值=7.6600
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.409999999999999
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.409999999999999
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 26, 值: 7.409999999999999
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[26] = 7.409999999999999
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 01:54:38,054] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 01:54:38,054] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.354000000000001 (from index 25)
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 26
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@26
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=20:27, 当前值=7.6600
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.305714285714286
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.305714285714286
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 26, 值: 7.305714285714286
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[26] = 7.305714285714286
[2025-08-20 01:54:38,054] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 01:54:38,054] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 01:54:38,054] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.082857142857143 (from index 25)
[2025-08-20 01:54:38,054] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 01:54:38,055] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 01:54:38,055] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,055] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,055] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 01:54:38,055] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 01:54:38,055] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,055] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 01:54:38,055] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 01:54:38,055] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 01:54:38,055] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 01:54:38,055] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,055] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,055] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 27
[2025-08-20 01:54:38,055] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,055] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@27
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=23:28, 当前值=7.7500
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.506
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.506
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 27, 值: 7.506
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[27] = 7.506
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 01:54:38,056] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 01:54:38,056] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.409999999999999 (from index 26)
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 27
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@27
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=21:28, 当前值=7.7500
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.454285714285715
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.454285714285715
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 27, 值: 7.454285714285715
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[27] = 7.454285714285715
[2025-08-20 01:54:38,056] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 01:54:38,056] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 01:54:38,056] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.305714285714286 (from index 26)
[2025-08-20 01:54:38,056] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 01:54:38,056] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 01:54:38,056] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,057] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,057] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 01:54:38,057] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 01:54:38,057] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,057] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 01:54:38,057] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 01:54:38,057] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 01:54:38,057] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 01:54:38,057] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,057] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,057] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 28
[2025-08-20 01:54:38,057] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,057] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@28
[2025-08-20 01:54:38,057] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=24:29, 当前值=7.6400
[2025-08-20 01:54:38,057] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.57
[2025-08-20 01:54:38,057] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.57
[2025-08-20 01:54:38,057] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 28, 值: 7.57
[2025-08-20 01:54:38,058] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[28] = 7.57
[2025-08-20 01:54:38,058] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 01:54:38,058] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 01:54:38,058] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.506 (from index 27)
[2025-08-20 01:54:38,058] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,058] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 28
[2025-08-20 01:54:38,058] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,058] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@28
[2025-08-20 01:54:38,058] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=22:29, 当前值=7.6400
[2025-08-20 01:54:38,058] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.491428571428571
[2025-08-20 01:54:38,058] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.491428571428571
[2025-08-20 01:54:38,058] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 28, 值: 7.491428571428571
[2025-08-20 01:54:38,058] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[28] = 7.491428571428571
[2025-08-20 01:54:38,058] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 01:54:38,058] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 01:54:38,058] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.454285714285715 (from index 27)
[2025-08-20 01:54:38,058] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 01:54:38,058] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 01:54:38,059] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,059] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,059] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 01:54:38,059] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 01:54:38,059] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,059] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 01:54:38,059] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 01:54:38,059] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 01:54:38,059] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 01:54:38,059] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,059] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,059] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 29
[2025-08-20 01:54:38,059] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,059] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@29
[2025-08-20 01:54:38,059] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=25:30, 当前值=7.9700
[2025-08-20 01:54:38,059] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.67
[2025-08-20 01:54:38,060] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.67
[2025-08-20 01:54:38,060] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 29, 值: 7.67
[2025-08-20 01:54:38,060] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[29] = 7.67
[2025-08-20 01:54:38,060] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 01:54:38,060] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 01:54:38,060] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.57 (from index 28)
[2025-08-20 01:54:38,060] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,060] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 29
[2025-08-20 01:54:38,060] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,060] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@29
[2025-08-20 01:54:38,060] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=23:30, 当前值=7.9700
[2025-08-20 01:54:38,060] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.591428571428572
[2025-08-20 01:54:38,060] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.591428571428572
[2025-08-20 01:54:38,060] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 29, 值: 7.591428571428572
[2025-08-20 01:54:38,060] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[29] = 7.591428571428572
[2025-08-20 01:54:38,060] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 01:54:38,060] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 01:54:38,060] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.491428571428571 (from index 28)
[2025-08-20 01:54:38,061] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 01:54:38,061] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 01:54:38,061] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,061] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,061] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 01:54:38,061] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 01:54:38,061] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,061] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 01:54:38,061] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 01:54:38,061] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 01:54:38,061] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 01:54:38,062] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 30
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@30
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=26:31, 当前值=8.0800
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.82
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.82
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 30, 值: 7.82
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[30] = 7.82
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 01:54:38,062] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 01:54:38,062] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.67 (from index 29)
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 30
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@30
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=24:31, 当前值=8.0800
[2025-08-20 01:54:38,062] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.7
[2025-08-20 01:54:38,063] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.7
[2025-08-20 01:54:38,063] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 30, 值: 7.7
[2025-08-20 01:54:38,063] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[30] = 7.7
[2025-08-20 01:54:38,063] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 01:54:38,063] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 01:54:38,063] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.591428571428572 (from index 29)
[2025-08-20 01:54:38,063] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 01:54:38,063] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 01:54:38,063] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,063] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,063] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 01:54:38,063] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 01:54:38,063] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,063] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 01:54:38,063] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 01:54:38,064] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 01:54:38,064] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 01:54:38,064] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,064] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,064] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 31
[2025-08-20 01:54:38,064] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,064] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@31
[2025-08-20 01:54:38,064] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=27:32, 当前值=8.8900
[2025-08-20 01:54:38,064] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.065999999999999
[2025-08-20 01:54:38,064] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=8.065999999999999
[2025-08-20 01:54:38,064] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 31, 值: 8.065999999999999
[2025-08-20 01:54:38,064] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[31] = 8.065999999999999
[2025-08-20 01:54:38,064] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 01:54:38,064] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 01:54:38,064] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.82 (from index 30)
[2025-08-20 01:54:38,064] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,065] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 31
[2025-08-20 01:54:38,065] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,065] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@31
[2025-08-20 01:54:38,065] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=25:32, 当前值=8.8900
[2025-08-20 01:54:38,065] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.902857142857143
[2025-08-20 01:54:38,065] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.902857142857143
[2025-08-20 01:54:38,065] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 31, 值: 7.902857142857143
[2025-08-20 01:54:38,065] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[31] = 7.902857142857143
[2025-08-20 01:54:38,065] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 01:54:38,065] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 01:54:38,065] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.7 (from index 30)
[2025-08-20 01:54:38,065] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 01:54:38,065] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 01:54:38,065] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,065] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,065] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 01:54:38,065] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 01:54:38,065] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,065] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 01:54:38,065] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 01:54:38,065] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 01:54:38,066] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 01:54:38,066] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 32
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@32
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=28:33, 当前值=9.7800
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.472
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=8.472
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 32, 值: 8.472
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[32] = 8.472
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 01:54:38,066] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 01:54:38,066] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.065999999999999 (from index 31)
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 32
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@32
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=26:33, 当前值=9.7800
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.252857142857144
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=8.252857142857144
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 32, 值: 8.252857142857144
[2025-08-20 01:54:38,066] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[32] = 8.252857142857144
[2025-08-20 01:54:38,067] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 01:54:38,067] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 01:54:38,067] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.902857142857143 (from index 31)
[2025-08-20 01:54:38,067] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 01:54:38,067] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 01:54:38,067] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,067] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,067] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 01:54:38,067] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 01:54:38,067] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,067] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 01:54:38,067] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 01:54:38,067] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 01:54:38,067] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 01:54:38,068] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 33
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@33
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=29:34, 当前值=10.7600
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.096
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.096
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 33, 值: 9.096
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[33] = 9.096
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 01:54:38,068] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 01:54:38,068] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.472 (from index 32)
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 33
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@33
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=27:34, 当前值=10.7600
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.695714285714285
[2025-08-20 01:54:38,068] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=8.695714285714285
[2025-08-20 01:54:38,069] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 33, 值: 8.695714285714285
[2025-08-20 01:54:38,069] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[33] = 8.695714285714285
[2025-08-20 01:54:38,069] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 01:54:38,069] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 01:54:38,069] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.252857142857144 (from index 32)
[2025-08-20 01:54:38,069] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 01:54:38,069] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 01:54:38,069] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,069] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,069] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 01:54:38,069] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 01:54:38,069] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,069] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 01:54:38,069] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 01:54:38,069] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 01:54:38,069] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 01:54:38,070] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 34
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@34
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=30:35, 当前值=11.4500
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.792
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.792
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 34, 值: 9.792
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[34] = 9.792
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 01:54:38,070] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 01:54:38,070] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.096 (from index 33)
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 34
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@34
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=28:35, 当前值=11.4500
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.224285714285713
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.224285714285713
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 34, 值: 9.224285714285713
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[34] = 9.224285714285713
[2025-08-20 01:54:38,070] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 01:54:38,070] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 01:54:38,070] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.695714285714285 (from index 33)
[2025-08-20 01:54:38,071] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 01:54:38,071] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 01:54:38,071] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,071] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,071] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 01:54:38,071] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 01:54:38,071] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,071] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 01:54:38,071] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 01:54:38,071] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 01:54:38,071] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 01:54:38,071] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,071] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 35
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@35
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=31:36, 当前值=12.6000
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.696
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.696
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 35, 值: 10.696
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[35] = 10.696
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 01:54:38,072] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 01:54:38,072] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.792 (from index 34)
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 35
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@35
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=29:36, 当前值=12.6000
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.932857142857143
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.932857142857143
[2025-08-20 01:54:38,072] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 35, 值: 9.932857142857143
[2025-08-20 01:54:38,073] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[35] = 9.932857142857143
[2025-08-20 01:54:38,073] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 01:54:38,073] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 01:54:38,073] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.224285714285713 (from index 34)
[2025-08-20 01:54:38,073] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 01:54:38,073] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 01:54:38,073] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,073] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,073] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 01:54:38,073] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 01:54:38,073] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,073] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 01:54:38,073] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 01:54:38,074] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 01:54:38,074] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 01:54:38,074] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 36
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@36
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=32:37, 当前值=13.8600
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.690000000000001
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.690000000000001
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 36, 值: 11.690000000000001
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[36] = 11.690000000000001
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 01:54:38,074] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 01:54:38,074] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.696 (from index 35)
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 36
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@36
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=30:37, 当前值=13.8600
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.774285714285714
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.774285714285714
[2025-08-20 01:54:38,074] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 36, 值: 10.774285714285714
[2025-08-20 01:54:38,075] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[36] = 10.774285714285714
[2025-08-20 01:54:38,075] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 01:54:38,075] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 01:54:38,075] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.932857142857143 (from index 35)
[2025-08-20 01:54:38,075] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 01:54:38,075] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 01:54:38,075] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,075] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,075] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 01:54:38,075] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 01:54:38,075] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,075] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 01:54:38,075] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 01:54:38,075] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 01:54:38,075] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 01:54:38,075] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,076] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,076] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 37
[2025-08-20 01:54:38,076] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,076] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@37
[2025-08-20 01:54:38,076] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=33:38, 当前值=13.5000
[2025-08-20 01:54:38,076] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.434000000000001
[2025-08-20 01:54:38,076] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.434000000000001
[2025-08-20 01:54:38,076] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 37, 值: 12.434000000000001
[2025-08-20 01:54:38,076] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[37] = 12.434000000000001
[2025-08-20 01:54:38,076] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 01:54:38,076] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 01:54:38,076] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.690000000000001 (from index 36)
[2025-08-20 01:54:38,076] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,076] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 37
[2025-08-20 01:54:38,076] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,076] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@37
[2025-08-20 01:54:38,077] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=31:38, 当前值=13.5000
[2025-08-20 01:54:38,077] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.54857142857143
[2025-08-20 01:54:38,077] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.54857142857143
[2025-08-20 01:54:38,077] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 37, 值: 11.54857142857143
[2025-08-20 01:54:38,077] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[37] = 11.54857142857143
[2025-08-20 01:54:38,077] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 01:54:38,077] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 01:54:38,077] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.774285714285714 (from index 36)
[2025-08-20 01:54:38,077] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 01:54:38,077] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 01:54:38,077] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,078] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,078] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 01:54:38,078] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 01:54:38,078] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,078] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 01:54:38,078] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 01:54:38,078] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 01:54:38,078] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 01:54:38,078] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 38
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@38
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=34:39, 当前值=12.1500
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.712
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.712
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 38, 值: 12.712
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[38] = 12.712
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 01:54:38,079] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 01:54:38,079] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.434000000000001 (from index 37)
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 38
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@38
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=32:39, 当前值=12.1500
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.014285714285714
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.014285714285714
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 38, 值: 12.014285714285714
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[38] = 12.014285714285714
[2025-08-20 01:54:38,079] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 01:54:38,079] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 01:54:38,079] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.54857142857143 (from index 37)
[2025-08-20 01:54:38,080] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 01:54:38,080] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 01:54:38,080] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,080] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,080] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 01:54:38,080] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 01:54:38,080] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,080] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 01:54:38,080] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 01:54:38,080] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 01:54:38,080] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 01:54:38,080] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 39
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@39
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=35:40, 当前值=11.2600
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.674
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.674
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 39, 值: 12.674
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[39] = 12.674
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 01:54:38,081] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 01:54:38,081] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.712 (from index 38)
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 39
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@39
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=33:40, 当前值=11.2600
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.225714285714286
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.225714285714286
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 39, 值: 12.225714285714286
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[39] = 12.225714285714286
[2025-08-20 01:54:38,081] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 01:54:38,081] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 01:54:38,081] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.014285714285714 (from index 38)
[2025-08-20 01:54:38,081] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 01:54:38,082] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 01:54:38,082] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,082] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,082] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 01:54:38,082] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 01:54:38,082] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,082] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 01:54:38,082] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 01:54:38,082] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 01:54:38,082] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 01:54:38,082] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,082] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,082] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 40
[2025-08-20 01:54:38,082] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,082] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@40
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=36:41, 当前值=11.8500
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.524
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.524
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 40, 值: 12.524
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[40] = 12.524
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 01:54:38,083] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 01:54:38,083] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.674 (from index 39)
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 40
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@40
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=34:41, 当前值=11.8500
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.381428571428572
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.381428571428572
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 40, 值: 12.381428571428572
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[40] = 12.381428571428572
[2025-08-20 01:54:38,083] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 01:54:38,083] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 01:54:38,083] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.225714285714286 (from index 39)
[2025-08-20 01:54:38,083] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 01:54:38,084] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 01:54:38,084] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,084] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,084] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 01:54:38,084] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 01:54:38,084] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,084] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 01:54:38,084] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 01:54:38,084] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 01:54:38,084] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 01:54:38,084] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,084] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,084] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 41
[2025-08-20 01:54:38,084] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,084] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@41
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=37:42, 当前值=13.0400
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.36
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.36
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 41, 值: 12.36
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[41] = 12.36
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 01:54:38,085] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 01:54:38,085] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.524 (from index 40)
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 41
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@41
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=35:42, 当前值=13.0400
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.608571428571429
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.608571428571429
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 41, 值: 12.608571428571429
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[41] = 12.608571428571429
[2025-08-20 01:54:38,085] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 01:54:38,085] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 01:54:38,085] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.381428571428572 (from index 40)
[2025-08-20 01:54:38,085] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 01:54:38,085] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 01:54:38,086] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,086] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,086] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 01:54:38,086] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 01:54:38,086] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,086] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 01:54:38,086] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 01:54:38,086] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 01:54:38,086] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 01:54:38,086] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:54:38,086] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:54:38,086] [DEBUG] [backtesting:306] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 01:54:38,086] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 42
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@42
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=38:43, 当前值=11.7400
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.008
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.008
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 42, 值: 12.008
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[42] = 12.008
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 01:54:38,087] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 01:54:38,087] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.36 (from index 41)
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 42
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@42
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=36:43, 当前值=11.7400
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.485714285714286
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.485714285714286
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 42, 值: 12.485714285714286
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[42] = 12.485714285714286
[2025-08-20 01:54:38,087] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 01:54:38,088] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 01:54:38,088] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.608571428571429 (from index 41)
[2025-08-20 01:54:38,088] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 01:54:38,088] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 01:54:38,088] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,088] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,088] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 01:54:38,088] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 01:54:38,088] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,088] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 01:54:38,088] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 01:54:38,088] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 01:54:38,088] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 01:54:38,088] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,089] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,089] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 43
[2025-08-20 01:54:38,089] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,089] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@43
[2025-08-20 01:54:38,089] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=39:44, 当前值=11.1000
[2025-08-20 01:54:38,089] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.798
[2025-08-20 01:54:38,089] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.798
[2025-08-20 01:54:38,089] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 43, 值: 11.798
[2025-08-20 01:54:38,089] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[43] = 11.798
[2025-08-20 01:54:38,089] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 01:54:38,089] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 01:54:38,089] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.008 (from index 42)
[2025-08-20 01:54:38,090] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,090] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 43
[2025-08-20 01:54:38,090] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,090] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@43
[2025-08-20 01:54:38,090] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=37:44, 当前值=11.1000
[2025-08-20 01:54:38,090] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.09142857142857
[2025-08-20 01:54:38,090] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.09142857142857
[2025-08-20 01:54:38,090] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 43, 值: 12.09142857142857
[2025-08-20 01:54:38,090] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[43] = 12.09142857142857
[2025-08-20 01:54:38,090] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 01:54:38,090] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 01:54:38,090] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.485714285714286 (from index 42)
[2025-08-20 01:54:38,090] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 01:54:38,090] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 01:54:38,091] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,091] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,091] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 01:54:38,091] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 01:54:38,091] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,091] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 01:54:38,091] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 01:54:38,091] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 01:54:38,091] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 01:54:38,091] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 44
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@44
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=40:45, 当前值=11.7300
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.892
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.892
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 44, 值: 11.892
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[44] = 11.892
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 43 (当前索引: 44, 回溯周期: 1)
[2025-08-20 01:54:38,092] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 01:54:38,092] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.798 (from index 43)
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 44
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@44
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=38:45, 当前值=11.7300
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.838571428571429
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.838571428571429
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 44, 值: 11.838571428571429
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[44] = 11.838571428571429
[2025-08-20 01:54:38,092] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 43 (当前索引: 44, 回溯周期: 1)
[2025-08-20 01:54:38,093] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 01:54:38,093] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.09142857142857 (from index 43)
[2025-08-20 01:54:38,093] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 01:54:38,093] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.838571428571429
[2025-08-20 01:54:38,093] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:54:38,093] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:54:38,094] [DEBUG] [backtesting:306] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 01:54:38,094] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,094] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,094] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 45
[2025-08-20 01:54:38,094] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@45
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=41:46, 当前值=11.8500
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.892
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.892
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 45, 值: 11.892
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[45] = 11.892
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 01:54:38,095] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 01:54:38,095] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 44)
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 45
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@45
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=39:46, 当前值=11.8500
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.795714285714284
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.795714285714284
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 45, 值: 11.795714285714284
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[45] = 11.795714285714284
[2025-08-20 01:54:38,095] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 01:54:38,095] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.838571428571429
[2025-08-20 01:54:38,095] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.838571428571429 (from index 44)
[2025-08-20 01:54:38,095] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 01:54:38,095] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 01:54:38,096] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,096] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,096] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 01:54:38,096] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 01:54:38,096] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,096] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 01:54:38,096] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 01:54:38,096] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 01:54:38,096] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 01:54:38,096] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,096] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,096] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 46
[2025-08-20 01:54:38,096] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,096] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@46
[2025-08-20 01:54:38,096] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=42:47, 当前值=12.2400
[2025-08-20 01:54:38,096] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.732
[2025-08-20 01:54:38,097] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.732
[2025-08-20 01:54:38,097] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 46, 值: 11.732
[2025-08-20 01:54:38,097] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[46] = 11.732
[2025-08-20 01:54:38,097] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 01:54:38,097] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 01:54:38,097] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 45)
[2025-08-20 01:54:38,097] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,097] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 46
[2025-08-20 01:54:38,097] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,097] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@46
[2025-08-20 01:54:38,097] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=40:47, 当前值=12.2400
[2025-08-20 01:54:38,097] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.935714285714285
[2025-08-20 01:54:38,097] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.935714285714285
[2025-08-20 01:54:38,097] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 46, 值: 11.935714285714285
[2025-08-20 01:54:38,097] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[46] = 11.935714285714285
[2025-08-20 01:54:38,097] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 01:54:38,097] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 01:54:38,097] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.795714285714284 (from index 45)
[2025-08-20 01:54:38,098] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:54:38,098] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 01:54:38,098] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,098] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,098] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:54:38,098] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 01:54:38,098] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,098] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 01:54:38,098] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 01:54:38,098] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:54:38,098] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 01:54:38,098] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:54:38,098] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:54:38,099] [DEBUG] [backtesting:306] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 01:54:38,099] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 47
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@47
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=43:48, 当前值=12.9700
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.978
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.978
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 47, 值: 11.978
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[47] = 11.978
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 01:54:38,099] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:54:38,099] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 46)
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 47
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@47
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=41:48, 当前值=12.9700
[2025-08-20 01:54:38,099] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.095714285714285
[2025-08-20 01:54:38,100] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.095714285714285
[2025-08-20 01:54:38,100] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 47, 值: 12.095714285714285
[2025-08-20 01:54:38,100] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[47] = 12.095714285714285
[2025-08-20 01:54:38,100] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 01:54:38,100] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 01:54:38,100] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.935714285714285 (from index 46)
[2025-08-20 01:54:38,100] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 01:54:38,100] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 01:54:38,100] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,100] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,100] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 01:54:38,100] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 01:54:38,100] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,100] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 01:54:38,100] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 01:54:38,100] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 01:54:38,101] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 01:54:38,101] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 48
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@48
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=44:49, 当前值=12.9700
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.352
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.352
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 48, 值: 12.352
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[48] = 12.352
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 47 (当前索引: 48, 回溯周期: 1)
[2025-08-20 01:54:38,101] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 01:54:38,101] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.978 (from index 47)
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 48
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@48
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=42:49, 当前值=12.9700
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.085714285714285
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.085714285714285
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 48, 值: 12.085714285714285
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[48] = 12.085714285714285
[2025-08-20 01:54:38,101] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 47 (当前索引: 48, 回溯周期: 1)
[2025-08-20 01:54:38,102] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 01:54:38,102] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.095714285714285 (from index 47)
[2025-08-20 01:54:38,102] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.352
[2025-08-20 01:54:38,102] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.085714285714285
[2025-08-20 01:54:38,102] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:54:38,102] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:54:38,102] [DEBUG] [backtesting:306] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 01:54:38,102] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,102] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,102] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 49
[2025-08-20 01:54:38,102] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,102] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@49
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=45:50, 当前值=12.8700
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.58
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.58
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 49, 值: 12.58
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[49] = 12.58
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 01:54:38,103] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.352
[2025-08-20 01:54:38,103] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.352 (from index 48)
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 49
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@49
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=43:50, 当前值=12.8700
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.247142857142858
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.247142857142858
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 49, 值: 12.247142857142858
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[49] = 12.247142857142858
[2025-08-20 01:54:38,103] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 01:54:38,103] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.085714285714285
[2025-08-20 01:54:38,103] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.085714285714285 (from index 48)
[2025-08-20 01:54:38,103] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 01:54:38,104] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 01:54:38,104] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,104] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,104] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 01:54:38,104] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 01:54:38,104] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,104] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 01:54:38,104] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 01:54:38,104] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 01:54:38,104] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 01:54:38,104] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,104] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,104] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 50
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@50
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=46:51, 当前值=12.3500
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.68
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.68
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 50, 值: 12.68
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[50] = 12.68
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 01:54:38,105] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 01:54:38,105] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.58 (from index 49)
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 50
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@50
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=44:51, 当前值=12.3500
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.425714285714287
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.425714285714287
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 50, 值: 12.425714285714287
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[50] = 12.425714285714287
[2025-08-20 01:54:38,105] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 01:54:38,105] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 01:54:38,105] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.247142857142858 (from index 49)
[2025-08-20 01:54:38,105] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 01:54:38,106] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 01:54:38,106] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,106] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,106] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 01:54:38,106] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 01:54:38,106] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,106] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 01:54:38,106] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 01:54:38,106] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 01:54:38,106] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 01:54:38,106] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,106] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,106] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 51
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@51
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=47:52, 当前值=12.1800
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.668000000000001
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.668000000000001
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 51, 值: 12.668000000000001
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[51] = 12.668000000000001
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 01:54:38,107] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 01:54:38,107] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.68 (from index 50)
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 51
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@51
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=45:52, 当前值=12.1800
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.49
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.49
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 51, 值: 12.49
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[51] = 12.49
[2025-08-20 01:54:38,107] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 01:54:38,107] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 01:54:38,107] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.425714285714287 (from index 50)
[2025-08-20 01:54:38,107] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 01:54:38,107] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 01:54:38,108] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,108] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,108] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 01:54:38,108] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 01:54:38,108] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,108] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 01:54:38,108] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 01:54:38,108] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 01:54:38,108] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 01:54:38,108] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,108] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,108] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 52
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@52
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=48:53, 当前值=11.6200
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.398
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.398
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 52, 值: 12.398
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[52] = 12.398
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 01:54:38,109] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 01:54:38,109] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.668000000000001 (from index 51)
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 52
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@52
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=46:53, 当前值=11.6200
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.457142857142857
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.457142857142857
[2025-08-20 01:54:38,109] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 52, 值: 12.457142857142857
[2025-08-20 01:54:38,110] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[52] = 12.457142857142857
[2025-08-20 01:54:38,110] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 01:54:38,110] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 01:54:38,110] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.49 (from index 51)
[2025-08-20 01:54:38,110] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 01:54:38,110] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 01:54:38,110] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,110] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,110] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 01:54:38,111] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 01:54:38,111] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,111] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 01:54:38,111] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 01:54:38,111] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 01:54:38,111] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 01:54:38,111] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:54:38,111] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:54:38,111] [DEBUG] [backtesting:306] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 01:54:38,111] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 53
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@53
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=49:54, 当前值=11.5100
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.106
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.106
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 53, 值: 12.106
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[53] = 12.106
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 01:54:38,112] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 01:54:38,112] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.398 (from index 52)
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 53
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@53
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=47:54, 当前值=11.5100
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.352857142857143
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.352857142857143
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 53, 值: 12.352857142857143
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[53] = 12.352857142857143
[2025-08-20 01:54:38,112] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 01:54:38,112] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 01:54:38,112] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.457142857142857 (from index 52)
[2025-08-20 01:54:38,113] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 01:54:38,113] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 01:54:38,113] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,113] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,113] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 01:54:38,113] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 01:54:38,113] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,113] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 01:54:38,113] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 01:54:38,113] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 01:54:38,113] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 01:54:38,113] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 54
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@54
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=50:55, 当前值=11.8200
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.895999999999999
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.895999999999999
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 54, 值: 11.895999999999999
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[54] = 11.895999999999999
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 01:54:38,114] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 01:54:38,114] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.106 (from index 53)
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 54
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@54
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=48:55, 当前值=11.8200
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.188571428571427
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.188571428571427
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 54, 值: 12.188571428571427
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[54] = 12.188571428571427
[2025-08-20 01:54:38,114] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 01:54:38,114] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 01:54:38,114] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.352857142857143 (from index 53)
[2025-08-20 01:54:38,115] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 01:54:38,115] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 01:54:38,115] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,115] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,115] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 01:54:38,115] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 01:54:38,115] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,115] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 01:54:38,115] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 01:54:38,115] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 01:54:38,115] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 01:54:38,115] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 55
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@55
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=51:56, 当前值=11.5300
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.732
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.732
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 55, 值: 11.732
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[55] = 11.732
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 01:54:38,116] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 01:54:38,116] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.895999999999999 (from index 54)
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 55
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@55
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=49:56, 当前值=11.5300
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.982857142857142
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.982857142857142
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 55, 值: 11.982857142857142
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[55] = 11.982857142857142
[2025-08-20 01:54:38,116] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 01:54:38,116] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 01:54:38,116] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.188571428571427 (from index 54)
[2025-08-20 01:54:38,117] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:54:38,117] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 01:54:38,117] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,117] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,117] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:54:38,117] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 01:54:38,117] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,117] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 01:54:38,117] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 01:54:38,117] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:54:38,117] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 01:54:38,117] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,117] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 56
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@56
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=52:57, 当前值=11.2400
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.544
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.544
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 56, 值: 11.544
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[56] = 11.544
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 01:54:38,118] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 01:54:38,118] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 55)
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 56
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@56
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=50:57, 当前值=11.2400
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.75
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.75
[2025-08-20 01:54:38,118] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 56, 值: 11.75
[2025-08-20 01:54:38,119] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[56] = 11.75
[2025-08-20 01:54:38,119] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 01:54:38,119] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 01:54:38,119] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.982857142857142 (from index 55)
[2025-08-20 01:54:38,119] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 01:54:38,119] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 01:54:38,119] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,119] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,119] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 01:54:38,119] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 01:54:38,119] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,119] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 01:54:38,119] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 01:54:38,119] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 01:54:38,119] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 01:54:38,120] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 57
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@57
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=53:58, 当前值=11.1200
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.443999999999999
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.443999999999999
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 57, 值: 11.443999999999999
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[57] = 11.443999999999999
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 01:54:38,120] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 01:54:38,120] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.544 (from index 56)
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 57
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@57
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=51:58, 当前值=11.1200
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.574285714285713
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.574285714285713
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 57, 值: 11.574285714285713
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[57] = 11.574285714285713
[2025-08-20 01:54:38,120] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 01:54:38,121] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 01:54:38,121] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.75 (from index 56)
[2025-08-20 01:54:38,121] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 01:54:38,121] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 01:54:38,121] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,121] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,121] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 01:54:38,121] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 01:54:38,121] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,121] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 01:54:38,121] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 01:54:38,122] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 01:54:38,122] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 01:54:38,122] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,122] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,122] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 58
[2025-08-20 01:54:38,122] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,122] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@58
[2025-08-20 01:54:38,122] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=54:59, 当前值=11.1500
[2025-08-20 01:54:38,122] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.372
[2025-08-20 01:54:38,122] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.372
[2025-08-20 01:54:38,122] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 58, 值: 11.372
[2025-08-20 01:54:38,122] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[58] = 11.372
[2025-08-20 01:54:38,122] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 01:54:38,122] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 01:54:38,122] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.443999999999999 (from index 57)
[2025-08-20 01:54:38,122] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,122] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 58
[2025-08-20 01:54:38,122] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,122] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@58
[2025-08-20 01:54:38,123] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=52:59, 当前值=11.1500
[2025-08-20 01:54:38,123] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.427142857142856
[2025-08-20 01:54:38,123] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.427142857142856
[2025-08-20 01:54:38,123] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 58, 值: 11.427142857142856
[2025-08-20 01:54:38,123] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[58] = 11.427142857142856
[2025-08-20 01:54:38,123] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 01:54:38,123] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 01:54:38,123] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.574285714285713 (from index 57)
[2025-08-20 01:54:38,123] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 01:54:38,123] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 01:54:38,123] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,123] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,123] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 01:54:38,123] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 01:54:38,123] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,123] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 01:54:38,123] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 01:54:38,124] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 01:54:38,124] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 01:54:38,124] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 59
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@59
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=55:60, 当前值=11.4000
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.288
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.288
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 59, 值: 11.288
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[59] = 11.288
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 01:54:38,124] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 01:54:38,124] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.372 (from index 58)
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 59
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@59
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=53:60, 当前值=11.4000
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.395714285714286
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.395714285714286
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 59, 值: 11.395714285714286
[2025-08-20 01:54:38,124] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[59] = 11.395714285714286
[2025-08-20 01:54:38,125] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 01:54:38,125] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 01:54:38,125] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.427142857142856 (from index 58)
[2025-08-20 01:54:38,125] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 01:54:38,125] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 01:54:38,125] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,125] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,125] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 01:54:38,125] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 01:54:38,125] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,125] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 01:54:38,125] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 01:54:38,125] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 01:54:38,125] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 01:54:38,125] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 60
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@60
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=56:61, 当前值=11.4600
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.274
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.274
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 60, 值: 11.274
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[60] = 11.274
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 01:54:38,126] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 01:54:38,126] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.288 (from index 59)
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 60
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@60
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=54:61, 当前值=11.4600
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.388571428571428
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.388571428571428
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 60, 值: 11.388571428571428
[2025-08-20 01:54:38,126] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[60] = 11.388571428571428
[2025-08-20 01:54:38,127] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 01:54:38,127] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 01:54:38,127] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.395714285714286 (from index 59)
[2025-08-20 01:54:38,127] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 01:54:38,127] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 01:54:38,127] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,127] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,127] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 01:54:38,127] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 01:54:38,127] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,128] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 01:54:38,128] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 01:54:38,128] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 01:54:38,128] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 01:54:38,128] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,128] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,128] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 61
[2025-08-20 01:54:38,128] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@61
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=57:62, 当前值=11.3000
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.286
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.286
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 61, 值: 11.286
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[61] = 11.286
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 01:54:38,129] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 01:54:38,129] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.274 (from index 60)
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 61
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@61
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=55:62, 当前值=11.3000
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.314285714285715
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.314285714285715
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 61, 值: 11.314285714285715
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[61] = 11.314285714285715
[2025-08-20 01:54:38,129] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 01:54:38,129] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 01:54:38,129] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.388571428571428 (from index 60)
[2025-08-20 01:54:38,129] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 01:54:38,130] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 01:54:38,130] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,130] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,130] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 01:54:38,130] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 01:54:38,130] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,130] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 01:54:38,130] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 01:54:38,130] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 01:54:38,130] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 01:54:38,130] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,130] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,130] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 62
[2025-08-20 01:54:38,130] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,130] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@62
[2025-08-20 01:54:38,130] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=58:63, 当前值=11.2600
[2025-08-20 01:54:38,130] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.314
[2025-08-20 01:54:38,131] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.314
[2025-08-20 01:54:38,131] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 62, 值: 11.314
[2025-08-20 01:54:38,131] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[62] = 11.314
[2025-08-20 01:54:38,131] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 61 (当前索引: 62, 回溯周期: 1)
[2025-08-20 01:54:38,131] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 01:54:38,131] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.286 (from index 61)
[2025-08-20 01:54:38,131] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,131] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 62
[2025-08-20 01:54:38,131] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,131] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@62
[2025-08-20 01:54:38,131] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=56:63, 当前值=11.2600
[2025-08-20 01:54:38,131] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.275714285714287
[2025-08-20 01:54:38,131] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.275714285714287
[2025-08-20 01:54:38,131] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 62, 值: 11.275714285714287
[2025-08-20 01:54:38,131] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[62] = 11.275714285714287
[2025-08-20 01:54:38,131] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 61 (当前索引: 62, 回溯周期: 1)
[2025-08-20 01:54:38,131] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 01:54:38,131] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.314285714285715 (from index 61)
[2025-08-20 01:54:38,131] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.314
[2025-08-20 01:54:38,131] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.275714285714287
[2025-08-20 01:54:38,131] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:54:38,132] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:54:38,132] [DEBUG] [backtesting:306] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 01:54:38,132] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 63
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@63
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=59:64, 当前值=10.8600
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.256
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.256
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 63, 值: 11.256
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[63] = 11.256
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 01:54:38,132] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.314
[2025-08-20 01:54:38,132] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.314 (from index 62)
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 63
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@63
[2025-08-20 01:54:38,132] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=57:64, 当前值=10.8600
[2025-08-20 01:54:38,133] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.221428571428572
[2025-08-20 01:54:38,133] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.221428571428572
[2025-08-20 01:54:38,133] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 63, 值: 11.221428571428572
[2025-08-20 01:54:38,133] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[63] = 11.221428571428572
[2025-08-20 01:54:38,133] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 01:54:38,133] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.275714285714287
[2025-08-20 01:54:38,133] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.275714285714287 (from index 62)
[2025-08-20 01:54:38,133] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 01:54:38,133] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 01:54:38,133] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,133] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,133] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 01:54:38,133] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 01:54:38,133] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,133] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 01:54:38,133] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 01:54:38,133] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 01:54:38,134] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 01:54:38,134] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 64
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@64
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=60:65, 当前值=11.1900
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.214
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.214
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 64, 值: 11.214
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[64] = 11.214
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 01:54:38,134] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 01:54:38,134] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.256 (from index 63)
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 64
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@64
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=58:65, 当前值=11.1900
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.231428571428571
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.231428571428571
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 64, 值: 11.231428571428571
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[64] = 11.231428571428571
[2025-08-20 01:54:38,134] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 01:54:38,135] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 01:54:38,135] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.221428571428572 (from index 63)
[2025-08-20 01:54:38,135] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:54:38,135] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 01:54:38,135] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,135] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,135] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:54:38,135] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 01:54:38,135] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,135] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 01:54:38,135] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 01:54:38,135] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:54:38,135] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 01:54:38,135] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:54:38,136] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:54:38,136] [DEBUG] [backtesting:306] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 01:54:38,136] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 65
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@65
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=61:66, 当前值=11.3700
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.196
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.196
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 65, 值: 11.196
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[65] = 11.196
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 01:54:38,136] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:54:38,136] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 64)
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 65
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@65
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=59:66, 当前值=11.3700
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.262857142857143
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.262857142857143
[2025-08-20 01:54:38,136] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 65, 值: 11.262857142857143
[2025-08-20 01:54:38,137] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[65] = 11.262857142857143
[2025-08-20 01:54:38,137] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 01:54:38,137] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 01:54:38,137] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.231428571428571 (from index 64)
[2025-08-20 01:54:38,137] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 01:54:38,137] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 01:54:38,137] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,137] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,137] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 01:54:38,137] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 01:54:38,137] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,137] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 01:54:38,137] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 01:54:38,137] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 01:54:38,138] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 01:54:38,138] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 66
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@66
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=62:67, 当前值=11.4200
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.22
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.22
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 66, 值: 11.22
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[66] = 11.22
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 01:54:38,138] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 01:54:38,138] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.196 (from index 65)
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 66
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@66
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=60:67, 当前值=11.4200
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.265714285714285
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.265714285714285
[2025-08-20 01:54:38,138] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 66, 值: 11.265714285714285
[2025-08-20 01:54:38,139] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[66] = 11.265714285714285
[2025-08-20 01:54:38,139] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 01:54:38,139] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 01:54:38,139] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.262857142857143 (from index 65)
[2025-08-20 01:54:38,139] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 01:54:38,139] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 01:54:38,139] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,139] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,139] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 01:54:38,139] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 01:54:38,139] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,139] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 01:54:38,139] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 01:54:38,139] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 01:54:38,139] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 01:54:38,140] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 67
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@67
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=63:68, 当前值=11.2300
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.214
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.214
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 67, 值: 11.214
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[67] = 11.214
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 01:54:38,140] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 01:54:38,140] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.22 (from index 66)
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 67
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@67
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=61:68, 当前值=11.2300
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.232857142857142
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.232857142857142
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 67, 值: 11.232857142857142
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[67] = 11.232857142857142
[2025-08-20 01:54:38,140] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 01:54:38,141] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 01:54:38,141] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.265714285714285 (from index 66)
[2025-08-20 01:54:38,141] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:54:38,141] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 01:54:38,141] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,141] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,141] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:54:38,141] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 01:54:38,141] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,141] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 01:54:38,141] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 01:54:38,141] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:54:38,142] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 01:54:38,142] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 68
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@68
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=64:69, 当前值=11.3000
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.302
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.302
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 68, 值: 11.302
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[68] = 11.302
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 67 (当前索引: 68, 回溯周期: 1)
[2025-08-20 01:54:38,142] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 01:54:38,142] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 67)
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 68
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@68
[2025-08-20 01:54:38,142] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=62:69, 当前值=11.3000
[2025-08-20 01:54:38,143] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.232857142857142
[2025-08-20 01:54:38,143] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.232857142857142
[2025-08-20 01:54:38,143] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 68, 值: 11.232857142857142
[2025-08-20 01:54:38,143] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[68] = 11.232857142857142
[2025-08-20 01:54:38,143] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 67 (当前索引: 68, 回溯周期: 1)
[2025-08-20 01:54:38,143] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 01:54:38,143] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 67)
[2025-08-20 01:54:38,143] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.302
[2025-08-20 01:54:38,143] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 01:54:38,143] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:54:38,143] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:54:38,144] [DEBUG] [backtesting:306] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 01:54:38,144] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,144] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 69
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@69
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=65:70, 当前值=11.8900
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.442
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.442
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 69, 值: 11.442
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[69] = 11.442
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 01:54:38,145] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.302
[2025-08-20 01:54:38,145] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.302 (from index 68)
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 69
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@69
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=63:70, 当前值=11.8900
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.322857142857144
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.322857142857144
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 69, 值: 11.322857142857144
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[69] = 11.322857142857144
[2025-08-20 01:54:38,145] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 01:54:38,145] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 01:54:38,145] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 68)
[2025-08-20 01:54:38,146] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 01:54:38,146] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 01:54:38,146] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,146] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,146] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 01:54:38,146] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 01:54:38,146] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,146] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 01:54:38,146] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 01:54:38,146] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 01:54:38,146] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 01:54:38,146] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 70
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@70
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=66:71, 当前值=10.7000
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.308
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.308
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 70, 值: 11.308
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[70] = 11.308
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 01:54:38,147] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 01:54:38,147] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.442 (from index 69)
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 70
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@70
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=64:71, 当前值=10.7000
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.299999999999999
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.299999999999999
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 70, 值: 11.299999999999999
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[70] = 11.299999999999999
[2025-08-20 01:54:38,147] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 01:54:38,148] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 01:54:38,148] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.322857142857144 (from index 69)
[2025-08-20 01:54:38,148] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 01:54:38,148] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 01:54:38,148] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,148] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,148] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 01:54:38,148] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 01:54:38,148] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,148] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 01:54:38,148] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 01:54:38,149] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 01:54:38,149] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 01:54:38,149] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 71
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@71
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=67:72, 当前值=9.9300
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.01
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.01
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 71, 值: 11.01
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[71] = 11.01
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 01:54:38,149] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 01:54:38,149] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.308 (from index 70)
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 71
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@71
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=65:72, 当前值=9.9300
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.120000000000001
[2025-08-20 01:54:38,149] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.120000000000001
[2025-08-20 01:54:38,150] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 71, 值: 11.120000000000001
[2025-08-20 01:54:38,150] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[71] = 11.120000000000001
[2025-08-20 01:54:38,150] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 01:54:38,150] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 01:54:38,150] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.299999999999999 (from index 70)
[2025-08-20 01:54:38,150] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 01:54:38,150] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 01:54:38,150] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,150] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,150] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 01:54:38,150] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 01:54:38,150] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,150] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 01:54:38,150] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 01:54:38,150] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 01:54:38,150] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 01:54:38,151] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:54:38,151] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:54:38,151] [DEBUG] [backtesting:306] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 01:54:38,151] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,151] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,151] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 72
[2025-08-20 01:54:38,151] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,151] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@72
[2025-08-20 01:54:38,151] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=68:73, 当前值=9.8900
[2025-08-20 01:54:38,151] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.742
[2025-08-20 01:54:38,151] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.742
[2025-08-20 01:54:38,151] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 72, 值: 10.742
[2025-08-20 01:54:38,151] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[72] = 10.742
[2025-08-20 01:54:38,151] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 01:54:38,151] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 01:54:38,151] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.01 (from index 71)
[2025-08-20 01:54:38,151] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,151] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 72
[2025-08-20 01:54:38,152] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,152] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@72
[2025-08-20 01:54:38,152] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=66:73, 当前值=9.8900
[2025-08-20 01:54:38,152] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.90857142857143
[2025-08-20 01:54:38,152] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.90857142857143
[2025-08-20 01:54:38,152] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 72, 值: 10.90857142857143
[2025-08-20 01:54:38,152] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[72] = 10.90857142857143
[2025-08-20 01:54:38,152] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 01:54:38,152] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 01:54:38,152] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.120000000000001 (from index 71)
[2025-08-20 01:54:38,152] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 01:54:38,152] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 01:54:38,152] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,152] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,152] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 01:54:38,152] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 01:54:38,152] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,152] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 01:54:38,152] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 01:54:38,153] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 01:54:38,153] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 01:54:38,153] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,153] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,153] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 73
[2025-08-20 01:54:38,153] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,153] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@73
[2025-08-20 01:54:38,153] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=69:74, 当前值=9.7500
[2025-08-20 01:54:38,153] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.431999999999999
[2025-08-20 01:54:38,153] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.431999999999999
[2025-08-20 01:54:38,153] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 73, 值: 10.431999999999999
[2025-08-20 01:54:38,153] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[73] = 10.431999999999999
[2025-08-20 01:54:38,153] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 01:54:38,153] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 01:54:38,153] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.742 (from index 72)
[2025-08-20 01:54:38,153] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,153] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 73
[2025-08-20 01:54:38,154] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,154] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@73
[2025-08-20 01:54:38,154] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=67:74, 当前值=9.7500
[2025-08-20 01:54:38,154] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.67
[2025-08-20 01:54:38,154] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.67
[2025-08-20 01:54:38,154] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 73, 值: 10.67
[2025-08-20 01:54:38,154] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[73] = 10.67
[2025-08-20 01:54:38,154] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 01:54:38,154] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 01:54:38,154] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.90857142857143 (from index 72)
[2025-08-20 01:54:38,154] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 01:54:38,154] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 01:54:38,154] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,154] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,154] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 01:54:38,154] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 01:54:38,154] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,154] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 01:54:38,154] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 01:54:38,155] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 01:54:38,155] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 01:54:38,155] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,155] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,155] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 74
[2025-08-20 01:54:38,155] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,155] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@74
[2025-08-20 01:54:38,155] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=70:75, 当前值=9.8500
[2025-08-20 01:54:38,155] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.024
[2025-08-20 01:54:38,155] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.024
[2025-08-20 01:54:38,155] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 74, 值: 10.024
[2025-08-20 01:54:38,155] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[74] = 10.024
[2025-08-20 01:54:38,155] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 01:54:38,155] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 01:54:38,155] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.431999999999999 (from index 73)
[2025-08-20 01:54:38,155] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,155] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 74
[2025-08-20 01:54:38,155] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,156] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@74
[2025-08-20 01:54:38,156] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=68:75, 当前值=9.8500
[2025-08-20 01:54:38,156] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.472857142857142
[2025-08-20 01:54:38,156] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.472857142857142
[2025-08-20 01:54:38,156] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 74, 值: 10.472857142857142
[2025-08-20 01:54:38,156] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[74] = 10.472857142857142
[2025-08-20 01:54:38,156] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 01:54:38,156] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 01:54:38,156] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.67 (from index 73)
[2025-08-20 01:54:38,156] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 01:54:38,156] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 01:54:38,156] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,156] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,156] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 01:54:38,156] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 01:54:38,156] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,156] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 01:54:38,156] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 01:54:38,157] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 01:54:38,157] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 01:54:38,157] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,157] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,157] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 75
[2025-08-20 01:54:38,157] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,157] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@75
[2025-08-20 01:54:38,157] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=71:76, 当前值=9.9400
[2025-08-20 01:54:38,157] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.872
[2025-08-20 01:54:38,157] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.872
[2025-08-20 01:54:38,157] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 75, 值: 9.872
[2025-08-20 01:54:38,157] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[75] = 9.872
[2025-08-20 01:54:38,158] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 01:54:38,158] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 01:54:38,158] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.024 (from index 74)
[2025-08-20 01:54:38,158] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,158] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 75
[2025-08-20 01:54:38,158] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,158] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@75
[2025-08-20 01:54:38,159] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=69:76, 当前值=9.9400
[2025-08-20 01:54:38,159] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.278571428571428
[2025-08-20 01:54:38,159] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.278571428571428
[2025-08-20 01:54:38,159] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 75, 值: 10.278571428571428
[2025-08-20 01:54:38,159] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[75] = 10.278571428571428
[2025-08-20 01:54:38,159] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 01:54:38,159] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 01:54:38,159] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.472857142857142 (from index 74)
[2025-08-20 01:54:38,159] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:54:38,159] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 01:54:38,159] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,159] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,160] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:54:38,160] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 01:54:38,160] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,160] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 01:54:38,160] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 01:54:38,161] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:54:38,161] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 01:54:38,161] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,161] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,161] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 76
[2025-08-20 01:54:38,162] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,162] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@76
[2025-08-20 01:54:38,162] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=72:77, 当前值=9.9300
[2025-08-20 01:54:38,162] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.872
[2025-08-20 01:54:38,162] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.872
[2025-08-20 01:54:38,162] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 76, 值: 9.872
[2025-08-20 01:54:38,162] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[76] = 9.872
[2025-08-20 01:54:38,162] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 01:54:38,162] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:54:38,162] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 75)
[2025-08-20 01:54:38,162] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,162] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 76
[2025-08-20 01:54:38,162] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,162] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@76
[2025-08-20 01:54:38,162] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=70:77, 当前值=9.9300
[2025-08-20 01:54:38,162] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.998571428571427
[2025-08-20 01:54:38,163] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.998571428571427
[2025-08-20 01:54:38,163] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 76, 值: 9.998571428571427
[2025-08-20 01:54:38,163] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[76] = 9.998571428571427
[2025-08-20 01:54:38,163] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 01:54:38,163] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 01:54:38,163] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.278571428571428 (from index 75)
[2025-08-20 01:54:38,163] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:54:38,163] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 01:54:38,163] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,163] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,163] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:54:38,163] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 01:54:38,163] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,163] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 01:54:38,163] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 01:54:38,164] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:54:38,164] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 01:54:38,164] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,164] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,164] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 77
[2025-08-20 01:54:38,164] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,164] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@77
[2025-08-20 01:54:38,164] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=73:78, 当前值=9.8100
[2025-08-20 01:54:38,164] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.856
[2025-08-20 01:54:38,164] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.856
[2025-08-20 01:54:38,164] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 77, 值: 9.856
[2025-08-20 01:54:38,164] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[77] = 9.856
[2025-08-20 01:54:38,164] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 01:54:38,164] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 01:54:38,164] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 76)
[2025-08-20 01:54:38,164] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,164] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 77
[2025-08-20 01:54:38,164] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,165] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@77
[2025-08-20 01:54:38,165] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=71:78, 当前值=9.8100
[2025-08-20 01:54:38,165] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.87142857142857
[2025-08-20 01:54:38,165] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.87142857142857
[2025-08-20 01:54:38,165] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 77, 值: 9.87142857142857
[2025-08-20 01:54:38,165] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[77] = 9.87142857142857
[2025-08-20 01:54:38,165] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 01:54:38,165] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 01:54:38,165] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.998571428571427 (from index 76)
[2025-08-20 01:54:38,165] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 01:54:38,165] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 01:54:38,165] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,165] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,165] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 01:54:38,165] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 01:54:38,165] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,165] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 01:54:38,165] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 01:54:38,165] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 01:54:38,166] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 01:54:38,166] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 78
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@78
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=74:79, 当前值=9.7700
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.86
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.86
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 78, 值: 9.86
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[78] = 9.86
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 77 (当前索引: 78, 回溯周期: 1)
[2025-08-20 01:54:38,166] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 01:54:38,166] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.856 (from index 77)
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 78
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@78
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=72:79, 当前值=9.7700
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.848571428571429
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.848571428571429
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 78, 值: 9.848571428571429
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[78] = 9.848571428571429
[2025-08-20 01:54:38,166] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 77 (当前索引: 78, 回溯周期: 1)
[2025-08-20 01:54:38,167] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 01:54:38,167] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.87142857142857 (from index 77)
[2025-08-20 01:54:38,167] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 01:54:38,167] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.848571428571429
[2025-08-20 01:54:38,167] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:54:38,167] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:54:38,167] [DEBUG] [backtesting:306] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 01:54:38,167] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,167] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,167] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 79
[2025-08-20 01:54:38,167] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,167] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@79
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=75:80, 当前值=9.8500
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.86
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.86
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 79, 值: 9.86
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[79] = 9.86
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 01:54:38,168] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 01:54:38,168] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 78)
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 79
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@79
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=73:80, 当前值=9.8500
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.842857142857143
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.842857142857143
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 79, 值: 9.842857142857143
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[79] = 9.842857142857143
[2025-08-20 01:54:38,168] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 01:54:38,168] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.848571428571429
[2025-08-20 01:54:38,168] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.848571428571429 (from index 78)
[2025-08-20 01:54:38,168] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 01:54:38,168] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 01:54:38,169] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,169] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,169] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 01:54:38,169] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 01:54:38,169] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,169] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 01:54:38,169] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 01:54:38,169] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 01:54:38,169] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 01:54:38,169] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,169] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,169] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 80
[2025-08-20 01:54:38,169] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,169] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@80
[2025-08-20 01:54:38,169] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=76:81, 当前值=9.7200
[2025-08-20 01:54:38,169] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.815999999999999
[2025-08-20 01:54:38,169] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.815999999999999
[2025-08-20 01:54:38,169] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 80, 值: 9.815999999999999
[2025-08-20 01:54:38,170] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[80] = 9.815999999999999
[2025-08-20 01:54:38,170] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 01:54:38,170] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 01:54:38,170] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 79)
[2025-08-20 01:54:38,170] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,170] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 80
[2025-08-20 01:54:38,170] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,170] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@80
[2025-08-20 01:54:38,170] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=74:81, 当前值=9.7200
[2025-08-20 01:54:38,170] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.838571428571429
[2025-08-20 01:54:38,170] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.838571428571429
[2025-08-20 01:54:38,170] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 80, 值: 9.838571428571429
[2025-08-20 01:54:38,170] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[80] = 9.838571428571429
[2025-08-20 01:54:38,170] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 01:54:38,170] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 01:54:38,170] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.842857142857143 (from index 79)
[2025-08-20 01:54:38,170] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 01:54:38,170] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 01:54:38,170] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,170] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,170] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 01:54:38,171] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 01:54:38,171] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,171] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 01:54:38,171] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 01:54:38,171] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 01:54:38,171] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 01:54:38,171] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:54:38,171] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:54:38,171] [DEBUG] [backtesting:306] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 01:54:38,171] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,171] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,171] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 81
[2025-08-20 01:54:38,171] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@81
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=77:82, 当前值=9.7100
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.772
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.772
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 81, 值: 9.772
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[81] = 9.772
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 01:54:38,172] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 01:54:38,172] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.815999999999999 (from index 80)
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 81
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@81
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=75:82, 当前值=9.7100
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.81857142857143
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.81857142857143
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 81, 值: 9.81857142857143
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[81] = 9.81857142857143
[2025-08-20 01:54:38,172] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 01:54:38,172] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 01:54:38,172] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.838571428571429 (from index 80)
[2025-08-20 01:54:38,172] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 01:54:38,172] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 01:54:38,173] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,173] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,173] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 01:54:38,173] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 01:54:38,173] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,173] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 01:54:38,173] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 01:54:38,173] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 01:54:38,173] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 01:54:38,173] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,173] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,173] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 82
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@82
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=78:83, 当前值=9.6000
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.73
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.73
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 82, 值: 9.73
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[82] = 9.73
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 01:54:38,174] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 01:54:38,174] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.772 (from index 81)
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 82
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@82
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=76:83, 当前值=9.6000
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.77
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.77
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 82, 值: 9.77
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[82] = 9.77
[2025-08-20 01:54:38,174] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 01:54:38,174] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 01:54:38,174] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.81857142857143 (from index 81)
[2025-08-20 01:54:38,174] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 01:54:38,174] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 01:54:38,175] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,175] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,175] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 01:54:38,175] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 01:54:38,175] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,175] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 01:54:38,175] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 01:54:38,175] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 01:54:38,175] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 01:54:38,175] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,175] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,175] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 83
[2025-08-20 01:54:38,176] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,176] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@83
[2025-08-20 01:54:38,176] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=79:84, 当前值=9.5900
[2025-08-20 01:54:38,176] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.693999999999999
[2025-08-20 01:54:38,176] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.693999999999999
[2025-08-20 01:54:38,176] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 83, 值: 9.693999999999999
[2025-08-20 01:54:38,176] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[83] = 9.693999999999999
[2025-08-20 01:54:38,176] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 01:54:38,176] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 01:54:38,176] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.73 (from index 82)
[2025-08-20 01:54:38,176] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,176] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 83
[2025-08-20 01:54:38,177] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,177] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@83
[2025-08-20 01:54:38,177] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=77:84, 当前值=9.5900
[2025-08-20 01:54:38,177] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.721428571428572
[2025-08-20 01:54:38,177] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.721428571428572
[2025-08-20 01:54:38,177] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 83, 值: 9.721428571428572
[2025-08-20 01:54:38,177] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[83] = 9.721428571428572
[2025-08-20 01:54:38,177] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 01:54:38,177] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 01:54:38,177] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.77 (from index 82)
[2025-08-20 01:54:38,177] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 01:54:38,177] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 01:54:38,177] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,177] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,177] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 01:54:38,177] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 01:54:38,177] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,178] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 01:54:38,178] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 01:54:38,178] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 01:54:38,178] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 01:54:38,178] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,178] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,178] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 84
[2025-08-20 01:54:38,178] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,178] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@84
[2025-08-20 01:54:38,178] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=80:85, 当前值=9.9400
[2025-08-20 01:54:38,178] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.712
[2025-08-20 01:54:38,178] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.712
[2025-08-20 01:54:38,178] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 84, 值: 9.712
[2025-08-20 01:54:38,178] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[84] = 9.712
[2025-08-20 01:54:38,178] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 01:54:38,179] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 01:54:38,179] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.693999999999999 (from index 83)
[2025-08-20 01:54:38,179] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,179] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 84
[2025-08-20 01:54:38,179] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,179] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@84
[2025-08-20 01:54:38,179] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=78:85, 当前值=9.9400
[2025-08-20 01:54:38,179] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.74
[2025-08-20 01:54:38,179] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.74
[2025-08-20 01:54:38,179] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 84, 值: 9.74
[2025-08-20 01:54:38,179] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[84] = 9.74
[2025-08-20 01:54:38,179] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 01:54:38,179] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 01:54:38,179] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.721428571428572 (from index 83)
[2025-08-20 01:54:38,179] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 01:54:38,179] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 01:54:38,179] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,179] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,179] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 01:54:38,179] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 01:54:38,179] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,180] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 01:54:38,180] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 01:54:38,180] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 01:54:38,180] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 01:54:38,180] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,180] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,180] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 85
[2025-08-20 01:54:38,180] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,180] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@85
[2025-08-20 01:54:38,180] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=81:86, 当前值=9.8000
[2025-08-20 01:54:38,180] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.728
[2025-08-20 01:54:38,180] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.728
[2025-08-20 01:54:38,180] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 85, 值: 9.728
[2025-08-20 01:54:38,180] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[85] = 9.728
[2025-08-20 01:54:38,180] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 01:54:38,180] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 01:54:38,180] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.712 (from index 84)
[2025-08-20 01:54:38,180] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,181] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 85
[2025-08-20 01:54:38,181] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,181] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@85
[2025-08-20 01:54:38,181] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=79:86, 当前值=9.8000
[2025-08-20 01:54:38,181] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.744285714285713
[2025-08-20 01:54:38,181] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.744285714285713
[2025-08-20 01:54:38,181] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 85, 值: 9.744285714285713
[2025-08-20 01:54:38,181] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[85] = 9.744285714285713
[2025-08-20 01:54:38,181] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 01:54:38,181] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 01:54:38,181] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.74 (from index 84)
[2025-08-20 01:54:38,181] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 01:54:38,181] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 01:54:38,181] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,181] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,181] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 01:54:38,181] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 01:54:38,181] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,181] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 01:54:38,182] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 01:54:38,182] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 01:54:38,182] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 01:54:38,182] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,182] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,182] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 86
[2025-08-20 01:54:38,182] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,182] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@86
[2025-08-20 01:54:38,182] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=82:87, 当前值=9.8800
[2025-08-20 01:54:38,182] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.762
[2025-08-20 01:54:38,182] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.762
[2025-08-20 01:54:38,182] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 86, 值: 9.762
[2025-08-20 01:54:38,182] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[86] = 9.762
[2025-08-20 01:54:38,182] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 85 (当前索引: 86, 回溯周期: 1)
[2025-08-20 01:54:38,182] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 01:54:38,182] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.728 (from index 85)
[2025-08-20 01:54:38,183] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,183] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 86
[2025-08-20 01:54:38,183] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,183] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@86
[2025-08-20 01:54:38,183] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=80:87, 当前值=9.8800
[2025-08-20 01:54:38,183] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.748571428571427
[2025-08-20 01:54:38,183] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.748571428571427
[2025-08-20 01:54:38,183] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 86, 值: 9.748571428571427
[2025-08-20 01:54:38,183] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[86] = 9.748571428571427
[2025-08-20 01:54:38,183] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 85 (当前索引: 86, 回溯周期: 1)
[2025-08-20 01:54:38,183] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 01:54:38,183] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.744285714285713 (from index 85)
[2025-08-20 01:54:38,183] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.762
[2025-08-20 01:54:38,183] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.748571428571427
[2025-08-20 01:54:38,183] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 01:54:38,183] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 01:54:38,184] [DEBUG] [backtesting:306] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 01:54:38,184] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 87
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@87
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=83:88, 当前值=10.8700
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.016
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.016
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 87, 值: 10.016
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[87] = 10.016
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 01:54:38,184] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.762
[2025-08-20 01:54:38,184] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.762 (from index 86)
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 87
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@87
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=81:88, 当前值=10.8700
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.912857142857144
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.912857142857144
[2025-08-20 01:54:38,184] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 87, 值: 9.912857142857144
[2025-08-20 01:54:38,185] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[87] = 9.912857142857144
[2025-08-20 01:54:38,185] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 01:54:38,185] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.748571428571427
[2025-08-20 01:54:38,185] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.748571428571427 (from index 86)
[2025-08-20 01:54:38,185] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 01:54:38,185] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 01:54:38,185] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,185] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,185] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 01:54:38,185] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 01:54:38,185] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,185] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 01:54:38,185] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 01:54:38,186] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 01:54:38,186] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 01:54:38,186] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,186] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,186] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 88
[2025-08-20 01:54:38,186] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,186] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@88
[2025-08-20 01:54:38,186] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=84:89, 当前值=11.2400
[2025-08-20 01:54:38,186] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.346
[2025-08-20 01:54:38,186] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.346
[2025-08-20 01:54:38,186] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 88, 值: 10.346
[2025-08-20 01:54:38,186] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[88] = 10.346
[2025-08-20 01:54:38,186] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 01:54:38,186] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 01:54:38,186] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.016 (from index 87)
[2025-08-20 01:54:38,186] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,186] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 88
[2025-08-20 01:54:38,186] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,186] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@88
[2025-08-20 01:54:38,187] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=82:89, 当前值=11.2400
[2025-08-20 01:54:38,187] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.131428571428572
[2025-08-20 01:54:38,187] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.131428571428572
[2025-08-20 01:54:38,187] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 88, 值: 10.131428571428572
[2025-08-20 01:54:38,187] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[88] = 10.131428571428572
[2025-08-20 01:54:38,187] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 01:54:38,187] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 01:54:38,187] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.912857142857144 (from index 87)
[2025-08-20 01:54:38,187] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 01:54:38,187] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 01:54:38,187] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,187] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,187] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 01:54:38,187] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 01:54:38,187] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,187] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 01:54:38,187] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 01:54:38,188] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 01:54:38,188] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 01:54:38,188] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,188] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 89
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@89
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=85:90, 当前值=10.8900
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.536
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.536
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 89, 值: 10.536
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[89] = 10.536
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 01:54:38,189] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 01:54:38,189] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.346 (from index 88)
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 89
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@89
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=83:90, 当前值=10.8900
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.315714285714284
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.315714285714284
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 89, 值: 10.315714285714284
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[89] = 10.315714285714284
[2025-08-20 01:54:38,189] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 01:54:38,189] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 01:54:38,189] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.131428571428572 (from index 88)
[2025-08-20 01:54:38,190] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 01:54:38,190] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 01:54:38,190] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,190] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,190] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 01:54:38,190] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 01:54:38,190] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,190] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 01:54:38,190] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 01:54:38,190] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 01:54:38,190] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 01:54:38,190] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 90
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@90
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=86:91, 当前值=10.9600
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.768
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.768
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 90, 值: 10.768
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[90] = 10.768
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 01:54:38,191] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 01:54:38,191] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.536 (from index 89)
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 90
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@90
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=84:91, 当前值=10.9600
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.51142857142857
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.51142857142857
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 90, 值: 10.51142857142857
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[90] = 10.51142857142857
[2025-08-20 01:54:38,191] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 01:54:38,191] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 01:54:38,191] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.315714285714284 (from index 89)
[2025-08-20 01:54:38,192] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 01:54:38,192] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 01:54:38,192] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,192] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,192] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 01:54:38,192] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 01:54:38,192] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,192] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 01:54:38,192] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 01:54:38,192] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 01:54:38,192] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 01:54:38,192] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 91
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@91
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=87:92, 当前值=10.6400
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.92
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.92
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 91, 值: 10.92
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[91] = 10.92
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 01:54:38,193] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 01:54:38,193] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.768 (from index 90)
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 91
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@91
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=85:92, 当前值=10.6400
[2025-08-20 01:54:38,193] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.611428571428572
[2025-08-20 01:54:38,194] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.611428571428572
[2025-08-20 01:54:38,194] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 91, 值: 10.611428571428572
[2025-08-20 01:54:38,194] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[91] = 10.611428571428572
[2025-08-20 01:54:38,194] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 01:54:38,194] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 01:54:38,194] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.51142857142857 (from index 90)
[2025-08-20 01:54:38,195] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 01:54:38,195] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 01:54:38,195] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,195] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,195] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 01:54:38,195] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 01:54:38,195] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,195] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 01:54:38,195] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 01:54:38,195] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 01:54:38,195] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 01:54:38,195] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 92
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@92
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=88:93, 当前值=10.2700
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.8
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.8
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 92, 值: 10.8
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[92] = 10.8
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 01:54:38,196] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 01:54:38,196] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.92 (from index 91)
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 92
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@92
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=86:93, 当前值=10.2700
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.678571428571429
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.678571428571429
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 92, 值: 10.678571428571429
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[92] = 10.678571428571429
[2025-08-20 01:54:38,196] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 01:54:38,196] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 01:54:38,196] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.611428571428572 (from index 91)
[2025-08-20 01:54:38,197] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 01:54:38,197] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 01:54:38,197] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,197] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,197] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 01:54:38,197] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 01:54:38,197] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,197] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 01:54:38,197] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 01:54:38,197] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 01:54:38,197] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 01:54:38,197] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 93
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@93
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=89:94, 当前值=10.3000
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.612
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.612
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 93, 值: 10.612
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[93] = 10.612
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 01:54:38,198] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 01:54:38,198] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.8 (from index 92)
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 93
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@93
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=87:94, 当前值=10.3000
[2025-08-20 01:54:38,198] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.73857142857143
[2025-08-20 01:54:38,199] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.73857142857143
[2025-08-20 01:54:38,199] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 93, 值: 10.73857142857143
[2025-08-20 01:54:38,199] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[93] = 10.73857142857143
[2025-08-20 01:54:38,199] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 01:54:38,199] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 01:54:38,199] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.678571428571429 (from index 92)
[2025-08-20 01:54:38,199] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 01:54:38,199] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 01:54:38,199] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,199] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,199] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 01:54:38,199] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 01:54:38,199] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,199] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 01:54:38,199] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 01:54:38,199] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 01:54:38,199] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 01:54:38,200] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 01:54:38,200] [DEBUG] [backtesting:297] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 01:54:38,200] [DEBUG] [backtesting:306] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 01:54:38,200] [ERROR] [backtesting:468] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 01:54:38,200] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,200] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 94
[2025-08-20 01:54:38,200] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 01:54:38,200] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@94
[2025-08-20 01:54:38,200] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=90:95, 当前值=10.2800
[2025-08-20 01:54:38,200] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.49
[2025-08-20 01:54:38,200] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.49
[2025-08-20 01:54:38,200] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 94, 值: 10.49
[2025-08-20 01:54:38,200] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[94] = 10.49
[2025-08-20 01:54:38,200] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 01:54:38,200] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 01:54:38,200] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.612 (from index 93)
[2025-08-20 01:54:38,200] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,201] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 94
[2025-08-20 01:54:38,201] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 01:54:38,201] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@94
[2025-08-20 01:54:38,201] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=88:95, 当前值=10.2800
[2025-08-20 01:54:38,201] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.654285714285715
[2025-08-20 01:54:38,201] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.654285714285715
[2025-08-20 01:54:38,201] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 94, 值: 10.654285714285715
[2025-08-20 01:54:38,201] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[94] = 10.654285714285715
[2025-08-20 01:54:38,201] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 01:54:38,201] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 01:54:38,201] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.73857142857143 (from index 93)
[2025-08-20 01:54:38,201] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 01:54:38,201] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 01:54:38,201] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 01:54:38,201] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 01:54:38,201] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 01:54:38,201] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 01:54:38,201] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 01:54:38,201] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 01:54:38,201] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 01:54:38,202] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 01:54:38,202] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 01:54:38,202] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 01:54:38,202] [DEBUG] [backtesting:262] [conn:N/A] 回测完成
[2025-08-20 01:54:38,202] [DEBUG] [backtesting:295] [conn:N/A] 回测完成！
[2025-08-20 02:30:22,184] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 02:30:22,184] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 02:30:22,184] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 02:30:22,344] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 02:30:22,358] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 02:30:22,405] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 02:30:22,418] [DEBUG] [backtesting:497] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 02:30:22,419] [DEBUG] [backtesting:497] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 02:30:22,419] [DEBUG] [backtesting:497] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 02:30:22,423] [DEBUG] [backtesting:497] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 02:30:22,424] [DEBUG] [backtesting:497] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 02:30:22,424] [DEBUG] [backtesting:497] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 02:30:22,424] [DEBUG] [backtesting:497] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 02:30:22,427] [DEBUG] [backtesting:497] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 02:30:22,427] [DEBUG] [backtesting:522] [conn:N/A] 注册策略调度处理器: fe8281ee-b17d-44a8-b4df-6939bb756f1c
[2025-08-20 02:30:22,427] [INFO] [backtesting:525] [conn:N/A] 策略注册成功 | ID: fe8281ee-b17d-44a8-b4df-6939bb756f1c | 名称: 自定义规则策略
[2025-08-20 02:30:22,427] [DEBUG] [backtesting:282] [conn:N/A] 开始回测...
[2025-08-20 02:30:22,427] [DEBUG] [backtesting:225] [conn:N/A] 识别数据频率为：日线
[2025-08-20 02:30:22,430] [DEBUG] [backtesting:251] [conn:N/A] 开始回测...
[2025-08-20 02:30:22,430] [INFO] [backtesting:572] [conn:N/A] 回测系统初始化开始
[2025-08-20 02:30:22,430] [INFO] [backtesting:584] [conn:N/A] 策略初始化完成: fe8281ee-b17d-44a8-b4df-6939bb756f1c
[2025-08-20 02:30:22,430] [INFO] [backtesting:602] [conn:N/A] 回测系统初始化完成
[2025-08-20 02:30:22,431] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,431] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 02:30:22,431] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,431] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 02:30:22,432] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 02:30:22,432] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 02:30:22,432] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,432] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 02:30:22,432] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 02:30:22,432] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,432] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 02:30:22,432] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,432] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 02:30:22,432] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 02:30:22,432] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 02:30:22,432] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,433] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 02:30:22,433] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 02:30:22,433] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 02:30:22,433] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,433] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 02:30:22,433] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 02:30:22,433] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,433] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 02:30:22,433] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,433] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,433] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 02:30:22,433] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,433] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 02:30:22,433] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 02:30:22,433] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,434] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 02:30:22,434] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,434] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 02:30:22,434] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 02:30:22,434] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 02:30:22,434] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,434] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 02:30:22,434] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 02:30:22,434] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,434] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 02:30:22,434] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,434] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 02:30:22,435] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,435] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 02:30:22,435] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 02:30:22,436] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 02:30:22,436] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 02:30:22,437] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 02:30:22,437] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,437] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 02:30:22,437] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 02:30:22,437] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,437] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 02:30:22,437] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,437] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,437] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 02:30:22,437] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,437] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 02:30:22,437] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 02:30:22,437] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 02:30:22,437] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,437] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 02:30:22,437] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 1)
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 02:30:22,438] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 1)
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 02:30:22,438] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 02:30:22,438] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 02:30:22,439] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 02:30:22,439] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 02:30:22,440] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 2)
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 02:30:22,440] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 2)
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 02:30:22,440] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 02:30:22,440] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 02:30:22,441] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 02:30:22,441] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 02:30:22,442] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,442] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 02:30:22,442] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 3)
[2025-08-20 02:30:22,442] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,442] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 02:30:22,442] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,442] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 02:30:22,442] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 02:30:22,442] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 02:30:22,442] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,442] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 02:30:22,443] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 3)
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 02:30:22,443] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 02:30:22,443] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,444] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 02:30:22,444] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 02:30:22,444] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,444] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 02:30:22,444] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,444] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,444] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 02:30:22,444] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,444] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@5
[2025-08-20 02:30:22,444] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=1:6, 当前值=5.6700
[2025-08-20 02:30:22,444] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.093999999999999
[2025-08-20 02:30:22,444] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.093999999999999
[2025-08-20 02:30:22,444] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 5, 值: 6.093999999999999
[2025-08-20 02:30:22,444] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[5] = 6.093999999999999
[2025-08-20 02:30:22,444] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 02:30:22,445] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 4)
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 02:30:22,445] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 4)
[2025-08-20 02:30:22,445] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 02:30:22,445] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,445] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,445] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 02:30:22,446] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 02:30:22,446] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,446] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 02:30:22,446] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,446] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 02:30:22,446] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 02:30:22,446] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 02:30:22,446] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 02:30:22,446] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,446] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 02:30:22,446] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,447] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,447] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 02:30:22,447] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,447] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@6
[2025-08-20 02:30:22,447] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=2:7, 当前值=5.9700
[2025-08-20 02:30:22,447] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.964
[2025-08-20 02:30:22,447] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.964
[2025-08-20 02:30:22,447] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 6, 值: 5.964
[2025-08-20 02:30:22,447] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[6] = 5.964
[2025-08-20 02:30:22,447] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 02:30:22,447] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 02:30:22,447] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.093999999999999 (from index 5)
[2025-08-20 02:30:22,447] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,448] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 02:30:22,448] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,448] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 02:30:22,448] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 02:30:22,448] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 02:30:22,448] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,448] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 02:30:22,448] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 5)
[2025-08-20 02:30:22,449] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 02:30:22,449] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 02:30:22,449] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,449] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 02:30:22,449] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,449] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,449] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 02:30:22,450] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 02:30:22,450] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,450] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 02:30:22,450] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,450] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 02:30:22,450] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 02:30:22,451] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 02:30:22,451] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 02:30:22,451] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,451] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 02:30:22,451] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,452] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,452] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 7
[2025-08-20 02:30:22,452] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,452] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@7
[2025-08-20 02:30:22,452] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=3:8, 当前值=6.0600
[2025-08-20 02:30:22,452] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.848
[2025-08-20 02:30:22,452] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.848
[2025-08-20 02:30:22,452] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 7, 值: 5.848
[2025-08-20 02:30:22,452] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[7] = 5.848
[2025-08-20 02:30:22,452] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 02:30:22,452] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 02:30:22,452] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.964 (from index 6)
[2025-08-20 02:30:22,452] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,452] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 7
[2025-08-20 02:30:22,452] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,452] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@7
[2025-08-20 02:30:22,453] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=1:8, 当前值=6.0600
[2025-08-20 02:30:22,453] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.071428571428571
[2025-08-20 02:30:22,453] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.071428571428571
[2025-08-20 02:30:22,453] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 7, 值: 6.071428571428571
[2025-08-20 02:30:22,453] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[7] = 6.071428571428571
[2025-08-20 02:30:22,453] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 02:30:22,453] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 02:30:22,453] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,453] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 02:30:22,453] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 6)
[2025-08-20 02:30:22,453] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 02:30:22,457] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 02:30:22,457] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,457] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,458] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 02:30:22,458] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 02:30:22,458] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,458] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 02:30:22,458] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 02:30:22,458] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 02:30:22,458] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 02:30:22,459] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 02:30:22,459] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 02:30:22,459] [DEBUG] [backtesting:322] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 02:30:22,460] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,460] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,460] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 8
[2025-08-20 02:30:22,460] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,460] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@8
[2025-08-20 02:30:22,460] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=4:9, 当前值=6.2200
[2025-08-20 02:30:22,460] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.896
[2025-08-20 02:30:22,460] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.896
[2025-08-20 02:30:22,460] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 8, 值: 5.896
[2025-08-20 02:30:22,460] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[8] = 5.896
[2025-08-20 02:30:22,460] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 02:30:22,465] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 02:30:22,465] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.848 (from index 7)
[2025-08-20 02:30:22,465] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,465] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 8
[2025-08-20 02:30:22,466] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,466] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@8
[2025-08-20 02:30:22,466] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=2:9, 当前值=6.2200
[2025-08-20 02:30:22,466] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.014285714285714
[2025-08-20 02:30:22,466] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.014285714285714
[2025-08-20 02:30:22,466] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 8, 值: 6.014285714285714
[2025-08-20 02:30:22,466] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[8] = 6.014285714285714
[2025-08-20 02:30:22,466] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 02:30:22,466] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 02:30:22,466] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.071428571428571 (from index 7)
[2025-08-20 02:30:22,467] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 02:30:22,467] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 02:30:22,467] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,467] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,468] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 02:30:22,468] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 02:30:22,468] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,468] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 02:30:22,468] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 02:30:22,468] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 02:30:22,468] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 02:30:22,468] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,469] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,469] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 9
[2025-08-20 02:30:22,469] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,469] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@9
[2025-08-20 02:30:22,469] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=5:10, 当前值=6.2300
[2025-08-20 02:30:22,469] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.029999999999999
[2025-08-20 02:30:22,469] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.029999999999999
[2025-08-20 02:30:22,469] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 9, 值: 6.029999999999999
[2025-08-20 02:30:22,469] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[9] = 6.029999999999999
[2025-08-20 02:30:22,470] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 8 (当前索引: 9, 回溯周期: 1)
[2025-08-20 02:30:22,470] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 02:30:22,470] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.896 (from index 8)
[2025-08-20 02:30:22,470] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,471] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 9
[2025-08-20 02:30:22,471] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,471] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@9
[2025-08-20 02:30:22,471] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=3:10, 当前值=6.2300
[2025-08-20 02:30:22,471] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.9557142857142855
[2025-08-20 02:30:22,471] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=5.9557142857142855
[2025-08-20 02:30:22,471] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 9, 值: 5.9557142857142855
[2025-08-20 02:30:22,471] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[9] = 5.9557142857142855
[2025-08-20 02:30:22,471] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 8 (当前索引: 9, 回溯周期: 1)
[2025-08-20 02:30:22,471] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 02:30:22,471] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.014285714285714 (from index 8)
[2025-08-20 02:30:22,472] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.029999999999999
[2025-08-20 02:30:22,472] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.9557142857142855
[2025-08-20 02:30:22,472] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 02:30:22,472] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 02:30:22,472] [DEBUG] [backtesting:322] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 02:30:22,472] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,472] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 10
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@10
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=6:11, 当前值=6.1700
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.13
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.13
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 10, 值: 6.13
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[10] = 6.13
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 02:30:22,473] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.029999999999999
[2025-08-20 02:30:22,473] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.029999999999999 (from index 9)
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 10
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@10
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=4:11, 当前值=6.1700
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.982857142857143
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=5.982857142857143
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 10, 值: 5.982857142857143
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[10] = 5.982857142857143
[2025-08-20 02:30:22,473] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 02:30:22,473] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.9557142857142855
[2025-08-20 02:30:22,473] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.9557142857142855 (from index 9)
[2025-08-20 02:30:22,473] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 02:30:22,473] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 02:30:22,474] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,474] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,474] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 02:30:22,474] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 02:30:22,474] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,474] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 02:30:22,474] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 02:30:22,474] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 02:30:22,474] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 02:30:22,474] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,474] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 11
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@11
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=7:12, 当前值=6.7900
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.294
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.294
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 11, 值: 6.294
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[11] = 6.294
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 02:30:22,475] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 02:30:22,475] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.13 (from index 10)
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 11
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@11
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=5:12, 当前值=6.7900
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.158571428571428
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.158571428571428
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 11, 值: 6.158571428571428
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[11] = 6.158571428571428
[2025-08-20 02:30:22,475] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 02:30:22,475] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 02:30:22,475] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.982857142857143 (from index 10)
[2025-08-20 02:30:22,475] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 02:30:22,476] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 02:30:22,476] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,476] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,476] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 02:30:22,476] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 02:30:22,476] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,476] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 02:30:22,476] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 02:30:22,476] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 02:30:22,476] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 02:30:22,476] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,476] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 12
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@12
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=8:13, 当前值=6.3400
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.35
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.35
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 12, 值: 6.35
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[12] = 6.35
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 02:30:22,477] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 02:30:22,477] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.294 (from index 11)
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 12
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@12
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=6:13, 当前值=6.3400
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.2542857142857144
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.2542857142857144
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 12, 值: 6.2542857142857144
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[12] = 6.2542857142857144
[2025-08-20 02:30:22,477] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 02:30:22,477] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 02:30:22,477] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.158571428571428 (from index 11)
[2025-08-20 02:30:22,477] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 02:30:22,478] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 02:30:22,478] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,478] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,478] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 02:30:22,478] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 02:30:22,478] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,478] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 02:30:22,478] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 02:30:22,478] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 02:30:22,478] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 02:30:22,478] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,478] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,478] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 13
[2025-08-20 02:30:22,478] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@13
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=9:14, 当前值=6.9700
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.5
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.5
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 13, 值: 6.5
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[13] = 6.5
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 02:30:22,479] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 02:30:22,479] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.35 (from index 12)
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 13
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@13
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=7:14, 当前值=6.9700
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.397142857142858
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.397142857142858
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 13, 值: 6.397142857142858
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[13] = 6.397142857142858
[2025-08-20 02:30:22,479] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 02:30:22,479] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 02:30:22,479] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.2542857142857144 (from index 12)
[2025-08-20 02:30:22,480] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 02:30:22,480] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 02:30:22,480] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,480] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,480] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 02:30:22,480] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 02:30:22,480] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,480] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 02:30:22,480] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 02:30:22,480] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 02:30:22,480] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 02:30:22,481] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 14
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@14
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=10:15, 当前值=6.8200
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.618
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.618
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 14, 值: 6.618
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[14] = 6.618
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 02:30:22,481] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 02:30:22,481] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.5 (from index 13)
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 14
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@14
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=8:15, 当前值=6.8200
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.505714285714285
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.505714285714285
[2025-08-20 02:30:22,481] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 14, 值: 6.505714285714285
[2025-08-20 02:30:22,482] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[14] = 6.505714285714285
[2025-08-20 02:30:22,482] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 02:30:22,482] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 02:30:22,482] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.397142857142858 (from index 13)
[2025-08-20 02:30:22,482] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 02:30:22,483] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 02:30:22,483] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,483] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,483] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 02:30:22,483] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 02:30:22,483] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,483] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 02:30:22,483] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 02:30:22,484] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 02:30:22,484] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 02:30:22,484] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,484] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,484] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 15
[2025-08-20 02:30:22,484] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,484] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@15
[2025-08-20 02:30:22,484] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=11:16, 当前值=6.1800
[2025-08-20 02:30:22,484] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.62
[2025-08-20 02:30:22,484] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.62
[2025-08-20 02:30:22,484] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 15, 值: 6.62
[2025-08-20 02:30:22,484] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[15] = 6.62
[2025-08-20 02:30:22,484] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 02:30:22,484] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 02:30:22,484] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.618 (from index 14)
[2025-08-20 02:30:22,484] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,485] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 15
[2025-08-20 02:30:22,485] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,485] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@15
[2025-08-20 02:30:22,485] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=9:16, 当前值=6.1800
[2025-08-20 02:30:22,485] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.5
[2025-08-20 02:30:22,485] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.5
[2025-08-20 02:30:22,485] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 15, 值: 6.5
[2025-08-20 02:30:22,485] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[15] = 6.5
[2025-08-20 02:30:22,486] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 02:30:22,486] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 02:30:22,486] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.505714285714285 (from index 14)
[2025-08-20 02:30:22,486] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 02:30:22,486] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 02:30:22,486] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,486] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,486] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 02:30:22,486] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 02:30:22,486] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,486] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 02:30:22,486] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 02:30:22,486] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 02:30:22,486] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 02:30:22,487] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 16
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@16
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=12:17, 当前值=5.9200
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.446
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.446
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 16, 值: 6.446
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[16] = 6.446
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 02:30:22,487] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 02:30:22,487] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.62 (from index 15)
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 16
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@16
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=10:17, 当前值=5.9200
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.4557142857142855
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.4557142857142855
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 16, 值: 6.4557142857142855
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[16] = 6.4557142857142855
[2025-08-20 02:30:22,487] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 02:30:22,488] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 02:30:22,488] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.5 (from index 15)
[2025-08-20 02:30:22,488] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 02:30:22,488] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 02:30:22,488] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,488] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,488] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 02:30:22,488] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 02:30:22,488] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,488] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 02:30:22,488] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 02:30:22,488] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 02:30:22,489] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 02:30:22,489] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 02:30:22,489] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 02:30:22,489] [DEBUG] [backtesting:322] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 02:30:22,489] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,489] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,489] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 17
[2025-08-20 02:30:22,489] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,489] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@17
[2025-08-20 02:30:22,489] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=13:18, 当前值=5.9400
[2025-08-20 02:30:22,489] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.366
[2025-08-20 02:30:22,489] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.366
[2025-08-20 02:30:22,489] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 17, 值: 6.366
[2025-08-20 02:30:22,490] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[17] = 6.366
[2025-08-20 02:30:22,490] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 02:30:22,490] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 02:30:22,490] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.446 (from index 16)
[2025-08-20 02:30:22,490] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,490] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 17
[2025-08-20 02:30:22,490] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,490] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@17
[2025-08-20 02:30:22,490] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=11:18, 当前值=5.9400
[2025-08-20 02:30:22,490] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.422857142857143
[2025-08-20 02:30:22,490] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.422857142857143
[2025-08-20 02:30:22,490] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 17, 值: 6.422857142857143
[2025-08-20 02:30:22,490] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[17] = 6.422857142857143
[2025-08-20 02:30:22,490] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 02:30:22,490] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 02:30:22,490] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.4557142857142855 (from index 16)
[2025-08-20 02:30:22,491] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 02:30:22,491] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 02:30:22,491] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,491] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,491] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 02:30:22,491] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 02:30:22,491] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,491] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 02:30:22,491] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 02:30:22,491] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 02:30:22,491] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 02:30:22,491] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 18
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@18
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=14:19, 当前值=6.0900
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.1899999999999995
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.1899999999999995
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 18, 值: 6.1899999999999995
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[18] = 6.1899999999999995
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 02:30:22,492] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 02:30:22,492] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.366 (from index 17)
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 18
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@18
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=12:19, 当前值=6.0900
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.322857142857143
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.322857142857143
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 18, 值: 6.322857142857143
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[18] = 6.322857142857143
[2025-08-20 02:30:22,492] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 02:30:22,492] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 02:30:22,493] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.422857142857143 (from index 17)
[2025-08-20 02:30:22,493] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 02:30:22,493] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 02:30:22,493] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,493] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,493] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 02:30:22,493] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 02:30:22,493] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,493] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 02:30:22,493] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 02:30:22,493] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 02:30:22,493] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 02:30:22,494] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 19
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@19
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=15:20, 当前值=6.1000
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.046
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.046
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 19, 值: 6.046
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[19] = 6.046
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 02:30:22,494] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 02:30:22,494] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.1899999999999995 (from index 18)
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 19
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@19
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=13:20, 当前值=6.1000
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.288571428571429
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.288571428571429
[2025-08-20 02:30:22,494] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 19, 值: 6.288571428571429
[2025-08-20 02:30:22,495] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[19] = 6.288571428571429
[2025-08-20 02:30:22,495] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 02:30:22,495] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 02:30:22,495] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.322857142857143 (from index 18)
[2025-08-20 02:30:22,495] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 02:30:22,495] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 02:30:22,495] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,495] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,495] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 02:30:22,495] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 02:30:22,495] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,495] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 02:30:22,496] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 02:30:22,496] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 02:30:22,496] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 02:30:22,496] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,496] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,496] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 20
[2025-08-20 02:30:22,496] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,496] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@20
[2025-08-20 02:30:22,496] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=16:21, 当前值=6.7100
[2025-08-20 02:30:22,496] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.152
[2025-08-20 02:30:22,496] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.152
[2025-08-20 02:30:22,496] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 20, 值: 6.152
[2025-08-20 02:30:22,496] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[20] = 6.152
[2025-08-20 02:30:22,496] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 02:30:22,496] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 02:30:22,496] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.046 (from index 19)
[2025-08-20 02:30:22,496] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,497] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 20
[2025-08-20 02:30:22,497] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,497] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@20
[2025-08-20 02:30:22,497] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=14:21, 当前值=6.7100
[2025-08-20 02:30:22,497] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.251428571428571
[2025-08-20 02:30:22,497] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.251428571428571
[2025-08-20 02:30:22,497] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 20, 值: 6.251428571428571
[2025-08-20 02:30:22,497] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[20] = 6.251428571428571
[2025-08-20 02:30:22,497] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 02:30:22,497] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 02:30:22,497] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.288571428571429 (from index 19)
[2025-08-20 02:30:22,497] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 02:30:22,497] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 02:30:22,497] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,497] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,497] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 02:30:22,497] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 02:30:22,497] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,497] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 02:30:22,497] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 02:30:22,498] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 02:30:22,498] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 02:30:22,498] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,498] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,498] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 21
[2025-08-20 02:30:22,498] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,498] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@21
[2025-08-20 02:30:22,498] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=17:22, 当前值=7.3800
[2025-08-20 02:30:22,498] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.444
[2025-08-20 02:30:22,498] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.444
[2025-08-20 02:30:22,498] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 21, 值: 6.444
[2025-08-20 02:30:22,498] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[21] = 6.444
[2025-08-20 02:30:22,498] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 20 (当前索引: 21, 回溯周期: 1)
[2025-08-20 02:30:22,499] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 02:30:22,499] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.152 (from index 20)
[2025-08-20 02:30:22,499] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,499] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 21
[2025-08-20 02:30:22,499] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,499] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@21
[2025-08-20 02:30:22,499] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=15:22, 当前值=7.3800
[2025-08-20 02:30:22,499] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.331428571428572
[2025-08-20 02:30:22,499] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.331428571428572
[2025-08-20 02:30:22,499] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 21, 值: 6.331428571428572
[2025-08-20 02:30:22,499] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[21] = 6.331428571428572
[2025-08-20 02:30:22,499] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 20 (当前索引: 21, 回溯周期: 1)
[2025-08-20 02:30:22,499] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 02:30:22,499] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.251428571428571 (from index 20)
[2025-08-20 02:30:22,499] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.444
[2025-08-20 02:30:22,499] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.331428571428572
[2025-08-20 02:30:22,499] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 02:30:22,499] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 02:30:22,500] [DEBUG] [backtesting:322] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 02:30:22,500] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,500] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,500] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 22
[2025-08-20 02:30:22,500] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,500] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@22
[2025-08-20 02:30:22,500] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=18:23, 当前值=7.2700
[2025-08-20 02:30:22,500] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.709999999999999
[2025-08-20 02:30:22,500] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.709999999999999
[2025-08-20 02:30:22,500] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 22, 值: 6.709999999999999
[2025-08-20 02:30:22,500] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[22] = 6.709999999999999
[2025-08-20 02:30:22,500] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 02:30:22,500] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.444
[2025-08-20 02:30:22,500] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.444 (from index 21)
[2025-08-20 02:30:22,500] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,500] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 22
[2025-08-20 02:30:22,500] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,501] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@22
[2025-08-20 02:30:22,501] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=16:23, 当前值=7.2700
[2025-08-20 02:30:22,501] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.487142857142857
[2025-08-20 02:30:22,501] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.487142857142857
[2025-08-20 02:30:22,501] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 22, 值: 6.487142857142857
[2025-08-20 02:30:22,501] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[22] = 6.487142857142857
[2025-08-20 02:30:22,501] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 02:30:22,501] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.331428571428572
[2025-08-20 02:30:22,501] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.331428571428572 (from index 21)
[2025-08-20 02:30:22,501] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 02:30:22,501] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 02:30:22,501] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,501] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,501] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 02:30:22,501] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 02:30:22,501] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,501] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 02:30:22,501] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 02:30:22,501] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 02:30:22,502] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 02:30:22,502] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 23
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@23
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=19:24, 当前值=7.3200
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.956
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.956
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 23, 值: 6.956
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[23] = 6.956
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 02:30:22,502] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 02:30:22,502] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.709999999999999 (from index 22)
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 23
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@23
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=17:24, 当前值=7.3200
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.687142857142858
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.687142857142858
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 23, 值: 6.687142857142858
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[23] = 6.687142857142858
[2025-08-20 02:30:22,502] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 02:30:22,503] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 02:30:22,503] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.487142857142857 (from index 22)
[2025-08-20 02:30:22,503] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 02:30:22,503] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 02:30:22,503] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,503] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,503] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 02:30:22,503] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 02:30:22,503] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,503] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 02:30:22,503] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 02:30:22,503] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 02:30:22,503] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 02:30:22,503] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 24
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@24
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=20:25, 当前值=7.4700
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.2299999999999995
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.2299999999999995
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 24, 值: 7.2299999999999995
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[24] = 7.2299999999999995
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 02:30:22,504] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 02:30:22,504] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.956 (from index 23)
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 24
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@24
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=18:25, 当前值=7.4700
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.905714285714287
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.905714285714287
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 24, 值: 6.905714285714287
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[24] = 6.905714285714287
[2025-08-20 02:30:22,504] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 02:30:22,505] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 02:30:22,505] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.687142857142858 (from index 23)
[2025-08-20 02:30:22,505] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 02:30:22,505] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 02:30:22,505] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,505] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,505] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 02:30:22,505] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 02:30:22,505] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,505] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 02:30:22,505] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 02:30:22,505] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 02:30:22,506] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 02:30:22,506] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 25
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@25
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=21:26, 当前值=7.3300
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.354000000000001
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.354000000000001
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 25, 值: 7.354000000000001
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[25] = 7.354000000000001
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 02:30:22,506] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 02:30:22,506] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.2299999999999995 (from index 24)
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 25
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@25
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=19:26, 当前值=7.3300
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.082857142857143
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.082857142857143
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 25, 值: 7.082857142857143
[2025-08-20 02:30:22,506] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[25] = 7.082857142857143
[2025-08-20 02:30:22,507] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 02:30:22,507] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 02:30:22,507] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.905714285714287 (from index 24)
[2025-08-20 02:30:22,507] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 02:30:22,507] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 02:30:22,507] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,507] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,507] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 02:30:22,507] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 02:30:22,507] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,507] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 02:30:22,507] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 02:30:22,507] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 02:30:22,507] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 02:30:22,508] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 26
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@26
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=22:27, 当前值=7.6600
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.409999999999999
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.409999999999999
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 26, 值: 7.409999999999999
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[26] = 7.409999999999999
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 02:30:22,508] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 02:30:22,508] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.354000000000001 (from index 25)
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 26
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@26
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=20:27, 当前值=7.6600
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.305714285714286
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.305714285714286
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 26, 值: 7.305714285714286
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[26] = 7.305714285714286
[2025-08-20 02:30:22,508] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 02:30:22,508] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 02:30:22,509] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.082857142857143 (from index 25)
[2025-08-20 02:30:22,509] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 02:30:22,509] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 02:30:22,509] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,509] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,509] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 02:30:22,509] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 02:30:22,509] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,509] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 02:30:22,509] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 02:30:22,509] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 02:30:22,509] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 02:30:22,509] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 27
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@27
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=23:28, 当前值=7.7500
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.506
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.506
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 27, 值: 7.506
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[27] = 7.506
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 02:30:22,510] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 02:30:22,510] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.409999999999999 (from index 26)
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 27
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@27
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=21:28, 当前值=7.7500
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.454285714285715
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.454285714285715
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 27, 值: 7.454285714285715
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[27] = 7.454285714285715
[2025-08-20 02:30:22,510] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 02:30:22,510] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 02:30:22,510] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.305714285714286 (from index 26)
[2025-08-20 02:30:22,511] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 02:30:22,511] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 02:30:22,511] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,511] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,511] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 02:30:22,511] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 02:30:22,511] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,511] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 02:30:22,511] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 02:30:22,511] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 02:30:22,511] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 02:30:22,511] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,511] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 28
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@28
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=24:29, 当前值=7.6400
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.57
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.57
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 28, 值: 7.57
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[28] = 7.57
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 02:30:22,512] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 02:30:22,512] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.506 (from index 27)
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 28
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@28
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=22:29, 当前值=7.6400
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.491428571428571
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.491428571428571
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 28, 值: 7.491428571428571
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[28] = 7.491428571428571
[2025-08-20 02:30:22,512] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 02:30:22,512] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 02:30:22,512] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.454285714285715 (from index 27)
[2025-08-20 02:30:22,513] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 02:30:22,513] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 02:30:22,513] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,513] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,513] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 02:30:22,513] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 02:30:22,513] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,513] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 02:30:22,513] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 02:30:22,513] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 02:30:22,513] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 02:30:22,513] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,513] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,513] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 29
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@29
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=25:30, 当前值=7.9700
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.67
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.67
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 29, 值: 7.67
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[29] = 7.67
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 02:30:22,514] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 02:30:22,514] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.57 (from index 28)
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 29
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@29
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=23:30, 当前值=7.9700
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.591428571428572
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.591428571428572
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 29, 值: 7.591428571428572
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[29] = 7.591428571428572
[2025-08-20 02:30:22,514] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 02:30:22,514] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 02:30:22,514] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.491428571428571 (from index 28)
[2025-08-20 02:30:22,515] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 02:30:22,515] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 02:30:22,515] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,515] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,515] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 02:30:22,515] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 02:30:22,515] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,516] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 02:30:22,516] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 02:30:22,516] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 02:30:22,516] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 02:30:22,517] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,517] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,517] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 30
[2025-08-20 02:30:22,517] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,517] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@30
[2025-08-20 02:30:22,517] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=26:31, 当前值=8.0800
[2025-08-20 02:30:22,517] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.82
[2025-08-20 02:30:22,517] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.82
[2025-08-20 02:30:22,517] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 30, 值: 7.82
[2025-08-20 02:30:22,517] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[30] = 7.82
[2025-08-20 02:30:22,517] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 02:30:22,517] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 02:30:22,517] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.67 (from index 29)
[2025-08-20 02:30:22,518] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,518] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 30
[2025-08-20 02:30:22,518] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,518] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@30
[2025-08-20 02:30:22,518] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=24:31, 当前值=8.0800
[2025-08-20 02:30:22,518] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.7
[2025-08-20 02:30:22,518] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.7
[2025-08-20 02:30:22,518] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 30, 值: 7.7
[2025-08-20 02:30:22,518] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[30] = 7.7
[2025-08-20 02:30:22,518] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 02:30:22,518] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 02:30:22,518] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.591428571428572 (from index 29)
[2025-08-20 02:30:22,518] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 02:30:22,518] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 02:30:22,518] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,518] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,518] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 02:30:22,518] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 02:30:22,518] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,519] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 02:30:22,519] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 02:30:22,519] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 02:30:22,519] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 02:30:22,519] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,519] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,519] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 31
[2025-08-20 02:30:22,519] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,519] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@31
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=27:32, 当前值=8.8900
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.065999999999999
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=8.065999999999999
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 31, 值: 8.065999999999999
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[31] = 8.065999999999999
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 02:30:22,520] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 02:30:22,520] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.82 (from index 30)
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 31
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@31
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=25:32, 当前值=8.8900
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.902857142857143
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.902857142857143
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 31, 值: 7.902857142857143
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[31] = 7.902857142857143
[2025-08-20 02:30:22,520] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 02:30:22,520] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 02:30:22,520] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.7 (from index 30)
[2025-08-20 02:30:22,521] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 02:30:22,521] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 02:30:22,521] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,521] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,521] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 02:30:22,521] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 02:30:22,521] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,521] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 02:30:22,521] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 02:30:22,521] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 02:30:22,521] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 02:30:22,521] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 32
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@32
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=28:33, 当前值=9.7800
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.472
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=8.472
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 32, 值: 8.472
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[32] = 8.472
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 02:30:22,522] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 02:30:22,522] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.065999999999999 (from index 31)
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 32
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@32
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=26:33, 当前值=9.7800
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.252857142857144
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=8.252857142857144
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 32, 值: 8.252857142857144
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[32] = 8.252857142857144
[2025-08-20 02:30:22,522] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 02:30:22,522] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 02:30:22,523] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.902857142857143 (from index 31)
[2025-08-20 02:30:22,523] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 02:30:22,523] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 02:30:22,523] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,523] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,523] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 02:30:22,523] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 02:30:22,523] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,523] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 02:30:22,523] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 02:30:22,523] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 02:30:22,523] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 02:30:22,523] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,523] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 33
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@33
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=29:34, 当前值=10.7600
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.096
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.096
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 33, 值: 9.096
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[33] = 9.096
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 02:30:22,524] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 02:30:22,524] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.472 (from index 32)
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 33
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@33
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=27:34, 当前值=10.7600
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.695714285714285
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=8.695714285714285
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 33, 值: 8.695714285714285
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[33] = 8.695714285714285
[2025-08-20 02:30:22,524] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 02:30:22,524] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 02:30:22,524] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.252857142857144 (from index 32)
[2025-08-20 02:30:22,524] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 02:30:22,525] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 02:30:22,525] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,525] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,525] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 02:30:22,525] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 02:30:22,525] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,525] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 02:30:22,525] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 02:30:22,525] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 02:30:22,525] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 02:30:22,525] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,525] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 34
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@34
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=30:35, 当前值=11.4500
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.792
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.792
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 34, 值: 9.792
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[34] = 9.792
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 02:30:22,526] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 02:30:22,526] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.096 (from index 33)
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 34
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@34
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=28:35, 当前值=11.4500
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.224285714285713
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.224285714285713
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 34, 值: 9.224285714285713
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[34] = 9.224285714285713
[2025-08-20 02:30:22,526] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 02:30:22,526] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 02:30:22,526] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.695714285714285 (from index 33)
[2025-08-20 02:30:22,526] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 02:30:22,526] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 02:30:22,527] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,527] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,527] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 02:30:22,527] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 02:30:22,527] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,527] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 02:30:22,527] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 02:30:22,527] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 02:30:22,527] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 02:30:22,527] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,527] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,527] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 35
[2025-08-20 02:30:22,527] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,527] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@35
[2025-08-20 02:30:22,527] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=31:36, 当前值=12.6000
[2025-08-20 02:30:22,527] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.696
[2025-08-20 02:30:22,527] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.696
[2025-08-20 02:30:22,528] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 35, 值: 10.696
[2025-08-20 02:30:22,528] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[35] = 10.696
[2025-08-20 02:30:22,528] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 02:30:22,528] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 02:30:22,528] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.792 (from index 34)
[2025-08-20 02:30:22,528] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,528] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 35
[2025-08-20 02:30:22,528] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,528] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@35
[2025-08-20 02:30:22,528] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=29:36, 当前值=12.6000
[2025-08-20 02:30:22,528] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.932857142857143
[2025-08-20 02:30:22,528] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.932857142857143
[2025-08-20 02:30:22,528] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 35, 值: 9.932857142857143
[2025-08-20 02:30:22,528] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[35] = 9.932857142857143
[2025-08-20 02:30:22,528] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 02:30:22,528] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 02:30:22,528] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.224285714285713 (from index 34)
[2025-08-20 02:30:22,528] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 02:30:22,528] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 02:30:22,528] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,529] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,529] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 02:30:22,529] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 02:30:22,529] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,529] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 02:30:22,529] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 02:30:22,529] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 02:30:22,529] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 02:30:22,529] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,529] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,529] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 36
[2025-08-20 02:30:22,529] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,529] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@36
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=32:37, 当前值=13.8600
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.690000000000001
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.690000000000001
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 36, 值: 11.690000000000001
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[36] = 11.690000000000001
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 02:30:22,530] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 02:30:22,530] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.696 (from index 35)
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 36
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@36
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=30:37, 当前值=13.8600
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.774285714285714
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.774285714285714
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 36, 值: 10.774285714285714
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[36] = 10.774285714285714
[2025-08-20 02:30:22,530] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 02:30:22,530] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 02:30:22,530] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.932857142857143 (from index 35)
[2025-08-20 02:30:22,530] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 02:30:22,530] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 02:30:22,531] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,531] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,531] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 02:30:22,531] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 02:30:22,531] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,531] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 02:30:22,531] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 02:30:22,531] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 02:30:22,531] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 02:30:22,531] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,532] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,532] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 37
[2025-08-20 02:30:22,532] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,532] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@37
[2025-08-20 02:30:22,532] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=33:38, 当前值=13.5000
[2025-08-20 02:30:22,532] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.434000000000001
[2025-08-20 02:30:22,532] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.434000000000001
[2025-08-20 02:30:22,532] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 37, 值: 12.434000000000001
[2025-08-20 02:30:22,532] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[37] = 12.434000000000001
[2025-08-20 02:30:22,532] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 02:30:22,532] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 02:30:22,532] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.690000000000001 (from index 36)
[2025-08-20 02:30:22,532] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,533] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 37
[2025-08-20 02:30:22,533] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,533] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@37
[2025-08-20 02:30:22,533] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=31:38, 当前值=13.5000
[2025-08-20 02:30:22,533] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.54857142857143
[2025-08-20 02:30:22,533] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.54857142857143
[2025-08-20 02:30:22,533] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 37, 值: 11.54857142857143
[2025-08-20 02:30:22,533] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[37] = 11.54857142857143
[2025-08-20 02:30:22,533] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 02:30:22,533] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 02:30:22,533] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.774285714285714 (from index 36)
[2025-08-20 02:30:22,534] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 02:30:22,534] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 02:30:22,534] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,534] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,534] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 02:30:22,534] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 02:30:22,534] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,534] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 02:30:22,534] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 02:30:22,534] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 02:30:22,534] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 02:30:22,534] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,535] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,535] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 38
[2025-08-20 02:30:22,535] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,535] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@38
[2025-08-20 02:30:22,535] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=34:39, 当前值=12.1500
[2025-08-20 02:30:22,535] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.712
[2025-08-20 02:30:22,535] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.712
[2025-08-20 02:30:22,535] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 38, 值: 12.712
[2025-08-20 02:30:22,535] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[38] = 12.712
[2025-08-20 02:30:22,535] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 02:30:22,535] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 02:30:22,535] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.434000000000001 (from index 37)
[2025-08-20 02:30:22,536] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,536] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 38
[2025-08-20 02:30:22,536] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,536] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@38
[2025-08-20 02:30:22,536] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=32:39, 当前值=12.1500
[2025-08-20 02:30:22,536] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.014285714285714
[2025-08-20 02:30:22,536] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.014285714285714
[2025-08-20 02:30:22,536] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 38, 值: 12.014285714285714
[2025-08-20 02:30:22,536] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[38] = 12.014285714285714
[2025-08-20 02:30:22,536] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 02:30:22,536] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 02:30:22,536] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.54857142857143 (from index 37)
[2025-08-20 02:30:22,536] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 02:30:22,536] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 02:30:22,536] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,536] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,536] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 02:30:22,537] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 02:30:22,537] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,537] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 02:30:22,537] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 02:30:22,537] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 02:30:22,537] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 02:30:22,537] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,537] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,537] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 39
[2025-08-20 02:30:22,537] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,537] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@39
[2025-08-20 02:30:22,537] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=35:40, 当前值=11.2600
[2025-08-20 02:30:22,537] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.674
[2025-08-20 02:30:22,537] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.674
[2025-08-20 02:30:22,537] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 39, 值: 12.674
[2025-08-20 02:30:22,537] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[39] = 12.674
[2025-08-20 02:30:22,537] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 02:30:22,538] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 02:30:22,538] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.712 (from index 38)
[2025-08-20 02:30:22,538] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,538] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 39
[2025-08-20 02:30:22,538] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,538] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@39
[2025-08-20 02:30:22,538] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=33:40, 当前值=11.2600
[2025-08-20 02:30:22,538] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.225714285714286
[2025-08-20 02:30:22,538] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.225714285714286
[2025-08-20 02:30:22,538] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 39, 值: 12.225714285714286
[2025-08-20 02:30:22,538] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[39] = 12.225714285714286
[2025-08-20 02:30:22,538] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 02:30:22,538] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 02:30:22,538] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.014285714285714 (from index 38)
[2025-08-20 02:30:22,538] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 02:30:22,538] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 02:30:22,538] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,539] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,539] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 02:30:22,539] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 02:30:22,539] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,539] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 02:30:22,539] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 02:30:22,539] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 02:30:22,539] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 02:30:22,539] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 40
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@40
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=36:41, 当前值=11.8500
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.524
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.524
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 40, 值: 12.524
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[40] = 12.524
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 02:30:22,540] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 02:30:22,540] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.674 (from index 39)
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 40
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@40
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=34:41, 当前值=11.8500
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.381428571428572
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.381428571428572
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 40, 值: 12.381428571428572
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[40] = 12.381428571428572
[2025-08-20 02:30:22,540] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 02:30:22,541] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 02:30:22,541] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.225714285714286 (from index 39)
[2025-08-20 02:30:22,541] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 02:30:22,541] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 02:30:22,541] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,541] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,541] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 02:30:22,541] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 02:30:22,541] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,541] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 02:30:22,541] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 02:30:22,541] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 02:30:22,541] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 02:30:22,541] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 41
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@41
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=37:42, 当前值=13.0400
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.36
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.36
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 41, 值: 12.36
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[41] = 12.36
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 02:30:22,542] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 02:30:22,542] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.524 (from index 40)
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 41
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@41
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=35:42, 当前值=13.0400
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.608571428571429
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.608571428571429
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 41, 值: 12.608571428571429
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[41] = 12.608571428571429
[2025-08-20 02:30:22,542] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 02:30:22,542] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 02:30:22,542] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.381428571428572 (from index 40)
[2025-08-20 02:30:22,543] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 02:30:22,543] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 02:30:22,543] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,543] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,543] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 02:30:22,543] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 02:30:22,543] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,543] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 02:30:22,543] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 02:30:22,543] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 02:30:22,543] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 02:30:22,543] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 02:30:22,543] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 02:30:22,544] [DEBUG] [backtesting:322] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 02:30:22,544] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,544] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,544] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 42
[2025-08-20 02:30:22,544] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,544] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@42
[2025-08-20 02:30:22,544] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=38:43, 当前值=11.7400
[2025-08-20 02:30:22,544] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.008
[2025-08-20 02:30:22,544] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.008
[2025-08-20 02:30:22,544] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 42, 值: 12.008
[2025-08-20 02:30:22,544] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[42] = 12.008
[2025-08-20 02:30:22,544] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 02:30:22,544] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 02:30:22,544] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.36 (from index 41)
[2025-08-20 02:30:22,544] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,545] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 42
[2025-08-20 02:30:22,545] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,545] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@42
[2025-08-20 02:30:22,545] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=36:43, 当前值=11.7400
[2025-08-20 02:30:22,545] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.485714285714286
[2025-08-20 02:30:22,545] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.485714285714286
[2025-08-20 02:30:22,545] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 42, 值: 12.485714285714286
[2025-08-20 02:30:22,545] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[42] = 12.485714285714286
[2025-08-20 02:30:22,545] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 02:30:22,545] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 02:30:22,545] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.608571428571429 (from index 41)
[2025-08-20 02:30:22,546] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 02:30:22,546] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 02:30:22,546] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,546] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,546] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 02:30:22,546] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 02:30:22,546] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,546] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 02:30:22,546] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 02:30:22,546] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 02:30:22,546] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 02:30:22,546] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 43
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@43
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=39:44, 当前值=11.1000
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.798
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.798
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 43, 值: 11.798
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[43] = 11.798
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 02:30:22,547] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 02:30:22,547] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.008 (from index 42)
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 43
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@43
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=37:44, 当前值=11.1000
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.09142857142857
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.09142857142857
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 43, 值: 12.09142857142857
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[43] = 12.09142857142857
[2025-08-20 02:30:22,547] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 02:30:22,547] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 02:30:22,547] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.485714285714286 (from index 42)
[2025-08-20 02:30:22,548] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 02:30:22,548] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 02:30:22,548] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,548] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,548] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 02:30:22,548] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 02:30:22,548] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,548] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 02:30:22,548] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 02:30:22,549] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 02:30:22,549] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 02:30:22,549] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,549] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,549] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 44
[2025-08-20 02:30:22,549] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,549] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@44
[2025-08-20 02:30:22,549] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=40:45, 当前值=11.7300
[2025-08-20 02:30:22,549] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.892
[2025-08-20 02:30:22,549] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.892
[2025-08-20 02:30:22,549] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 44, 值: 11.892
[2025-08-20 02:30:22,549] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[44] = 11.892
[2025-08-20 02:30:22,549] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 43 (当前索引: 44, 回溯周期: 1)
[2025-08-20 02:30:22,549] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 02:30:22,549] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.798 (from index 43)
[2025-08-20 02:30:22,549] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,550] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 44
[2025-08-20 02:30:22,550] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,550] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@44
[2025-08-20 02:30:22,550] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=38:45, 当前值=11.7300
[2025-08-20 02:30:22,550] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.838571428571429
[2025-08-20 02:30:22,550] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.838571428571429
[2025-08-20 02:30:22,550] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 44, 值: 11.838571428571429
[2025-08-20 02:30:22,550] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[44] = 11.838571428571429
[2025-08-20 02:30:22,550] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 43 (当前索引: 44, 回溯周期: 1)
[2025-08-20 02:30:22,550] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 02:30:22,550] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.09142857142857 (from index 43)
[2025-08-20 02:30:22,550] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 02:30:22,550] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.838571428571429
[2025-08-20 02:30:22,550] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 02:30:22,550] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 02:30:22,550] [DEBUG] [backtesting:322] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 02:30:22,551] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 45
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@45
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=41:46, 当前值=11.8500
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.892
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.892
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 45, 值: 11.892
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[45] = 11.892
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 02:30:22,551] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 02:30:22,551] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 44)
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 45
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@45
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=39:46, 当前值=11.8500
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.795714285714284
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.795714285714284
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 45, 值: 11.795714285714284
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[45] = 11.795714285714284
[2025-08-20 02:30:22,551] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 02:30:22,552] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.838571428571429
[2025-08-20 02:30:22,552] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.838571428571429 (from index 44)
[2025-08-20 02:30:22,552] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 02:30:22,552] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 02:30:22,552] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,552] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,552] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 02:30:22,552] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 02:30:22,552] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,552] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 02:30:22,552] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 02:30:22,552] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 02:30:22,552] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 02:30:22,552] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 46
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@46
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=42:47, 当前值=12.2400
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.732
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.732
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 46, 值: 11.732
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[46] = 11.732
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 02:30:22,553] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 02:30:22,553] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 45)
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 46
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@46
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=40:47, 当前值=12.2400
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.935714285714285
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.935714285714285
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 46, 值: 11.935714285714285
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[46] = 11.935714285714285
[2025-08-20 02:30:22,553] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 02:30:22,553] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 02:30:22,553] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.795714285714284 (from index 45)
[2025-08-20 02:30:22,554] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 02:30:22,554] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 02:30:22,554] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,554] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,554] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 02:30:22,554] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 02:30:22,554] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,554] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 02:30:22,554] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 02:30:22,554] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 02:30:22,554] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 02:30:22,554] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 02:30:22,554] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 02:30:22,555] [DEBUG] [backtesting:322] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 02:30:22,555] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,555] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,555] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 47
[2025-08-20 02:30:22,555] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,555] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@47
[2025-08-20 02:30:22,555] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=43:48, 当前值=12.9700
[2025-08-20 02:30:22,555] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.978
[2025-08-20 02:30:22,555] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.978
[2025-08-20 02:30:22,555] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 47, 值: 11.978
[2025-08-20 02:30:22,555] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[47] = 11.978
[2025-08-20 02:30:22,555] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 02:30:22,555] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 02:30:22,555] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 46)
[2025-08-20 02:30:22,555] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,555] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 47
[2025-08-20 02:30:22,555] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,555] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@47
[2025-08-20 02:30:22,556] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=41:48, 当前值=12.9700
[2025-08-20 02:30:22,556] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.095714285714285
[2025-08-20 02:30:22,556] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.095714285714285
[2025-08-20 02:30:22,556] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 47, 值: 12.095714285714285
[2025-08-20 02:30:22,556] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[47] = 12.095714285714285
[2025-08-20 02:30:22,556] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 02:30:22,556] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 02:30:22,556] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.935714285714285 (from index 46)
[2025-08-20 02:30:22,556] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 02:30:22,556] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 02:30:22,556] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,556] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,556] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 02:30:22,556] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 02:30:22,556] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,556] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 02:30:22,556] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 02:30:22,557] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 02:30:22,557] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 02:30:22,557] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 48
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@48
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=44:49, 当前值=12.9700
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.352
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.352
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 48, 值: 12.352
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[48] = 12.352
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 47 (当前索引: 48, 回溯周期: 1)
[2025-08-20 02:30:22,557] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 02:30:22,557] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.978 (from index 47)
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 48
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@48
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=42:49, 当前值=12.9700
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.085714285714285
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.085714285714285
[2025-08-20 02:30:22,557] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 48, 值: 12.085714285714285
[2025-08-20 02:30:22,558] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[48] = 12.085714285714285
[2025-08-20 02:30:22,558] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 47 (当前索引: 48, 回溯周期: 1)
[2025-08-20 02:30:22,558] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 02:30:22,558] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.095714285714285 (from index 47)
[2025-08-20 02:30:22,558] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.352
[2025-08-20 02:30:22,558] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.085714285714285
[2025-08-20 02:30:22,558] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 02:30:22,558] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 02:30:22,558] [DEBUG] [backtesting:322] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 02:30:22,558] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,558] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,558] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 49
[2025-08-20 02:30:22,558] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@49
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=45:50, 当前值=12.8700
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.58
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.58
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 49, 值: 12.58
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[49] = 12.58
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 02:30:22,559] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.352
[2025-08-20 02:30:22,559] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.352 (from index 48)
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 49
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@49
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=43:50, 当前值=12.8700
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.247142857142858
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.247142857142858
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 49, 值: 12.247142857142858
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[49] = 12.247142857142858
[2025-08-20 02:30:22,559] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 02:30:22,559] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.085714285714285
[2025-08-20 02:30:22,559] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.085714285714285 (from index 48)
[2025-08-20 02:30:22,559] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 02:30:22,559] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 02:30:22,560] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,560] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,560] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 02:30:22,560] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 02:30:22,560] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,560] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 02:30:22,560] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 02:30:22,560] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 02:30:22,560] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 02:30:22,560] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,560] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 50
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@50
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=46:51, 当前值=12.3500
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.68
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.68
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 50, 值: 12.68
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[50] = 12.68
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 02:30:22,561] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 02:30:22,561] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.58 (from index 49)
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 50
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@50
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=44:51, 当前值=12.3500
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.425714285714287
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.425714285714287
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 50, 值: 12.425714285714287
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[50] = 12.425714285714287
[2025-08-20 02:30:22,561] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 02:30:22,561] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 02:30:22,561] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.247142857142858 (from index 49)
[2025-08-20 02:30:22,561] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 02:30:22,562] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 02:30:22,562] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,562] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,562] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 02:30:22,562] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 02:30:22,562] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,562] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 02:30:22,562] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 02:30:22,562] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 02:30:22,562] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 02:30:22,562] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,562] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,562] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 51
[2025-08-20 02:30:22,562] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@51
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=47:52, 当前值=12.1800
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.668000000000001
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.668000000000001
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 51, 值: 12.668000000000001
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[51] = 12.668000000000001
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 02:30:22,563] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 02:30:22,563] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.68 (from index 50)
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 51
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@51
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=45:52, 当前值=12.1800
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.49
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.49
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 51, 值: 12.49
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[51] = 12.49
[2025-08-20 02:30:22,563] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 02:30:22,563] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 02:30:22,563] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.425714285714287 (from index 50)
[2025-08-20 02:30:22,563] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 02:30:22,563] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 02:30:22,564] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,564] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,564] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 02:30:22,564] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 02:30:22,564] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,564] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 02:30:22,564] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 02:30:22,564] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 02:30:22,564] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 02:30:22,564] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,564] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,564] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 52
[2025-08-20 02:30:22,564] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,564] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@52
[2025-08-20 02:30:22,564] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=48:53, 当前值=11.6200
[2025-08-20 02:30:22,565] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.398
[2025-08-20 02:30:22,565] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.398
[2025-08-20 02:30:22,565] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 52, 值: 12.398
[2025-08-20 02:30:22,565] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[52] = 12.398
[2025-08-20 02:30:22,565] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 02:30:22,565] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 02:30:22,565] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.668000000000001 (from index 51)
[2025-08-20 02:30:22,565] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,565] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 52
[2025-08-20 02:30:22,565] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,565] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@52
[2025-08-20 02:30:22,565] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=46:53, 当前值=11.6200
[2025-08-20 02:30:22,565] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.457142857142857
[2025-08-20 02:30:22,565] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.457142857142857
[2025-08-20 02:30:22,565] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 52, 值: 12.457142857142857
[2025-08-20 02:30:22,565] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[52] = 12.457142857142857
[2025-08-20 02:30:22,566] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 02:30:22,566] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 02:30:22,566] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.49 (from index 51)
[2025-08-20 02:30:22,566] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 02:30:22,566] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 02:30:22,567] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,567] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,567] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 02:30:22,567] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 02:30:22,567] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,567] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 02:30:22,567] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 02:30:22,567] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 02:30:22,567] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 02:30:22,567] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 02:30:22,567] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 02:30:22,568] [DEBUG] [backtesting:322] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 02:30:22,568] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,568] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,568] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 53
[2025-08-20 02:30:22,568] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,568] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@53
[2025-08-20 02:30:22,568] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=49:54, 当前值=11.5100
[2025-08-20 02:30:22,568] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.106
[2025-08-20 02:30:22,568] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.106
[2025-08-20 02:30:22,568] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 53, 值: 12.106
[2025-08-20 02:30:22,568] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[53] = 12.106
[2025-08-20 02:30:22,568] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 02:30:22,568] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 02:30:22,568] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.398 (from index 52)
[2025-08-20 02:30:22,569] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,569] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 53
[2025-08-20 02:30:22,569] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,569] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@53
[2025-08-20 02:30:22,569] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=47:54, 当前值=11.5100
[2025-08-20 02:30:22,569] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.352857142857143
[2025-08-20 02:30:22,569] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.352857142857143
[2025-08-20 02:30:22,569] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 53, 值: 12.352857142857143
[2025-08-20 02:30:22,569] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[53] = 12.352857142857143
[2025-08-20 02:30:22,569] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 02:30:22,569] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 02:30:22,569] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.457142857142857 (from index 52)
[2025-08-20 02:30:22,569] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 02:30:22,569] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 02:30:22,569] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,570] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,570] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 02:30:22,570] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 02:30:22,570] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,570] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 02:30:22,570] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 02:30:22,570] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 02:30:22,570] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 02:30:22,570] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 54
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@54
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=50:55, 当前值=11.8200
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.895999999999999
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.895999999999999
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 54, 值: 11.895999999999999
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[54] = 11.895999999999999
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 02:30:22,571] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 02:30:22,571] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.106 (from index 53)
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 54
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@54
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=48:55, 当前值=11.8200
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.188571428571427
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.188571428571427
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 54, 值: 12.188571428571427
[2025-08-20 02:30:22,571] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[54] = 12.188571428571427
[2025-08-20 02:30:22,572] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 02:30:22,572] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 02:30:22,572] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.352857142857143 (from index 53)
[2025-08-20 02:30:22,572] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 02:30:22,572] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 02:30:22,572] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,572] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,572] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 02:30:22,572] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 02:30:22,572] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,572] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 02:30:22,572] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 02:30:22,572] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 02:30:22,572] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 02:30:22,572] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 55
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@55
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=51:56, 当前值=11.5300
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.732
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.732
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 55, 值: 11.732
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[55] = 11.732
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 02:30:22,573] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 02:30:22,573] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.895999999999999 (from index 54)
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 55
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@55
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=49:56, 当前值=11.5300
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.982857142857142
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.982857142857142
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 55, 值: 11.982857142857142
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[55] = 11.982857142857142
[2025-08-20 02:30:22,573] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 02:30:22,573] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 02:30:22,573] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.188571428571427 (from index 54)
[2025-08-20 02:30:22,574] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 02:30:22,574] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 02:30:22,574] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,574] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,574] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 02:30:22,574] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 02:30:22,574] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,574] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 02:30:22,574] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 02:30:22,574] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 02:30:22,574] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 02:30:22,574] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 56
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@56
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=52:57, 当前值=11.2400
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.544
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.544
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 56, 值: 11.544
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[56] = 11.544
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 02:30:22,575] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 02:30:22,575] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 55)
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 56
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@56
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=50:57, 当前值=11.2400
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.75
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.75
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 56, 值: 11.75
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[56] = 11.75
[2025-08-20 02:30:22,575] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 02:30:22,576] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 02:30:22,576] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.982857142857142 (from index 55)
[2025-08-20 02:30:22,576] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 02:30:22,576] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 02:30:22,576] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,576] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,576] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 02:30:22,576] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 02:30:22,576] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,576] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 02:30:22,576] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 02:30:22,576] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 02:30:22,576] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 02:30:22,577] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 57
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@57
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=53:58, 当前值=11.1200
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.443999999999999
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.443999999999999
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 57, 值: 11.443999999999999
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[57] = 11.443999999999999
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 02:30:22,577] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 02:30:22,577] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.544 (from index 56)
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 57
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@57
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=51:58, 当前值=11.1200
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.574285714285713
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.574285714285713
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 57, 值: 11.574285714285713
[2025-08-20 02:30:22,577] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[57] = 11.574285714285713
[2025-08-20 02:30:22,578] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 02:30:22,578] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 02:30:22,578] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.75 (from index 56)
[2025-08-20 02:30:22,578] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 02:30:22,578] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 02:30:22,578] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,578] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,578] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 02:30:22,578] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 02:30:22,578] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,578] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 02:30:22,578] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 02:30:22,578] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 02:30:22,578] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 02:30:22,579] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 58
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@58
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=54:59, 当前值=11.1500
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.372
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.372
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 58, 值: 11.372
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[58] = 11.372
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 02:30:22,579] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 02:30:22,579] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.443999999999999 (from index 57)
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 58
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@58
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=52:59, 当前值=11.1500
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.427142857142856
[2025-08-20 02:30:22,579] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.427142857142856
[2025-08-20 02:30:22,580] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 58, 值: 11.427142857142856
[2025-08-20 02:30:22,580] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[58] = 11.427142857142856
[2025-08-20 02:30:22,580] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 02:30:22,580] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 02:30:22,580] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.574285714285713 (from index 57)
[2025-08-20 02:30:22,580] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 02:30:22,580] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 02:30:22,580] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,580] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,580] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 02:30:22,580] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 02:30:22,580] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,580] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 02:30:22,580] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 02:30:22,580] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 02:30:22,581] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 02:30:22,581] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 59
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@59
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=55:60, 当前值=11.4000
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.288
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.288
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 59, 值: 11.288
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[59] = 11.288
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 02:30:22,581] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 02:30:22,581] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.372 (from index 58)
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 59
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@59
[2025-08-20 02:30:22,581] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=53:60, 当前值=11.4000
[2025-08-20 02:30:22,582] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.395714285714286
[2025-08-20 02:30:22,582] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.395714285714286
[2025-08-20 02:30:22,582] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 59, 值: 11.395714285714286
[2025-08-20 02:30:22,582] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[59] = 11.395714285714286
[2025-08-20 02:30:22,582] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 02:30:22,582] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 02:30:22,582] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.427142857142856 (from index 58)
[2025-08-20 02:30:22,582] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 02:30:22,582] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 02:30:22,582] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,582] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,582] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 02:30:22,582] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 02:30:22,582] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,583] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 02:30:22,583] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 02:30:22,583] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 02:30:22,583] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 02:30:22,583] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,583] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,583] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 60
[2025-08-20 02:30:22,583] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,583] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@60
[2025-08-20 02:30:22,583] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=56:61, 当前值=11.4600
[2025-08-20 02:30:22,583] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.274
[2025-08-20 02:30:22,583] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.274
[2025-08-20 02:30:22,583] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 60, 值: 11.274
[2025-08-20 02:30:22,584] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[60] = 11.274
[2025-08-20 02:30:22,584] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 02:30:22,584] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 02:30:22,584] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.288 (from index 59)
[2025-08-20 02:30:22,584] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,584] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 60
[2025-08-20 02:30:22,584] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,584] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@60
[2025-08-20 02:30:22,584] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=54:61, 当前值=11.4600
[2025-08-20 02:30:22,584] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.388571428571428
[2025-08-20 02:30:22,584] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.388571428571428
[2025-08-20 02:30:22,584] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 60, 值: 11.388571428571428
[2025-08-20 02:30:22,584] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[60] = 11.388571428571428
[2025-08-20 02:30:22,584] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 02:30:22,584] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 02:30:22,584] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.395714285714286 (from index 59)
[2025-08-20 02:30:22,584] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 02:30:22,584] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 02:30:22,584] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,585] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,585] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 02:30:22,585] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 02:30:22,585] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,585] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 02:30:22,585] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 02:30:22,585] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 02:30:22,585] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 02:30:22,585] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 61
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@61
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=57:62, 当前值=11.3000
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.286
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.286
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 61, 值: 11.286
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[61] = 11.286
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 02:30:22,586] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 02:30:22,586] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.274 (from index 60)
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 61
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@61
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=55:62, 当前值=11.3000
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.314285714285715
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.314285714285715
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 61, 值: 11.314285714285715
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[61] = 11.314285714285715
[2025-08-20 02:30:22,586] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 02:30:22,586] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 02:30:22,587] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.388571428571428 (from index 60)
[2025-08-20 02:30:22,587] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 02:30:22,587] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 02:30:22,587] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,587] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,587] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 02:30:22,587] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 02:30:22,587] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,587] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 02:30:22,587] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 02:30:22,587] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 02:30:22,587] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 02:30:22,587] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 62
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@62
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=58:63, 当前值=11.2600
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.314
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.314
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 62, 值: 11.314
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[62] = 11.314
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 61 (当前索引: 62, 回溯周期: 1)
[2025-08-20 02:30:22,588] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 02:30:22,588] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.286 (from index 61)
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 62
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@62
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=56:63, 当前值=11.2600
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.275714285714287
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.275714285714287
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 62, 值: 11.275714285714287
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[62] = 11.275714285714287
[2025-08-20 02:30:22,588] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 61 (当前索引: 62, 回溯周期: 1)
[2025-08-20 02:30:22,588] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 02:30:22,588] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.314285714285715 (from index 61)
[2025-08-20 02:30:22,588] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.314
[2025-08-20 02:30:22,589] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.275714285714287
[2025-08-20 02:30:22,589] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 02:30:22,589] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 02:30:22,589] [DEBUG] [backtesting:322] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 02:30:22,589] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,589] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,589] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 63
[2025-08-20 02:30:22,589] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,589] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@63
[2025-08-20 02:30:22,589] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=59:64, 当前值=10.8600
[2025-08-20 02:30:22,589] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.256
[2025-08-20 02:30:22,589] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.256
[2025-08-20 02:30:22,589] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 63, 值: 11.256
[2025-08-20 02:30:22,589] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[63] = 11.256
[2025-08-20 02:30:22,590] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 02:30:22,590] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.314
[2025-08-20 02:30:22,590] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.314 (from index 62)
[2025-08-20 02:30:22,590] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,590] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 63
[2025-08-20 02:30:22,590] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,590] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@63
[2025-08-20 02:30:22,590] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=57:64, 当前值=10.8600
[2025-08-20 02:30:22,590] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.221428571428572
[2025-08-20 02:30:22,590] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.221428571428572
[2025-08-20 02:30:22,590] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 63, 值: 11.221428571428572
[2025-08-20 02:30:22,590] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[63] = 11.221428571428572
[2025-08-20 02:30:22,590] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 02:30:22,590] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.275714285714287
[2025-08-20 02:30:22,590] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.275714285714287 (from index 62)
[2025-08-20 02:30:22,590] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 02:30:22,590] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 02:30:22,591] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,591] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,591] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 02:30:22,591] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 02:30:22,591] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,591] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 02:30:22,591] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 02:30:22,591] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 02:30:22,591] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 02:30:22,591] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,591] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,591] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 64
[2025-08-20 02:30:22,591] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,591] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@64
[2025-08-20 02:30:22,591] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=60:65, 当前值=11.1900
[2025-08-20 02:30:22,591] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.214
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.214
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 64, 值: 11.214
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[64] = 11.214
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 02:30:22,592] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 02:30:22,592] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.256 (from index 63)
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 64
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@64
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=58:65, 当前值=11.1900
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.231428571428571
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.231428571428571
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 64, 值: 11.231428571428571
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[64] = 11.231428571428571
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 02:30:22,592] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 02:30:22,592] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.221428571428572 (from index 63)
[2025-08-20 02:30:22,592] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 02:30:22,592] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 02:30:22,592] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,592] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,593] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 02:30:22,593] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 02:30:22,593] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,593] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 02:30:22,593] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 02:30:22,593] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 02:30:22,593] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 02:30:22,593] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 02:30:22,593] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 02:30:22,593] [DEBUG] [backtesting:322] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 02:30:22,593] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 65
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@65
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=61:66, 当前值=11.3700
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.196
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.196
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 65, 值: 11.196
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[65] = 11.196
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 02:30:22,594] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 02:30:22,594] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 64)
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 65
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@65
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=59:66, 当前值=11.3700
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.262857142857143
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.262857142857143
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 65, 值: 11.262857142857143
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[65] = 11.262857142857143
[2025-08-20 02:30:22,594] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 02:30:22,594] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 02:30:22,595] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.231428571428571 (from index 64)
[2025-08-20 02:30:22,595] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 02:30:22,595] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 02:30:22,595] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,595] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,595] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 02:30:22,595] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 02:30:22,595] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,595] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 02:30:22,595] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 02:30:22,595] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 02:30:22,595] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 02:30:22,596] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 66
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@66
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=62:67, 当前值=11.4200
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.22
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.22
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 66, 值: 11.22
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[66] = 11.22
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 02:30:22,596] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 02:30:22,596] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.196 (from index 65)
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 66
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@66
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=60:67, 当前值=11.4200
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.265714285714285
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.265714285714285
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 66, 值: 11.265714285714285
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[66] = 11.265714285714285
[2025-08-20 02:30:22,596] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 02:30:22,597] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 02:30:22,597] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.262857142857143 (from index 65)
[2025-08-20 02:30:22,597] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 02:30:22,597] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 02:30:22,597] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,597] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,597] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 02:30:22,597] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 02:30:22,597] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,597] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 02:30:22,597] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 02:30:22,597] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 02:30:22,597] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 02:30:22,597] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 67
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@67
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=63:68, 当前值=11.2300
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.214
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.214
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 67, 值: 11.214
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[67] = 11.214
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 02:30:22,598] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 02:30:22,598] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.22 (from index 66)
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 67
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@67
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=61:68, 当前值=11.2300
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.232857142857142
[2025-08-20 02:30:22,598] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.232857142857142
[2025-08-20 02:30:22,599] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 67, 值: 11.232857142857142
[2025-08-20 02:30:22,599] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[67] = 11.232857142857142
[2025-08-20 02:30:22,599] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 02:30:22,599] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 02:30:22,599] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.265714285714285 (from index 66)
[2025-08-20 02:30:22,599] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 02:30:22,599] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 02:30:22,599] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,599] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,599] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 02:30:22,599] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 02:30:22,599] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,599] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 02:30:22,599] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 02:30:22,600] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 02:30:22,600] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 02:30:22,600] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 68
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@68
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=64:69, 当前值=11.3000
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.302
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.302
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 68, 值: 11.302
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[68] = 11.302
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 67 (当前索引: 68, 回溯周期: 1)
[2025-08-20 02:30:22,600] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 02:30:22,600] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 67)
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 68
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@68
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=62:69, 当前值=11.3000
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.232857142857142
[2025-08-20 02:30:22,600] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.232857142857142
[2025-08-20 02:30:22,601] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 68, 值: 11.232857142857142
[2025-08-20 02:30:22,601] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[68] = 11.232857142857142
[2025-08-20 02:30:22,601] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 67 (当前索引: 68, 回溯周期: 1)
[2025-08-20 02:30:22,601] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 02:30:22,601] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 67)
[2025-08-20 02:30:22,601] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.302
[2025-08-20 02:30:22,601] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 02:30:22,601] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 02:30:22,601] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 02:30:22,601] [DEBUG] [backtesting:322] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 02:30:22,601] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,601] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 69
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@69
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=65:70, 当前值=11.8900
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.442
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.442
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 69, 值: 11.442
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[69] = 11.442
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 02:30:22,602] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.302
[2025-08-20 02:30:22,602] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.302 (from index 68)
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 69
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@69
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=63:70, 当前值=11.8900
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.322857142857144
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.322857142857144
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 69, 值: 11.322857142857144
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[69] = 11.322857142857144
[2025-08-20 02:30:22,602] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 02:30:22,602] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 02:30:22,602] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 68)
[2025-08-20 02:30:22,602] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 02:30:22,603] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 02:30:22,603] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,603] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,603] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 02:30:22,603] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 02:30:22,603] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,603] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 02:30:22,603] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 02:30:22,603] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 02:30:22,603] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 02:30:22,603] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,603] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,603] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 70
[2025-08-20 02:30:22,603] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,603] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@70
[2025-08-20 02:30:22,603] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=66:71, 当前值=10.7000
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.308
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.308
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 70, 值: 11.308
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[70] = 11.308
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 02:30:22,604] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 02:30:22,604] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.442 (from index 69)
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 70
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@70
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=64:71, 当前值=10.7000
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.299999999999999
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.299999999999999
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 70, 值: 11.299999999999999
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[70] = 11.299999999999999
[2025-08-20 02:30:22,604] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 02:30:22,604] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 02:30:22,604] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.322857142857144 (from index 69)
[2025-08-20 02:30:22,604] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 02:30:22,604] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 02:30:22,604] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,605] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,605] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 02:30:22,605] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 02:30:22,605] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,605] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 02:30:22,605] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 02:30:22,605] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 02:30:22,605] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 02:30:22,605] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,605] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,605] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 71
[2025-08-20 02:30:22,605] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,605] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@71
[2025-08-20 02:30:22,605] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=67:72, 当前值=9.9300
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.01
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.01
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 71, 值: 11.01
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[71] = 11.01
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 02:30:22,606] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 02:30:22,606] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.308 (from index 70)
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 71
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@71
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=65:72, 当前值=9.9300
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.120000000000001
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.120000000000001
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 71, 值: 11.120000000000001
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[71] = 11.120000000000001
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 02:30:22,606] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 02:30:22,606] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.299999999999999 (from index 70)
[2025-08-20 02:30:22,606] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 02:30:22,606] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 02:30:22,606] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,606] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,607] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 02:30:22,607] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 02:30:22,607] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,607] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 02:30:22,607] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 02:30:22,607] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 02:30:22,607] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 02:30:22,607] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 02:30:22,607] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 02:30:22,607] [DEBUG] [backtesting:322] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 02:30:22,607] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,607] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 72
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@72
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=68:73, 当前值=9.8900
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.742
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.742
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 72, 值: 10.742
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[72] = 10.742
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 02:30:22,608] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 02:30:22,608] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.01 (from index 71)
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 72
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@72
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=66:73, 当前值=9.8900
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.90857142857143
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.90857142857143
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 72, 值: 10.90857142857143
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[72] = 10.90857142857143
[2025-08-20 02:30:22,608] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 02:30:22,608] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 02:30:22,608] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.120000000000001 (from index 71)
[2025-08-20 02:30:22,609] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 02:30:22,609] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 02:30:22,609] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,609] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,609] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 02:30:22,609] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 02:30:22,609] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,609] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 02:30:22,609] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 02:30:22,609] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 02:30:22,609] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 02:30:22,609] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 73
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@73
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=69:74, 当前值=9.7500
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.431999999999999
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.431999999999999
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 73, 值: 10.431999999999999
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[73] = 10.431999999999999
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 02:30:22,610] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 02:30:22,610] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.742 (from index 72)
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 73
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@73
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=67:74, 当前值=9.7500
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.67
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.67
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 73, 值: 10.67
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[73] = 10.67
[2025-08-20 02:30:22,610] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 02:30:22,611] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 02:30:22,611] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.90857142857143 (from index 72)
[2025-08-20 02:30:22,611] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 02:30:22,611] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 02:30:22,611] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,611] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,611] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 02:30:22,611] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 02:30:22,611] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,611] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 02:30:22,611] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 02:30:22,611] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 02:30:22,611] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 02:30:22,611] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 74
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@74
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=70:75, 当前值=9.8500
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.024
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.024
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 74, 值: 10.024
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[74] = 10.024
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 02:30:22,612] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 02:30:22,612] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.431999999999999 (from index 73)
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 74
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@74
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=68:75, 当前值=9.8500
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.472857142857142
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.472857142857142
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 74, 值: 10.472857142857142
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[74] = 10.472857142857142
[2025-08-20 02:30:22,612] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 02:30:22,612] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 02:30:22,612] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.67 (from index 73)
[2025-08-20 02:30:22,613] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 02:30:22,613] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 02:30:22,613] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,613] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,613] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 02:30:22,613] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 02:30:22,613] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,613] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 02:30:22,613] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 02:30:22,613] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 02:30:22,613] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 02:30:22,613] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 75
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@75
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=71:76, 当前值=9.9400
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.872
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.872
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 75, 值: 9.872
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[75] = 9.872
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 02:30:22,614] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 02:30:22,614] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.024 (from index 74)
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 75
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@75
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=69:76, 当前值=9.9400
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.278571428571428
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.278571428571428
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 75, 值: 10.278571428571428
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[75] = 10.278571428571428
[2025-08-20 02:30:22,614] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 02:30:22,615] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 02:30:22,615] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.472857142857142 (from index 74)
[2025-08-20 02:30:22,615] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 02:30:22,615] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 02:30:22,615] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,615] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,615] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 02:30:22,615] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 02:30:22,615] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,615] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 02:30:22,615] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 02:30:22,616] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 02:30:22,616] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 02:30:22,616] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,616] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,616] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 76
[2025-08-20 02:30:22,616] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,616] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@76
[2025-08-20 02:30:22,616] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=72:77, 当前值=9.9300
[2025-08-20 02:30:22,616] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.872
[2025-08-20 02:30:22,616] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.872
[2025-08-20 02:30:22,616] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 76, 值: 9.872
[2025-08-20 02:30:22,617] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[76] = 9.872
[2025-08-20 02:30:22,617] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 02:30:22,617] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 02:30:22,617] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 75)
[2025-08-20 02:30:22,617] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,617] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 76
[2025-08-20 02:30:22,617] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,617] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@76
[2025-08-20 02:30:22,617] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=70:77, 当前值=9.9300
[2025-08-20 02:30:22,617] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.998571428571427
[2025-08-20 02:30:22,617] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.998571428571427
[2025-08-20 02:30:22,617] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 76, 值: 9.998571428571427
[2025-08-20 02:30:22,617] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[76] = 9.998571428571427
[2025-08-20 02:30:22,617] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 02:30:22,617] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 02:30:22,617] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.278571428571428 (from index 75)
[2025-08-20 02:30:22,617] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 02:30:22,617] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 02:30:22,617] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,617] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,618] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 02:30:22,618] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 02:30:22,618] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,618] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 02:30:22,618] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 02:30:22,618] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 02:30:22,618] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 02:30:22,618] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,618] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,618] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 77
[2025-08-20 02:30:22,618] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,618] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@77
[2025-08-20 02:30:22,618] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=73:78, 当前值=9.8100
[2025-08-20 02:30:22,618] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.856
[2025-08-20 02:30:22,619] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.856
[2025-08-20 02:30:22,619] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 77, 值: 9.856
[2025-08-20 02:30:22,619] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[77] = 9.856
[2025-08-20 02:30:22,619] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 02:30:22,619] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 02:30:22,619] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 76)
[2025-08-20 02:30:22,619] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,619] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 77
[2025-08-20 02:30:22,619] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,619] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@77
[2025-08-20 02:30:22,619] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=71:78, 当前值=9.8100
[2025-08-20 02:30:22,619] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.87142857142857
[2025-08-20 02:30:22,619] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.87142857142857
[2025-08-20 02:30:22,619] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 77, 值: 9.87142857142857
[2025-08-20 02:30:22,619] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[77] = 9.87142857142857
[2025-08-20 02:30:22,619] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 02:30:22,619] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 02:30:22,619] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.998571428571427 (from index 76)
[2025-08-20 02:30:22,619] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 02:30:22,619] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 02:30:22,620] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,620] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,620] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 02:30:22,620] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 02:30:22,620] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,620] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 02:30:22,620] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 02:30:22,620] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 02:30:22,620] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 02:30:22,620] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,620] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,620] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 78
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@78
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=74:79, 当前值=9.7700
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.86
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.86
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 78, 值: 9.86
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[78] = 9.86
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 77 (当前索引: 78, 回溯周期: 1)
[2025-08-20 02:30:22,621] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 02:30:22,621] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.856 (from index 77)
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 78
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@78
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=72:79, 当前值=9.7700
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.848571428571429
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.848571428571429
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 78, 值: 9.848571428571429
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[78] = 9.848571428571429
[2025-08-20 02:30:22,621] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 77 (当前索引: 78, 回溯周期: 1)
[2025-08-20 02:30:22,621] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 02:30:22,621] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.87142857142857 (from index 77)
[2025-08-20 02:30:22,621] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 02:30:22,621] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.848571428571429
[2025-08-20 02:30:22,622] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 02:30:22,622] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 02:30:22,622] [DEBUG] [backtesting:322] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 02:30:22,622] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,622] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,622] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 79
[2025-08-20 02:30:22,622] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,622] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@79
[2025-08-20 02:30:22,622] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=75:80, 当前值=9.8500
[2025-08-20 02:30:22,622] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.86
[2025-08-20 02:30:22,622] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.86
[2025-08-20 02:30:22,622] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 79, 值: 9.86
[2025-08-20 02:30:22,622] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[79] = 9.86
[2025-08-20 02:30:22,622] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 02:30:22,622] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 02:30:22,622] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 78)
[2025-08-20 02:30:22,622] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,623] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 79
[2025-08-20 02:30:22,623] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,623] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@79
[2025-08-20 02:30:22,623] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=73:80, 当前值=9.8500
[2025-08-20 02:30:22,623] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.842857142857143
[2025-08-20 02:30:22,623] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.842857142857143
[2025-08-20 02:30:22,623] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 79, 值: 9.842857142857143
[2025-08-20 02:30:22,623] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[79] = 9.842857142857143
[2025-08-20 02:30:22,623] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 02:30:22,623] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.848571428571429
[2025-08-20 02:30:22,623] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.848571428571429 (from index 78)
[2025-08-20 02:30:22,623] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 02:30:22,623] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 02:30:22,623] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,623] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,623] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 02:30:22,623] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 02:30:22,623] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,623] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 02:30:22,623] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 02:30:22,624] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 02:30:22,624] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 02:30:22,624] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,624] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,624] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 80
[2025-08-20 02:30:22,624] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,624] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@80
[2025-08-20 02:30:22,624] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=76:81, 当前值=9.7200
[2025-08-20 02:30:22,624] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.815999999999999
[2025-08-20 02:30:22,624] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.815999999999999
[2025-08-20 02:30:22,624] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 80, 值: 9.815999999999999
[2025-08-20 02:30:22,624] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[80] = 9.815999999999999
[2025-08-20 02:30:22,624] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 02:30:22,624] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 02:30:22,624] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 79)
[2025-08-20 02:30:22,624] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,624] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 80
[2025-08-20 02:30:22,624] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,625] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@80
[2025-08-20 02:30:22,625] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=74:81, 当前值=9.7200
[2025-08-20 02:30:22,625] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.838571428571429
[2025-08-20 02:30:22,625] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.838571428571429
[2025-08-20 02:30:22,625] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 80, 值: 9.838571428571429
[2025-08-20 02:30:22,625] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[80] = 9.838571428571429
[2025-08-20 02:30:22,625] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 02:30:22,625] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 02:30:22,625] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.842857142857143 (from index 79)
[2025-08-20 02:30:22,625] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 02:30:22,625] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 02:30:22,625] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,625] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,625] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 02:30:22,625] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 02:30:22,625] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,625] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 02:30:22,625] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 02:30:22,626] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 02:30:22,626] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 02:30:22,626] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 02:30:22,626] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 02:30:22,626] [DEBUG] [backtesting:322] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 02:30:22,626] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,626] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,626] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 81
[2025-08-20 02:30:22,626] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,626] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@81
[2025-08-20 02:30:22,626] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=77:82, 当前值=9.7100
[2025-08-20 02:30:22,626] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.772
[2025-08-20 02:30:22,626] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.772
[2025-08-20 02:30:22,626] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 81, 值: 9.772
[2025-08-20 02:30:22,627] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[81] = 9.772
[2025-08-20 02:30:22,627] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 02:30:22,627] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 02:30:22,627] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.815999999999999 (from index 80)
[2025-08-20 02:30:22,627] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,627] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 81
[2025-08-20 02:30:22,627] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,627] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@81
[2025-08-20 02:30:22,627] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=75:82, 当前值=9.7100
[2025-08-20 02:30:22,627] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.81857142857143
[2025-08-20 02:30:22,627] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.81857142857143
[2025-08-20 02:30:22,627] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 81, 值: 9.81857142857143
[2025-08-20 02:30:22,627] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[81] = 9.81857142857143
[2025-08-20 02:30:22,627] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 02:30:22,627] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 02:30:22,627] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.838571428571429 (from index 80)
[2025-08-20 02:30:22,627] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 02:30:22,627] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 02:30:22,627] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,627] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,628] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 02:30:22,628] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 02:30:22,628] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,628] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 02:30:22,628] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 02:30:22,628] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 02:30:22,628] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 02:30:22,628] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,628] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,628] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 82
[2025-08-20 02:30:22,628] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,628] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@82
[2025-08-20 02:30:22,628] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=78:83, 当前值=9.6000
[2025-08-20 02:30:22,628] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.73
[2025-08-20 02:30:22,628] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.73
[2025-08-20 02:30:22,628] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 82, 值: 9.73
[2025-08-20 02:30:22,628] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[82] = 9.73
[2025-08-20 02:30:22,628] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 02:30:22,629] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 02:30:22,629] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.772 (from index 81)
[2025-08-20 02:30:22,629] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,629] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 82
[2025-08-20 02:30:22,629] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,629] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@82
[2025-08-20 02:30:22,629] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=76:83, 当前值=9.6000
[2025-08-20 02:30:22,629] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.77
[2025-08-20 02:30:22,629] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.77
[2025-08-20 02:30:22,629] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 82, 值: 9.77
[2025-08-20 02:30:22,629] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[82] = 9.77
[2025-08-20 02:30:22,629] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 02:30:22,629] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 02:30:22,629] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.81857142857143 (from index 81)
[2025-08-20 02:30:22,629] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 02:30:22,629] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 02:30:22,629] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,629] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,629] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 02:30:22,629] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 02:30:22,630] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,630] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 02:30:22,630] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 02:30:22,630] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 02:30:22,630] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 02:30:22,630] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,630] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,630] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 83
[2025-08-20 02:30:22,630] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,630] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@83
[2025-08-20 02:30:22,630] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=79:84, 当前值=9.5900
[2025-08-20 02:30:22,630] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.693999999999999
[2025-08-20 02:30:22,630] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.693999999999999
[2025-08-20 02:30:22,630] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 83, 值: 9.693999999999999
[2025-08-20 02:30:22,630] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[83] = 9.693999999999999
[2025-08-20 02:30:22,631] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 02:30:22,631] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 02:30:22,631] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.73 (from index 82)
[2025-08-20 02:30:22,631] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,631] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 83
[2025-08-20 02:30:22,631] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,631] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@83
[2025-08-20 02:30:22,631] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=77:84, 当前值=9.5900
[2025-08-20 02:30:22,631] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.721428571428572
[2025-08-20 02:30:22,631] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.721428571428572
[2025-08-20 02:30:22,631] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 83, 值: 9.721428571428572
[2025-08-20 02:30:22,631] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[83] = 9.721428571428572
[2025-08-20 02:30:22,631] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 02:30:22,631] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 02:30:22,631] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.77 (from index 82)
[2025-08-20 02:30:22,631] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 02:30:22,631] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 02:30:22,632] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,632] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,632] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 02:30:22,632] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 02:30:22,632] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,632] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 02:30:22,632] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 02:30:22,632] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 02:30:22,632] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 02:30:22,632] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,632] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,632] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 84
[2025-08-20 02:30:22,632] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,632] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@84
[2025-08-20 02:30:22,632] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=80:85, 当前值=9.9400
[2025-08-20 02:30:22,632] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.712
[2025-08-20 02:30:22,632] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.712
[2025-08-20 02:30:22,633] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 84, 值: 9.712
[2025-08-20 02:30:22,633] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[84] = 9.712
[2025-08-20 02:30:22,633] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 02:30:22,633] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 02:30:22,633] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.693999999999999 (from index 83)
[2025-08-20 02:30:22,633] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,633] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 84
[2025-08-20 02:30:22,633] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,633] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@84
[2025-08-20 02:30:22,633] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=78:85, 当前值=9.9400
[2025-08-20 02:30:22,633] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.74
[2025-08-20 02:30:22,633] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.74
[2025-08-20 02:30:22,633] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 84, 值: 9.74
[2025-08-20 02:30:22,633] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[84] = 9.74
[2025-08-20 02:30:22,633] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 02:30:22,633] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 02:30:22,633] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.721428571428572 (from index 83)
[2025-08-20 02:30:22,633] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 02:30:22,633] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 02:30:22,633] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,633] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,634] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 02:30:22,634] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 02:30:22,634] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,634] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 02:30:22,634] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 02:30:22,634] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 02:30:22,634] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 02:30:22,634] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,634] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,634] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 85
[2025-08-20 02:30:22,634] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@85
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=81:86, 当前值=9.8000
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.728
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.728
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 85, 值: 9.728
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[85] = 9.728
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 02:30:22,635] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 02:30:22,635] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.712 (from index 84)
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 85
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@85
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=79:86, 当前值=9.8000
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.744285714285713
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.744285714285713
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 85, 值: 9.744285714285713
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[85] = 9.744285714285713
[2025-08-20 02:30:22,635] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 02:30:22,635] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 02:30:22,635] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.74 (from index 84)
[2025-08-20 02:30:22,635] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 02:30:22,636] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 02:30:22,636] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,636] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,636] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 02:30:22,636] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 02:30:22,636] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,636] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 02:30:22,636] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 02:30:22,636] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 02:30:22,636] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 02:30:22,636] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,636] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,636] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 86
[2025-08-20 02:30:22,636] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,636] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@86
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=82:87, 当前值=9.8800
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.762
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.762
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 86, 值: 9.762
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[86] = 9.762
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 85 (当前索引: 86, 回溯周期: 1)
[2025-08-20 02:30:22,637] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 02:30:22,637] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.728 (from index 85)
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 86
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@86
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=80:87, 当前值=9.8800
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.748571428571427
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.748571428571427
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 86, 值: 9.748571428571427
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[86] = 9.748571428571427
[2025-08-20 02:30:22,637] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 85 (当前索引: 86, 回溯周期: 1)
[2025-08-20 02:30:22,637] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 02:30:22,637] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.744285714285713 (from index 85)
[2025-08-20 02:30:22,637] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.762
[2025-08-20 02:30:22,637] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.748571428571427
[2025-08-20 02:30:22,637] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 02:30:22,638] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 02:30:22,638] [DEBUG] [backtesting:322] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 02:30:22,638] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 87
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@87
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=83:88, 当前值=10.8700
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.016
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.016
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 87, 值: 10.016
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[87] = 10.016
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 02:30:22,638] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.762
[2025-08-20 02:30:22,638] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.762 (from index 86)
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 87
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@87
[2025-08-20 02:30:22,638] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=81:88, 当前值=10.8700
[2025-08-20 02:30:22,639] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.912857142857144
[2025-08-20 02:30:22,639] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.912857142857144
[2025-08-20 02:30:22,639] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 87, 值: 9.912857142857144
[2025-08-20 02:30:22,639] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[87] = 9.912857142857144
[2025-08-20 02:30:22,639] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 02:30:22,639] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.748571428571427
[2025-08-20 02:30:22,639] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.748571428571427 (from index 86)
[2025-08-20 02:30:22,639] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 02:30:22,639] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 02:30:22,639] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,639] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,639] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 02:30:22,639] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 02:30:22,639] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,639] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 02:30:22,639] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 02:30:22,640] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 02:30:22,640] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 02:30:22,640] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 88
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@88
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=84:89, 当前值=11.2400
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.346
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.346
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 88, 值: 10.346
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[88] = 10.346
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 02:30:22,640] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 02:30:22,640] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.016 (from index 87)
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 88
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@88
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=82:89, 当前值=11.2400
[2025-08-20 02:30:22,640] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.131428571428572
[2025-08-20 02:30:22,641] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.131428571428572
[2025-08-20 02:30:22,641] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 88, 值: 10.131428571428572
[2025-08-20 02:30:22,641] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[88] = 10.131428571428572
[2025-08-20 02:30:22,641] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 02:30:22,641] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 02:30:22,641] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.912857142857144 (from index 87)
[2025-08-20 02:30:22,641] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 02:30:22,641] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 02:30:22,641] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,641] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,641] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 02:30:22,641] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 02:30:22,641] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,641] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 02:30:22,641] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 02:30:22,641] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 02:30:22,642] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 02:30:22,642] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 89
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@89
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=85:90, 当前值=10.8900
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.536
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.536
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 89, 值: 10.536
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[89] = 10.536
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 02:30:22,642] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 02:30:22,642] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.346 (from index 88)
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 89
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@89
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=83:90, 当前值=10.8900
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.315714285714284
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.315714285714284
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 89, 值: 10.315714285714284
[2025-08-20 02:30:22,642] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[89] = 10.315714285714284
[2025-08-20 02:30:22,643] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 02:30:22,643] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 02:30:22,643] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.131428571428572 (from index 88)
[2025-08-20 02:30:22,643] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 02:30:22,643] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 02:30:22,643] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,643] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,643] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 02:30:22,643] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 02:30:22,643] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,643] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 02:30:22,643] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 02:30:22,643] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 02:30:22,643] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 02:30:22,643] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 90
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@90
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=86:91, 当前值=10.9600
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.768
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.768
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 90, 值: 10.768
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[90] = 10.768
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 02:30:22,644] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 02:30:22,644] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.536 (from index 89)
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 90
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@90
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=84:91, 当前值=10.9600
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.51142857142857
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.51142857142857
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 90, 值: 10.51142857142857
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[90] = 10.51142857142857
[2025-08-20 02:30:22,644] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 02:30:22,645] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 02:30:22,645] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.315714285714284 (from index 89)
[2025-08-20 02:30:22,645] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 02:30:22,645] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 02:30:22,645] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,645] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,645] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 02:30:22,645] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 02:30:22,645] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,646] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 02:30:22,646] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 02:30:22,646] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 02:30:22,646] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 02:30:22,646] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,646] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,646] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 91
[2025-08-20 02:30:22,646] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,646] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@91
[2025-08-20 02:30:22,646] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=87:92, 当前值=10.6400
[2025-08-20 02:30:22,646] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.92
[2025-08-20 02:30:22,646] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.92
[2025-08-20 02:30:22,646] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 91, 值: 10.92
[2025-08-20 02:30:22,646] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[91] = 10.92
[2025-08-20 02:30:22,646] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 02:30:22,646] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 02:30:22,646] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.768 (from index 90)
[2025-08-20 02:30:22,646] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,647] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 91
[2025-08-20 02:30:22,647] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,647] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@91
[2025-08-20 02:30:22,647] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=85:92, 当前值=10.6400
[2025-08-20 02:30:22,647] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.611428571428572
[2025-08-20 02:30:22,647] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.611428571428572
[2025-08-20 02:30:22,647] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 91, 值: 10.611428571428572
[2025-08-20 02:30:22,647] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[91] = 10.611428571428572
[2025-08-20 02:30:22,647] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 02:30:22,647] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 02:30:22,647] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.51142857142857 (from index 90)
[2025-08-20 02:30:22,647] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 02:30:22,647] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 02:30:22,647] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,647] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,647] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 02:30:22,647] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 02:30:22,647] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,647] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 02:30:22,647] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 02:30:22,648] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 02:30:22,648] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 02:30:22,648] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,648] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,648] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 92
[2025-08-20 02:30:22,648] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,648] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@92
[2025-08-20 02:30:22,648] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=88:93, 当前值=10.2700
[2025-08-20 02:30:22,648] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.8
[2025-08-20 02:30:22,648] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.8
[2025-08-20 02:30:22,648] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 92, 值: 10.8
[2025-08-20 02:30:22,648] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[92] = 10.8
[2025-08-20 02:30:22,648] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 02:30:22,648] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 02:30:22,649] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.92 (from index 91)
[2025-08-20 02:30:22,649] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,649] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 92
[2025-08-20 02:30:22,649] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,649] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@92
[2025-08-20 02:30:22,649] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=86:93, 当前值=10.2700
[2025-08-20 02:30:22,649] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.678571428571429
[2025-08-20 02:30:22,649] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.678571428571429
[2025-08-20 02:30:22,649] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 92, 值: 10.678571428571429
[2025-08-20 02:30:22,649] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[92] = 10.678571428571429
[2025-08-20 02:30:22,649] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 02:30:22,649] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 02:30:22,649] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.611428571428572 (from index 91)
[2025-08-20 02:30:22,649] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 02:30:22,649] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 02:30:22,649] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,649] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,649] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 02:30:22,650] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 02:30:22,650] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,650] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 02:30:22,650] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 02:30:22,650] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 02:30:22,650] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 02:30:22,650] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,650] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,650] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 93
[2025-08-20 02:30:22,650] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,650] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@93
[2025-08-20 02:30:22,650] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=89:94, 当前值=10.3000
[2025-08-20 02:30:22,650] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.612
[2025-08-20 02:30:22,650] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.612
[2025-08-20 02:30:22,650] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 93, 值: 10.612
[2025-08-20 02:30:22,651] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[93] = 10.612
[2025-08-20 02:30:22,651] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 02:30:22,651] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 02:30:22,651] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.8 (from index 92)
[2025-08-20 02:30:22,651] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,651] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 93
[2025-08-20 02:30:22,651] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,651] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@93
[2025-08-20 02:30:22,651] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=87:94, 当前值=10.3000
[2025-08-20 02:30:22,651] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.73857142857143
[2025-08-20 02:30:22,651] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.73857142857143
[2025-08-20 02:30:22,651] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 93, 值: 10.73857142857143
[2025-08-20 02:30:22,651] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[93] = 10.73857142857143
[2025-08-20 02:30:22,651] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 02:30:22,651] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 02:30:22,651] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.678571428571429 (from index 92)
[2025-08-20 02:30:22,651] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 02:30:22,651] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 02:30:22,651] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,651] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,652] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 02:30:22,652] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 02:30:22,652] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,652] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 02:30:22,652] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 02:30:22,652] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 02:30:22,652] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 02:30:22,652] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 02:30:22,652] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 02:30:22,652] [DEBUG] [backtesting:322] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 02:30:22,652] [ERROR] [backtesting:484] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 94
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@94
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=90:95, 当前值=10.2800
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.49
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.49
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 94, 值: 10.49
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[94] = 10.49
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 02:30:22,653] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 02:30:22,653] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.612 (from index 93)
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 94
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@94
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=88:95, 当前值=10.2800
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.654285714285715
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.654285714285715
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 94, 值: 10.654285714285715
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[94] = 10.654285714285715
[2025-08-20 02:30:22,653] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 02:30:22,653] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 02:30:22,653] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.73857142857143 (from index 93)
[2025-08-20 02:30:22,653] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 02:30:22,654] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 02:30:22,654] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 02:30:22,654] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 02:30:22,654] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 02:30:22,654] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 02:30:22,654] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 02:30:22,654] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 02:30:22,654] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 02:30:22,654] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 02:30:22,654] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 02:30:22,654] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 02:30:22,654] [DEBUG] [backtesting:278] [conn:N/A] 回测完成
[2025-08-20 02:30:22,655] [DEBUG] [backtesting:295] [conn:N/A] 回测完成！
[2025-08-20 03:13:26,646] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:13:26,647] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 03:13:26,647] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:13:26,864] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 03:13:26,880] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 03:13:26,931] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 03:13:26,946] [DEBUG] [backtesting:525] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:13:26,946] [DEBUG] [backtesting:525] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 03:13:26,947] [DEBUG] [backtesting:525] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 03:13:26,954] [DEBUG] [backtesting:525] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:13:26,954] [DEBUG] [backtesting:525] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:13:26,956] [DEBUG] [backtesting:525] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:13:26,956] [DEBUG] [backtesting:550] [conn:N/A] 注册策略调度处理器: 4470460d-7132-4efc-9c73-7c598fec1c46
[2025-08-20 03:13:26,956] [INFO] [backtesting:553] [conn:N/A] 策略注册成功 | ID: 4470460d-7132-4efc-9c73-7c598fec1c46 | 名称: 自定义规则策略
[2025-08-20 03:13:26,956] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 03:13:26,956] [DEBUG] [backtesting:225] [conn:N/A] 识别数据频率为：日线
[2025-08-20 03:13:26,962] [DEBUG] [backtesting:251] [conn:N/A] 开始回测...
[2025-08-20 03:13:26,963] [INFO] [backtesting:600] [conn:N/A] 回测系统初始化开始
[2025-08-20 03:13:26,963] [INFO] [backtesting:612] [conn:N/A] 策略初始化完成: 4470460d-7132-4efc-9c73-7c598fec1c46
[2025-08-20 03:13:26,963] [INFO] [backtesting:630] [conn:N/A] 回测系统初始化完成
[2025-08-20 03:13:26,963] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:26,963] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:13:26,963] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,963] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 03:13:26,963] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:13:26,963] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:13:26,963] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,963] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 03:13:26,964] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 03:13:26,964] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:26,964] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:13:26,964] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,964] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 03:13:26,964] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:13:26,964] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:13:26,964] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,964] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 03:13:26,965] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 03:13:26,965] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:13:26,965] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,965] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 03:13:26,965] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:13:26,965] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,965] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 03:13:26,965] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:26,965] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:26,966] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:13:26,966] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,966] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 03:13:26,966] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:13:26,966] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:26,966] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:13:26,966] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,966] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 03:13:26,966] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:13:26,967] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:13:26,967] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,967] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 03:13:26,967] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:13:26,967] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,967] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 03:13:26,967] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:26,967] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:26,968] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:13:26,968] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,968] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 03:13:26,968] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:13:26,968] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:13:26,968] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,968] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 03:13:26,968] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 03:13:26,968] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:26,969] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:13:26,969] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,969] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 03:13:26,969] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:13:26,969] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:13:26,969] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,969] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 03:13:26,969] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 03:13:26,969] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:13:26,969] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,969] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 03:13:26,969] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:13:26,969] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,969] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 03:13:26,969] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:26,969] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,970] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 03:13:26,970] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:26,971] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:26,971] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:13:26,971] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,971] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 03:13:26,971] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:13:26,971] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:13:26,971] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,971] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 03:13:26,971] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 1)
[2025-08-20 03:13:26,971] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:26,971] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:13:26,971] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,972] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 03:13:26,972] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:13:26,972] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:13:26,972] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,972] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 03:13:26,973] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 1)
[2025-08-20 03:13:26,974] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:13:26,974] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,974] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 03:13:26,974] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:13:26,974] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,974] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 03:13:26,974] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:26,974] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:26,975] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:13:26,975] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,975] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 03:13:26,975] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:13:26,975] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:26,975] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:13:26,975] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,975] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 03:13:26,975] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:13:26,975] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:13:26,975] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,975] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 03:13:26,976] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:13:26,976] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,976] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 03:13:26,976] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:26,976] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:26,976] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:13:26,976] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,976] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 03:13:26,976] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:13:26,976] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:13:26,976] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,976] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 03:13:26,976] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 2)
[2025-08-20 03:13:26,976] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:26,977] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:13:26,977] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,977] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 03:13:26,977] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:13:26,977] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:13:26,977] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,977] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 03:13:26,977] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 2)
[2025-08-20 03:13:26,977] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:13:26,977] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,977] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 03:13:26,977] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:13:26,977] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,977] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 03:13:26,977] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:26,977] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:26,978] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:13:26,978] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,978] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 03:13:26,978] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:13:26,978] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:26,978] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:13:26,978] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,979] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 03:13:26,979] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:13:26,979] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:13:26,979] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,979] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 03:13:26,979] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:13:26,979] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,979] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 03:13:26,979] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:26,979] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:26,980] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:13:26,980] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,980] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 03:13:26,980] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:13:26,980] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:13:26,980] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,980] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 03:13:26,980] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 3)
[2025-08-20 03:13:26,980] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:26,980] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:13:26,980] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,980] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 03:13:26,980] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:13:26,980] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:13:26,981] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,981] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 03:13:26,981] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 3)
[2025-08-20 03:13:26,981] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:13:26,981] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,981] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 03:13:26,981] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:13:26,981] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,981] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 03:13:26,981] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:26,981] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:26,981] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:13:26,981] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,982] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 03:13:26,982] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:13:26,982] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:26,982] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:13:26,982] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,982] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 03:13:26,982] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:13:26,982] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:13:26,982] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,982] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 03:13:26,982] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:13:26,982] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,982] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 03:13:26,983] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:26,984] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:26,984] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 03:13:26,984] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,984] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@5
[2025-08-20 03:13:26,984] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=1:6, 当前值=5.6700
[2025-08-20 03:13:26,984] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.093999999999999
[2025-08-20 03:13:26,984] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.093999999999999
[2025-08-20 03:13:26,984] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 5, 值: 6.093999999999999
[2025-08-20 03:13:26,985] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[5] = 6.093999999999999
[2025-08-20 03:13:26,985] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:13:26,986] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:13:26,986] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,986] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 03:13:26,986] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 4)
[2025-08-20 03:13:26,986] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:26,987] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 03:13:26,987] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,987] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 03:13:26,987] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:13:26,987] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:13:26,987] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,987] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 03:13:26,987] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 4)
[2025-08-20 03:13:26,987] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 03:13:26,987] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 03:13:26,987] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,987] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 03:13:26,987] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:26,988] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:26,988] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 03:13:26,989] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:13:26,989] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:26,989] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 03:13:26,990] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,990] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 03:13:26,990] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:13:26,991] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 03:13:26,991] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 03:13:26,991] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,991] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 03:13:26,991] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:26,992] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:26,992] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 03:13:26,992] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:26,992] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@6
[2025-08-20 03:13:26,993] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=2:7, 当前值=5.9700
[2025-08-20 03:13:26,993] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.964
[2025-08-20 03:13:26,993] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.964
[2025-08-20 03:13:26,993] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 6, 值: 5.964
[2025-08-20 03:13:26,993] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[6] = 5.964
[2025-08-20 03:13:26,993] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:13:26,994] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 03:13:26,994] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.093999999999999 (from index 5)
[2025-08-20 03:13:26,994] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:26,995] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 03:13:26,995] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,995] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 03:13:26,995] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:13:26,995] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 03:13:26,995] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,996] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 03:13:26,996] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 5)
[2025-08-20 03:13:26,996] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 03:13:26,996] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 03:13:26,996] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,997] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 03:13:26,997] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:26,997] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:26,998] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 03:13:26,998] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:13:26,998] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:26,998] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 03:13:26,999] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,999] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 03:13:26,999] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:13:26,999] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 03:13:26,999] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 03:13:26,999] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:26,999] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 03:13:26,999] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,000] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,000] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 7
[2025-08-20 03:13:27,000] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,000] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@7
[2025-08-20 03:13:27,000] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=3:8, 当前值=6.0600
[2025-08-20 03:13:27,001] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.848
[2025-08-20 03:13:27,001] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.848
[2025-08-20 03:13:27,001] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 7, 值: 5.848
[2025-08-20 03:13:27,001] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[7] = 5.848
[2025-08-20 03:13:27,001] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:13:27,002] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 03:13:27,002] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.964 (from index 6)
[2025-08-20 03:13:27,002] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,002] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 7
[2025-08-20 03:13:27,002] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,002] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@7
[2025-08-20 03:13:27,002] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=1:8, 当前值=6.0600
[2025-08-20 03:13:27,002] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.071428571428571
[2025-08-20 03:13:27,002] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.071428571428571
[2025-08-20 03:13:27,002] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 7, 值: 6.071428571428571
[2025-08-20 03:13:27,004] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[7] = 6.071428571428571
[2025-08-20 03:13:27,004] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:13:27,004] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 03:13:27,004] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,005] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 03:13:27,005] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 6)
[2025-08-20 03:13:27,005] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 03:13:27,005] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 03:13:27,005] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,005] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,006] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 03:13:27,006] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:13:27,006] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,006] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 03:13:27,006] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:13:27,009] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 03:13:27,009] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 03:13:27,009] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:13:27,010] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:13:27,011] [DEBUG] [backtesting:322] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 03:13:27,011] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,012] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,012] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 8
[2025-08-20 03:13:27,012] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,012] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@8
[2025-08-20 03:13:27,012] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=4:9, 当前值=6.2200
[2025-08-20 03:13:27,012] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.896
[2025-08-20 03:13:27,012] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.896
[2025-08-20 03:13:27,013] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 8, 值: 5.896
[2025-08-20 03:13:27,013] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[8] = 5.896
[2025-08-20 03:13:27,013] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:13:27,013] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 03:13:27,013] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.848 (from index 7)
[2025-08-20 03:13:27,013] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,014] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 8
[2025-08-20 03:13:27,014] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,014] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@8
[2025-08-20 03:13:27,014] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=2:9, 当前值=6.2200
[2025-08-20 03:13:27,014] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.014285714285714
[2025-08-20 03:13:27,014] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.014285714285714
[2025-08-20 03:13:27,014] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 8, 值: 6.014285714285714
[2025-08-20 03:13:27,014] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[8] = 6.014285714285714
[2025-08-20 03:13:27,014] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:13:27,014] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 03:13:27,015] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.071428571428571 (from index 7)
[2025-08-20 03:13:27,015] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 03:13:27,015] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 03:13:27,015] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,015] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,015] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 03:13:27,015] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:13:27,016] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,016] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 03:13:27,016] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:13:27,016] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 03:13:27,018] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 03:13:27,018] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,019] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,020] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 9
[2025-08-20 03:13:27,020] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,020] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@9
[2025-08-20 03:13:27,020] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=5:10, 当前值=6.2300
[2025-08-20 03:13:27,020] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.029999999999999
[2025-08-20 03:13:27,020] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.029999999999999
[2025-08-20 03:13:27,020] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 9, 值: 6.029999999999999
[2025-08-20 03:13:27,020] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[9] = 6.029999999999999
[2025-08-20 03:13:27,021] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 8 (当前索引: 9, 回溯周期: 1)
[2025-08-20 03:13:27,021] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 03:13:27,021] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.896 (from index 8)
[2025-08-20 03:13:27,021] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,021] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 9
[2025-08-20 03:13:27,021] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,021] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@9
[2025-08-20 03:13:27,021] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=3:10, 当前值=6.2300
[2025-08-20 03:13:27,022] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.9557142857142855
[2025-08-20 03:13:27,022] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=5.9557142857142855
[2025-08-20 03:13:27,022] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 9, 值: 5.9557142857142855
[2025-08-20 03:13:27,022] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[9] = 5.9557142857142855
[2025-08-20 03:13:27,022] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 8 (当前索引: 9, 回溯周期: 1)
[2025-08-20 03:13:27,022] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 03:13:27,022] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.014285714285714 (from index 8)
[2025-08-20 03:13:27,024] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.029999999999999
[2025-08-20 03:13:27,024] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.9557142857142855
[2025-08-20 03:13:27,024] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:13:27,024] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:13:27,024] [DEBUG] [backtesting:322] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 03:13:27,025] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,025] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,025] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 10
[2025-08-20 03:13:27,025] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,025] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@10
[2025-08-20 03:13:27,025] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=6:11, 当前值=6.1700
[2025-08-20 03:13:27,025] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.13
[2025-08-20 03:13:27,026] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.13
[2025-08-20 03:13:27,026] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 10, 值: 6.13
[2025-08-20 03:13:27,026] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[10] = 6.13
[2025-08-20 03:13:27,026] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:13:27,026] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.029999999999999
[2025-08-20 03:13:27,026] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.029999999999999 (from index 9)
[2025-08-20 03:13:27,026] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,026] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 10
[2025-08-20 03:13:27,026] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,026] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@10
[2025-08-20 03:13:27,027] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=4:11, 当前值=6.1700
[2025-08-20 03:13:27,027] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.982857142857143
[2025-08-20 03:13:27,027] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=5.982857142857143
[2025-08-20 03:13:27,027] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 10, 值: 5.982857142857143
[2025-08-20 03:13:27,027] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[10] = 5.982857142857143
[2025-08-20 03:13:27,027] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:13:27,027] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.9557142857142855
[2025-08-20 03:13:27,027] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.9557142857142855 (from index 9)
[2025-08-20 03:13:27,027] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 03:13:27,027] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 03:13:27,027] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,028] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,028] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 03:13:27,028] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:13:27,028] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,028] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 03:13:27,028] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:13:27,028] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 03:13:27,028] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 03:13:27,029] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,029] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,029] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 11
[2025-08-20 03:13:27,029] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,029] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@11
[2025-08-20 03:13:27,029] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=7:12, 当前值=6.7900
[2025-08-20 03:13:27,029] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.294
[2025-08-20 03:13:27,029] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.294
[2025-08-20 03:13:27,029] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 11, 值: 6.294
[2025-08-20 03:13:27,030] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[11] = 6.294
[2025-08-20 03:13:27,030] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:13:27,030] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 03:13:27,030] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.13 (from index 10)
[2025-08-20 03:13:27,030] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,030] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 11
[2025-08-20 03:13:27,030] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,030] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@11
[2025-08-20 03:13:27,030] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=5:12, 当前值=6.7900
[2025-08-20 03:13:27,030] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.158571428571428
[2025-08-20 03:13:27,030] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.158571428571428
[2025-08-20 03:13:27,030] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 11, 值: 6.158571428571428
[2025-08-20 03:13:27,030] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[11] = 6.158571428571428
[2025-08-20 03:13:27,031] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:13:27,031] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 03:13:27,031] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.982857142857143 (from index 10)
[2025-08-20 03:13:27,031] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 03:13:27,031] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 03:13:27,031] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,031] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,031] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 03:13:27,032] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:13:27,032] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,032] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 03:13:27,032] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:13:27,032] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 03:13:27,032] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 03:13:27,032] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,033] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,033] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 12
[2025-08-20 03:13:27,033] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,033] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@12
[2025-08-20 03:13:27,033] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=8:13, 当前值=6.3400
[2025-08-20 03:13:27,033] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.35
[2025-08-20 03:13:27,033] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.35
[2025-08-20 03:13:27,033] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 12, 值: 6.35
[2025-08-20 03:13:27,033] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[12] = 6.35
[2025-08-20 03:13:27,033] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:13:27,033] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 03:13:27,033] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.294 (from index 11)
[2025-08-20 03:13:27,033] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,034] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 12
[2025-08-20 03:13:27,034] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,034] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@12
[2025-08-20 03:13:27,034] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=6:13, 当前值=6.3400
[2025-08-20 03:13:27,034] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.2542857142857144
[2025-08-20 03:13:27,034] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.2542857142857144
[2025-08-20 03:13:27,034] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 12, 值: 6.2542857142857144
[2025-08-20 03:13:27,034] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[12] = 6.2542857142857144
[2025-08-20 03:13:27,034] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:13:27,034] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 03:13:27,034] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.158571428571428 (from index 11)
[2025-08-20 03:13:27,034] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 03:13:27,035] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 03:13:27,035] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,035] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,035] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 03:13:27,035] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:13:27,035] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,035] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 03:13:27,035] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:13:27,035] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 03:13:27,036] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 03:13:27,036] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,036] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,036] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 13
[2025-08-20 03:13:27,036] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,036] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@13
[2025-08-20 03:13:27,036] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=9:14, 当前值=6.9700
[2025-08-20 03:13:27,036] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.5
[2025-08-20 03:13:27,036] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.5
[2025-08-20 03:13:27,036] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 13, 值: 6.5
[2025-08-20 03:13:27,036] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[13] = 6.5
[2025-08-20 03:13:27,036] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:13:27,037] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 03:13:27,037] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.35 (from index 12)
[2025-08-20 03:13:27,037] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,037] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 13
[2025-08-20 03:13:27,037] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,037] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@13
[2025-08-20 03:13:27,037] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=7:14, 当前值=6.9700
[2025-08-20 03:13:27,037] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.397142857142858
[2025-08-20 03:13:27,037] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.397142857142858
[2025-08-20 03:13:27,037] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 13, 值: 6.397142857142858
[2025-08-20 03:13:27,037] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[13] = 6.397142857142858
[2025-08-20 03:13:27,038] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:13:27,038] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 03:13:27,038] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.2542857142857144 (from index 12)
[2025-08-20 03:13:27,038] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 03:13:27,038] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 03:13:27,038] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,039] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,039] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 03:13:27,039] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:13:27,039] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,039] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 03:13:27,039] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:13:27,039] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 03:13:27,040] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 03:13:27,040] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,040] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,040] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 14
[2025-08-20 03:13:27,040] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,040] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@14
[2025-08-20 03:13:27,040] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=10:15, 当前值=6.8200
[2025-08-20 03:13:27,040] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.618
[2025-08-20 03:13:27,040] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.618
[2025-08-20 03:13:27,040] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 14, 值: 6.618
[2025-08-20 03:13:27,040] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[14] = 6.618
[2025-08-20 03:13:27,041] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:13:27,041] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 03:13:27,041] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.5 (from index 13)
[2025-08-20 03:13:27,041] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,041] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 14
[2025-08-20 03:13:27,041] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,041] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@14
[2025-08-20 03:13:27,041] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=8:15, 当前值=6.8200
[2025-08-20 03:13:27,041] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.505714285714285
[2025-08-20 03:13:27,041] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.505714285714285
[2025-08-20 03:13:27,041] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 14, 值: 6.505714285714285
[2025-08-20 03:13:27,041] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[14] = 6.505714285714285
[2025-08-20 03:13:27,041] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:13:27,041] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 03:13:27,041] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.397142857142858 (from index 13)
[2025-08-20 03:13:27,042] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 03:13:27,042] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 03:13:27,042] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,042] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,042] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 03:13:27,043] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:13:27,043] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,043] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 03:13:27,043] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:13:27,043] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 03:13:27,043] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 03:13:27,043] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,044] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,044] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 15
[2025-08-20 03:13:27,044] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,044] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@15
[2025-08-20 03:13:27,044] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=11:16, 当前值=6.1800
[2025-08-20 03:13:27,044] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.62
[2025-08-20 03:13:27,044] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.62
[2025-08-20 03:13:27,044] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 15, 值: 6.62
[2025-08-20 03:13:27,044] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[15] = 6.62
[2025-08-20 03:13:27,044] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:13:27,044] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 03:13:27,044] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.618 (from index 14)
[2025-08-20 03:13:27,045] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,045] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 15
[2025-08-20 03:13:27,045] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,045] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@15
[2025-08-20 03:13:27,045] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=9:16, 当前值=6.1800
[2025-08-20 03:13:27,045] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.5
[2025-08-20 03:13:27,045] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.5
[2025-08-20 03:13:27,045] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 15, 值: 6.5
[2025-08-20 03:13:27,045] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[15] = 6.5
[2025-08-20 03:13:27,045] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:13:27,045] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 03:13:27,045] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.505714285714285 (from index 14)
[2025-08-20 03:13:27,045] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 03:13:27,046] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 03:13:27,046] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,046] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,046] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 03:13:27,046] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:13:27,046] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,046] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 03:13:27,046] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:13:27,047] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 03:13:27,047] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 03:13:27,047] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,047] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,047] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 16
[2025-08-20 03:13:27,047] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,047] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@16
[2025-08-20 03:13:27,048] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=12:17, 当前值=5.9200
[2025-08-20 03:13:27,048] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.446
[2025-08-20 03:13:27,048] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.446
[2025-08-20 03:13:27,048] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 16, 值: 6.446
[2025-08-20 03:13:27,048] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[16] = 6.446
[2025-08-20 03:13:27,048] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:13:27,048] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 03:13:27,048] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.62 (from index 15)
[2025-08-20 03:13:27,048] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,048] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 16
[2025-08-20 03:13:27,048] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,048] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@16
[2025-08-20 03:13:27,048] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=10:17, 当前值=5.9200
[2025-08-20 03:13:27,048] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.4557142857142855
[2025-08-20 03:13:27,048] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.4557142857142855
[2025-08-20 03:13:27,048] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 16, 值: 6.4557142857142855
[2025-08-20 03:13:27,049] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[16] = 6.4557142857142855
[2025-08-20 03:13:27,049] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:13:27,049] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 03:13:27,049] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.5 (from index 15)
[2025-08-20 03:13:27,049] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 03:13:27,049] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 03:13:27,049] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,050] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,050] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 03:13:27,050] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:13:27,050] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,050] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 03:13:27,050] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:13:27,050] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 03:13:27,050] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 03:13:27,050] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:13:27,051] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:13:27,051] [DEBUG] [backtesting:322] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 03:13:27,051] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,051] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,051] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 17
[2025-08-20 03:13:27,051] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,051] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@17
[2025-08-20 03:13:27,052] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=13:18, 当前值=5.9400
[2025-08-20 03:13:27,052] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.366
[2025-08-20 03:13:27,052] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.366
[2025-08-20 03:13:27,052] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 17, 值: 6.366
[2025-08-20 03:13:27,052] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[17] = 6.366
[2025-08-20 03:13:27,052] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:13:27,052] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 03:13:27,052] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.446 (from index 16)
[2025-08-20 03:13:27,052] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,052] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 17
[2025-08-20 03:13:27,052] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,052] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@17
[2025-08-20 03:13:27,052] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=11:18, 当前值=5.9400
[2025-08-20 03:13:27,052] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.422857142857143
[2025-08-20 03:13:27,052] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.422857142857143
[2025-08-20 03:13:27,053] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 17, 值: 6.422857142857143
[2025-08-20 03:13:27,053] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[17] = 6.422857142857143
[2025-08-20 03:13:27,053] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:13:27,053] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 03:13:27,053] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.4557142857142855 (from index 16)
[2025-08-20 03:13:27,053] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 03:13:27,053] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 03:13:27,053] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,053] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,054] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 03:13:27,054] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:13:27,054] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,054] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 03:13:27,054] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:13:27,054] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 03:13:27,054] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 03:13:27,055] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,055] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,055] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 18
[2025-08-20 03:13:27,055] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,055] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@18
[2025-08-20 03:13:27,055] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=14:19, 当前值=6.0900
[2025-08-20 03:13:27,055] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.1899999999999995
[2025-08-20 03:13:27,055] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.1899999999999995
[2025-08-20 03:13:27,055] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 18, 值: 6.1899999999999995
[2025-08-20 03:13:27,055] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[18] = 6.1899999999999995
[2025-08-20 03:13:27,055] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:13:27,056] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 03:13:27,056] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.366 (from index 17)
[2025-08-20 03:13:27,056] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,056] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 18
[2025-08-20 03:13:27,056] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,056] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@18
[2025-08-20 03:13:27,056] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=12:19, 当前值=6.0900
[2025-08-20 03:13:27,056] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.322857142857143
[2025-08-20 03:13:27,056] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.322857142857143
[2025-08-20 03:13:27,056] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 18, 值: 6.322857142857143
[2025-08-20 03:13:27,056] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[18] = 6.322857142857143
[2025-08-20 03:13:27,056] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:13:27,056] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 03:13:27,056] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.422857142857143 (from index 17)
[2025-08-20 03:13:27,057] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 03:13:27,057] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 03:13:27,057] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,057] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,057] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 03:13:27,057] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:13:27,057] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,057] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 03:13:27,057] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:13:27,057] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 03:13:27,058] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 03:13:27,058] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,058] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,058] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 19
[2025-08-20 03:13:27,058] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,058] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@19
[2025-08-20 03:13:27,058] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=15:20, 当前值=6.1000
[2025-08-20 03:13:27,058] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.046
[2025-08-20 03:13:27,058] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.046
[2025-08-20 03:13:27,058] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 19, 值: 6.046
[2025-08-20 03:13:27,059] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[19] = 6.046
[2025-08-20 03:13:27,059] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:13:27,059] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 03:13:27,059] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.1899999999999995 (from index 18)
[2025-08-20 03:13:27,059] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,059] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 19
[2025-08-20 03:13:27,060] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,060] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@19
[2025-08-20 03:13:27,060] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=13:20, 当前值=6.1000
[2025-08-20 03:13:27,060] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.288571428571429
[2025-08-20 03:13:27,060] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.288571428571429
[2025-08-20 03:13:27,060] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 19, 值: 6.288571428571429
[2025-08-20 03:13:27,060] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[19] = 6.288571428571429
[2025-08-20 03:13:27,060] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:13:27,060] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 03:13:27,060] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.322857142857143 (from index 18)
[2025-08-20 03:13:27,060] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 03:13:27,060] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 03:13:27,060] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,061] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,061] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 03:13:27,061] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:13:27,061] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,061] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 03:13:27,061] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:13:27,061] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 03:13:27,061] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 03:13:27,061] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,062] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,062] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 20
[2025-08-20 03:13:27,062] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,062] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@20
[2025-08-20 03:13:27,062] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=16:21, 当前值=6.7100
[2025-08-20 03:13:27,062] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.152
[2025-08-20 03:13:27,062] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.152
[2025-08-20 03:13:27,062] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 20, 值: 6.152
[2025-08-20 03:13:27,062] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[20] = 6.152
[2025-08-20 03:13:27,062] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:13:27,062] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 03:13:27,062] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.046 (from index 19)
[2025-08-20 03:13:27,062] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,063] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 20
[2025-08-20 03:13:27,063] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,063] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@20
[2025-08-20 03:13:27,063] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=14:21, 当前值=6.7100
[2025-08-20 03:13:27,063] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.251428571428571
[2025-08-20 03:13:27,063] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.251428571428571
[2025-08-20 03:13:27,063] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 20, 值: 6.251428571428571
[2025-08-20 03:13:27,063] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[20] = 6.251428571428571
[2025-08-20 03:13:27,063] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:13:27,063] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 03:13:27,063] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.288571428571429 (from index 19)
[2025-08-20 03:13:27,063] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 03:13:27,064] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 03:13:27,064] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,064] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,064] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 03:13:27,064] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:13:27,064] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,064] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 03:13:27,064] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:13:27,065] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 03:13:27,065] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 03:13:27,065] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,065] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,065] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 21
[2025-08-20 03:13:27,065] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,065] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@21
[2025-08-20 03:13:27,065] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=17:22, 当前值=7.3800
[2025-08-20 03:13:27,065] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.444
[2025-08-20 03:13:27,065] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.444
[2025-08-20 03:13:27,065] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 21, 值: 6.444
[2025-08-20 03:13:27,066] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[21] = 6.444
[2025-08-20 03:13:27,066] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 20 (当前索引: 21, 回溯周期: 1)
[2025-08-20 03:13:27,066] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 03:13:27,066] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.152 (from index 20)
[2025-08-20 03:13:27,066] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,066] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 21
[2025-08-20 03:13:27,066] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,066] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@21
[2025-08-20 03:13:27,066] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=15:22, 当前值=7.3800
[2025-08-20 03:13:27,066] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.331428571428572
[2025-08-20 03:13:27,066] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.331428571428572
[2025-08-20 03:13:27,066] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 21, 值: 6.331428571428572
[2025-08-20 03:13:27,066] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[21] = 6.331428571428572
[2025-08-20 03:13:27,066] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 20 (当前索引: 21, 回溯周期: 1)
[2025-08-20 03:13:27,066] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 03:13:27,067] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.251428571428571 (from index 20)
[2025-08-20 03:13:27,067] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.444
[2025-08-20 03:13:27,067] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.331428571428572
[2025-08-20 03:13:27,067] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:13:27,067] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:13:27,067] [DEBUG] [backtesting:322] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 03:13:27,067] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,068] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,068] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 22
[2025-08-20 03:13:27,068] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,068] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@22
[2025-08-20 03:13:27,068] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=18:23, 当前值=7.2700
[2025-08-20 03:13:27,068] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.709999999999999
[2025-08-20 03:13:27,068] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.709999999999999
[2025-08-20 03:13:27,068] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 22, 值: 6.709999999999999
[2025-08-20 03:13:27,068] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[22] = 6.709999999999999
[2025-08-20 03:13:27,068] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:13:27,068] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.444
[2025-08-20 03:13:27,068] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.444 (from index 21)
[2025-08-20 03:13:27,068] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,069] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 22
[2025-08-20 03:13:27,069] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,069] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@22
[2025-08-20 03:13:27,069] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=16:23, 当前值=7.2700
[2025-08-20 03:13:27,069] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.487142857142857
[2025-08-20 03:13:27,070] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.487142857142857
[2025-08-20 03:13:27,070] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 22, 值: 6.487142857142857
[2025-08-20 03:13:27,070] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[22] = 6.487142857142857
[2025-08-20 03:13:27,070] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:13:27,070] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.331428571428572
[2025-08-20 03:13:27,070] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.331428571428572 (from index 21)
[2025-08-20 03:13:27,070] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 03:13:27,070] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 03:13:27,070] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,071] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,071] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 03:13:27,071] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:13:27,071] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,071] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 03:13:27,071] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:13:27,071] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 03:13:27,071] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 03:13:27,071] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,072] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,072] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 23
[2025-08-20 03:13:27,072] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,072] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@23
[2025-08-20 03:13:27,072] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=19:24, 当前值=7.3200
[2025-08-20 03:13:27,072] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.956
[2025-08-20 03:13:27,072] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.956
[2025-08-20 03:13:27,072] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 23, 值: 6.956
[2025-08-20 03:13:27,072] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[23] = 6.956
[2025-08-20 03:13:27,072] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:13:27,072] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 03:13:27,072] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.709999999999999 (from index 22)
[2025-08-20 03:13:27,073] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,073] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 23
[2025-08-20 03:13:27,073] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,073] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@23
[2025-08-20 03:13:27,073] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=17:24, 当前值=7.3200
[2025-08-20 03:13:27,073] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.687142857142858
[2025-08-20 03:13:27,073] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.687142857142858
[2025-08-20 03:13:27,073] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 23, 值: 6.687142857142858
[2025-08-20 03:13:27,073] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[23] = 6.687142857142858
[2025-08-20 03:13:27,073] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:13:27,073] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 03:13:27,073] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.487142857142857 (from index 22)
[2025-08-20 03:13:27,073] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 03:13:27,074] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 03:13:27,074] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,074] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,074] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 03:13:27,074] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:13:27,074] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,074] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 03:13:27,074] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:13:27,075] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 03:13:27,075] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 03:13:27,075] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,075] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,075] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 24
[2025-08-20 03:13:27,075] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,075] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@24
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=20:25, 当前值=7.4700
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.2299999999999995
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.2299999999999995
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 24, 值: 7.2299999999999995
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[24] = 7.2299999999999995
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:13:27,076] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 03:13:27,076] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.956 (from index 23)
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 24
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@24
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=18:25, 当前值=7.4700
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.905714285714287
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.905714285714287
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 24, 值: 6.905714285714287
[2025-08-20 03:13:27,076] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[24] = 6.905714285714287
[2025-08-20 03:13:27,077] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:13:27,077] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 03:13:27,077] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.687142857142858 (from index 23)
[2025-08-20 03:13:27,077] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 03:13:27,077] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 03:13:27,077] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,077] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,078] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 03:13:27,078] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:13:27,078] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,078] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 03:13:27,078] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:13:27,078] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 03:13:27,078] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 03:13:27,079] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,080] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,080] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 25
[2025-08-20 03:13:27,080] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,080] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@25
[2025-08-20 03:13:27,080] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=21:26, 当前值=7.3300
[2025-08-20 03:13:27,080] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.354000000000001
[2025-08-20 03:13:27,080] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.354000000000001
[2025-08-20 03:13:27,080] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 25, 值: 7.354000000000001
[2025-08-20 03:13:27,080] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[25] = 7.354000000000001
[2025-08-20 03:13:27,080] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:13:27,080] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 03:13:27,080] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.2299999999999995 (from index 24)
[2025-08-20 03:13:27,080] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,080] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 25
[2025-08-20 03:13:27,081] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,081] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@25
[2025-08-20 03:13:27,081] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=19:26, 当前值=7.3300
[2025-08-20 03:13:27,081] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.082857142857143
[2025-08-20 03:13:27,081] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.082857142857143
[2025-08-20 03:13:27,081] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 25, 值: 7.082857142857143
[2025-08-20 03:13:27,081] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[25] = 7.082857142857143
[2025-08-20 03:13:27,081] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:13:27,081] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 03:13:27,081] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.905714285714287 (from index 24)
[2025-08-20 03:13:27,081] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 03:13:27,081] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 03:13:27,081] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,082] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,082] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 03:13:27,082] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:13:27,082] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,082] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 03:13:27,082] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:13:27,082] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 03:13:27,082] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 03:13:27,082] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,083] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,083] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 26
[2025-08-20 03:13:27,083] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,083] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@26
[2025-08-20 03:13:27,083] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=22:27, 当前值=7.6600
[2025-08-20 03:13:27,083] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.409999999999999
[2025-08-20 03:13:27,083] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.409999999999999
[2025-08-20 03:13:27,083] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 26, 值: 7.409999999999999
[2025-08-20 03:13:27,083] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[26] = 7.409999999999999
[2025-08-20 03:13:27,083] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:13:27,083] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 03:13:27,083] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.354000000000001 (from index 25)
[2025-08-20 03:13:27,083] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,084] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 26
[2025-08-20 03:13:27,084] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,084] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@26
[2025-08-20 03:13:27,084] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=20:27, 当前值=7.6600
[2025-08-20 03:13:27,084] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.305714285714286
[2025-08-20 03:13:27,084] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.305714285714286
[2025-08-20 03:13:27,084] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 26, 值: 7.305714285714286
[2025-08-20 03:13:27,084] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[26] = 7.305714285714286
[2025-08-20 03:13:27,084] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:13:27,084] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 03:13:27,084] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.082857142857143 (from index 25)
[2025-08-20 03:13:27,085] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 03:13:27,085] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 03:13:27,085] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,085] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,085] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 03:13:27,085] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:13:27,085] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,085] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 03:13:27,085] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:13:27,086] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 03:13:27,086] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 03:13:27,086] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,086] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,086] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 27
[2025-08-20 03:13:27,086] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,086] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@27
[2025-08-20 03:13:27,086] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=23:28, 当前值=7.7500
[2025-08-20 03:13:27,086] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.506
[2025-08-20 03:13:27,086] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.506
[2025-08-20 03:13:27,087] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 27, 值: 7.506
[2025-08-20 03:13:27,087] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[27] = 7.506
[2025-08-20 03:13:27,087] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:13:27,087] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 03:13:27,087] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.409999999999999 (from index 26)
[2025-08-20 03:13:27,087] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,087] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 27
[2025-08-20 03:13:27,087] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,087] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@27
[2025-08-20 03:13:27,087] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=21:28, 当前值=7.7500
[2025-08-20 03:13:27,087] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.454285714285715
[2025-08-20 03:13:27,087] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.454285714285715
[2025-08-20 03:13:27,087] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 27, 值: 7.454285714285715
[2025-08-20 03:13:27,087] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[27] = 7.454285714285715
[2025-08-20 03:13:27,087] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:13:27,088] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 03:13:27,088] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.305714285714286 (from index 26)
[2025-08-20 03:13:27,088] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 03:13:27,088] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 03:13:27,088] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,088] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,089] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 03:13:27,089] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:13:27,089] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,089] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 03:13:27,089] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:13:27,089] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 03:13:27,089] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 03:13:27,089] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,090] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,090] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 28
[2025-08-20 03:13:27,090] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,090] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@28
[2025-08-20 03:13:27,090] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=24:29, 当前值=7.6400
[2025-08-20 03:13:27,090] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.57
[2025-08-20 03:13:27,090] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.57
[2025-08-20 03:13:27,090] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 28, 值: 7.57
[2025-08-20 03:13:27,090] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[28] = 7.57
[2025-08-20 03:13:27,090] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:13:27,090] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 03:13:27,090] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.506 (from index 27)
[2025-08-20 03:13:27,090] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,091] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 28
[2025-08-20 03:13:27,091] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,091] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@28
[2025-08-20 03:13:27,091] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=22:29, 当前值=7.6400
[2025-08-20 03:13:27,091] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.491428571428571
[2025-08-20 03:13:27,091] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.491428571428571
[2025-08-20 03:13:27,091] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 28, 值: 7.491428571428571
[2025-08-20 03:13:27,091] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[28] = 7.491428571428571
[2025-08-20 03:13:27,091] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:13:27,091] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 03:13:27,091] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.454285714285715 (from index 27)
[2025-08-20 03:13:27,091] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 03:13:27,091] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 03:13:27,092] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,092] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,092] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 03:13:27,092] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:13:27,092] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,092] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 03:13:27,093] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:13:27,093] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 03:13:27,093] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 03:13:27,093] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,093] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,093] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 29
[2025-08-20 03:13:27,094] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,094] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@29
[2025-08-20 03:13:27,094] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=25:30, 当前值=7.9700
[2025-08-20 03:13:27,094] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.67
[2025-08-20 03:13:27,094] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.67
[2025-08-20 03:13:27,094] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 29, 值: 7.67
[2025-08-20 03:13:27,094] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[29] = 7.67
[2025-08-20 03:13:27,094] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:13:27,094] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 03:13:27,094] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.57 (from index 28)
[2025-08-20 03:13:27,094] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,094] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 29
[2025-08-20 03:13:27,094] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,094] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@29
[2025-08-20 03:13:27,094] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=23:30, 当前值=7.9700
[2025-08-20 03:13:27,095] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.591428571428572
[2025-08-20 03:13:27,095] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.591428571428572
[2025-08-20 03:13:27,095] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 29, 值: 7.591428571428572
[2025-08-20 03:13:27,095] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[29] = 7.591428571428572
[2025-08-20 03:13:27,095] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:13:27,095] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 03:13:27,095] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.491428571428571 (from index 28)
[2025-08-20 03:13:27,095] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 03:13:27,095] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 03:13:27,095] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,095] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,096] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 03:13:27,096] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:13:27,096] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,096] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 03:13:27,096] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:13:27,096] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 03:13:27,096] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 03:13:27,096] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,097] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,097] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 30
[2025-08-20 03:13:27,097] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,097] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@30
[2025-08-20 03:13:27,097] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=26:31, 当前值=8.0800
[2025-08-20 03:13:27,097] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.82
[2025-08-20 03:13:27,097] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.82
[2025-08-20 03:13:27,097] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 30, 值: 7.82
[2025-08-20 03:13:27,097] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[30] = 7.82
[2025-08-20 03:13:27,097] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:13:27,097] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 03:13:27,097] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.67 (from index 29)
[2025-08-20 03:13:27,098] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,098] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 30
[2025-08-20 03:13:27,098] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,098] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@30
[2025-08-20 03:13:27,098] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=24:31, 当前值=8.0800
[2025-08-20 03:13:27,098] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.7
[2025-08-20 03:13:27,098] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.7
[2025-08-20 03:13:27,098] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 30, 值: 7.7
[2025-08-20 03:13:27,098] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[30] = 7.7
[2025-08-20 03:13:27,098] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:13:27,098] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 03:13:27,098] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.591428571428572 (from index 29)
[2025-08-20 03:13:27,098] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 03:13:27,098] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 03:13:27,099] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,099] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,099] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 03:13:27,099] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:13:27,099] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,099] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 03:13:27,099] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:13:27,100] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 03:13:27,100] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 03:13:27,100] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,100] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,101] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 31
[2025-08-20 03:13:27,101] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,101] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@31
[2025-08-20 03:13:27,101] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=27:32, 当前值=8.8900
[2025-08-20 03:13:27,101] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.065999999999999
[2025-08-20 03:13:27,101] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=8.065999999999999
[2025-08-20 03:13:27,101] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 31, 值: 8.065999999999999
[2025-08-20 03:13:27,101] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[31] = 8.065999999999999
[2025-08-20 03:13:27,101] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:13:27,101] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 03:13:27,101] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.82 (from index 30)
[2025-08-20 03:13:27,101] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,102] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 31
[2025-08-20 03:13:27,102] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,102] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@31
[2025-08-20 03:13:27,102] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=25:32, 当前值=8.8900
[2025-08-20 03:13:27,102] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.902857142857143
[2025-08-20 03:13:27,102] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.902857142857143
[2025-08-20 03:13:27,102] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 31, 值: 7.902857142857143
[2025-08-20 03:13:27,102] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[31] = 7.902857142857143
[2025-08-20 03:13:27,102] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:13:27,102] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 03:13:27,102] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.7 (from index 30)
[2025-08-20 03:13:27,102] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 03:13:27,102] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 03:13:27,103] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,103] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,103] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 03:13:27,103] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:13:27,103] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,103] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 03:13:27,103] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:13:27,103] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 03:13:27,104] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 03:13:27,104] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,104] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,104] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 32
[2025-08-20 03:13:27,104] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,104] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@32
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=28:33, 当前值=9.7800
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.472
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=8.472
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 32, 值: 8.472
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[32] = 8.472
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:13:27,105] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 03:13:27,105] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.065999999999999 (from index 31)
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 32
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@32
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=26:33, 当前值=9.7800
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.252857142857144
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=8.252857142857144
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 32, 值: 8.252857142857144
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[32] = 8.252857142857144
[2025-08-20 03:13:27,105] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:13:27,106] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 03:13:27,106] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.902857142857143 (from index 31)
[2025-08-20 03:13:27,106] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 03:13:27,106] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 03:13:27,106] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,106] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,106] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 03:13:27,106] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:13:27,106] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,107] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 03:13:27,107] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:13:27,107] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 03:13:27,107] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 03:13:27,107] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,107] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,107] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 33
[2025-08-20 03:13:27,107] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,108] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@33
[2025-08-20 03:13:27,108] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=29:34, 当前值=10.7600
[2025-08-20 03:13:27,108] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.096
[2025-08-20 03:13:27,108] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.096
[2025-08-20 03:13:27,108] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 33, 值: 9.096
[2025-08-20 03:13:27,108] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[33] = 9.096
[2025-08-20 03:13:27,108] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:13:27,108] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 03:13:27,108] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.472 (from index 32)
[2025-08-20 03:13:27,108] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,108] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 33
[2025-08-20 03:13:27,108] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,108] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@33
[2025-08-20 03:13:27,109] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=27:34, 当前值=10.7600
[2025-08-20 03:13:27,109] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.695714285714285
[2025-08-20 03:13:27,109] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=8.695714285714285
[2025-08-20 03:13:27,109] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 33, 值: 8.695714285714285
[2025-08-20 03:13:27,109] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[33] = 8.695714285714285
[2025-08-20 03:13:27,109] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:13:27,109] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 03:13:27,110] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.252857142857144 (from index 32)
[2025-08-20 03:13:27,110] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 03:13:27,110] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 03:13:27,110] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,110] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,110] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 03:13:27,110] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:13:27,111] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,111] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 03:13:27,111] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:13:27,111] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 03:13:27,111] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 03:13:27,111] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,112] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,112] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 34
[2025-08-20 03:13:27,112] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,112] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@34
[2025-08-20 03:13:27,112] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=30:35, 当前值=11.4500
[2025-08-20 03:13:27,112] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.792
[2025-08-20 03:13:27,112] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.792
[2025-08-20 03:13:27,112] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 34, 值: 9.792
[2025-08-20 03:13:27,112] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[34] = 9.792
[2025-08-20 03:13:27,112] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:13:27,112] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 03:13:27,112] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.096 (from index 33)
[2025-08-20 03:13:27,112] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,113] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 34
[2025-08-20 03:13:27,113] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,113] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@34
[2025-08-20 03:13:27,113] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=28:35, 当前值=11.4500
[2025-08-20 03:13:27,113] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.224285714285713
[2025-08-20 03:13:27,113] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.224285714285713
[2025-08-20 03:13:27,113] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 34, 值: 9.224285714285713
[2025-08-20 03:13:27,113] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[34] = 9.224285714285713
[2025-08-20 03:13:27,113] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:13:27,113] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 03:13:27,113] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.695714285714285 (from index 33)
[2025-08-20 03:13:27,113] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 03:13:27,113] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 03:13:27,114] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,114] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,114] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 03:13:27,114] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:13:27,114] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,114] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 03:13:27,114] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:13:27,115] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 03:13:27,115] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 03:13:27,115] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,115] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,115] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 35
[2025-08-20 03:13:27,115] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,115] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@35
[2025-08-20 03:13:27,115] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=31:36, 当前值=12.6000
[2025-08-20 03:13:27,115] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.696
[2025-08-20 03:13:27,115] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.696
[2025-08-20 03:13:27,116] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 35, 值: 10.696
[2025-08-20 03:13:27,116] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[35] = 10.696
[2025-08-20 03:13:27,116] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:13:27,116] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 03:13:27,116] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.792 (from index 34)
[2025-08-20 03:13:27,116] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,116] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 35
[2025-08-20 03:13:27,116] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,116] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@35
[2025-08-20 03:13:27,116] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=29:36, 当前值=12.6000
[2025-08-20 03:13:27,116] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.932857142857143
[2025-08-20 03:13:27,116] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.932857142857143
[2025-08-20 03:13:27,116] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 35, 值: 9.932857142857143
[2025-08-20 03:13:27,116] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[35] = 9.932857142857143
[2025-08-20 03:13:27,116] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:13:27,116] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 03:13:27,117] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.224285714285713 (from index 34)
[2025-08-20 03:13:27,117] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 03:13:27,117] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 03:13:27,117] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,117] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,117] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 03:13:27,117] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:13:27,117] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,117] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 03:13:27,117] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:13:27,118] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 03:13:27,118] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 03:13:27,118] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,118] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,118] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 36
[2025-08-20 03:13:27,118] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,118] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@36
[2025-08-20 03:13:27,118] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=32:37, 当前值=13.8600
[2025-08-20 03:13:27,118] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.690000000000001
[2025-08-20 03:13:27,119] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.690000000000001
[2025-08-20 03:13:27,119] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 36, 值: 11.690000000000001
[2025-08-20 03:13:27,119] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[36] = 11.690000000000001
[2025-08-20 03:13:27,119] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:13:27,119] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 03:13:27,119] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.696 (from index 35)
[2025-08-20 03:13:27,119] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,119] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 36
[2025-08-20 03:13:27,119] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,119] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@36
[2025-08-20 03:13:27,119] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=30:37, 当前值=13.8600
[2025-08-20 03:13:27,119] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.774285714285714
[2025-08-20 03:13:27,119] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.774285714285714
[2025-08-20 03:13:27,120] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 36, 值: 10.774285714285714
[2025-08-20 03:13:27,120] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[36] = 10.774285714285714
[2025-08-20 03:13:27,120] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:13:27,120] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 03:13:27,120] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.932857142857143 (from index 35)
[2025-08-20 03:13:27,120] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 03:13:27,120] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 03:13:27,120] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,121] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,121] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 03:13:27,121] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:13:27,121] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,121] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 03:13:27,121] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:13:27,121] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 03:13:27,121] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 03:13:27,121] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,122] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,122] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 37
[2025-08-20 03:13:27,122] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,122] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@37
[2025-08-20 03:13:27,122] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=33:38, 当前值=13.5000
[2025-08-20 03:13:27,122] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.434000000000001
[2025-08-20 03:13:27,122] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.434000000000001
[2025-08-20 03:13:27,122] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 37, 值: 12.434000000000001
[2025-08-20 03:13:27,122] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[37] = 12.434000000000001
[2025-08-20 03:13:27,122] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:13:27,122] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 03:13:27,122] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.690000000000001 (from index 36)
[2025-08-20 03:13:27,122] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,123] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 37
[2025-08-20 03:13:27,123] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,123] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@37
[2025-08-20 03:13:27,123] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=31:38, 当前值=13.5000
[2025-08-20 03:13:27,123] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.54857142857143
[2025-08-20 03:13:27,123] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.54857142857143
[2025-08-20 03:13:27,123] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 37, 值: 11.54857142857143
[2025-08-20 03:13:27,123] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[37] = 11.54857142857143
[2025-08-20 03:13:27,123] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:13:27,123] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 03:13:27,123] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.774285714285714 (from index 36)
[2025-08-20 03:13:27,123] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 03:13:27,123] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 03:13:27,124] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,124] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,124] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 03:13:27,124] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:13:27,124] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,124] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 03:13:27,124] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:13:27,125] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 03:13:27,125] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 03:13:27,125] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,125] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,125] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 38
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@38
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=34:39, 当前值=12.1500
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.712
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.712
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 38, 值: 12.712
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[38] = 12.712
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:13:27,126] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 03:13:27,126] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.434000000000001 (from index 37)
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 38
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@38
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=32:39, 当前值=12.1500
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.014285714285714
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.014285714285714
[2025-08-20 03:13:27,126] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 38, 值: 12.014285714285714
[2025-08-20 03:13:27,127] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[38] = 12.014285714285714
[2025-08-20 03:13:27,127] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:13:27,127] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 03:13:27,127] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.54857142857143 (from index 37)
[2025-08-20 03:13:27,127] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 03:13:27,127] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 03:13:27,127] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,127] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,127] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 03:13:27,127] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:13:27,128] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,128] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 03:13:27,128] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:13:27,128] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 03:13:27,128] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 03:13:27,128] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,129] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,129] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 39
[2025-08-20 03:13:27,129] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,129] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@39
[2025-08-20 03:13:27,129] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=35:40, 当前值=11.2600
[2025-08-20 03:13:27,129] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.674
[2025-08-20 03:13:27,129] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.674
[2025-08-20 03:13:27,129] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 39, 值: 12.674
[2025-08-20 03:13:27,129] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[39] = 12.674
[2025-08-20 03:13:27,129] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:13:27,129] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 03:13:27,130] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.712 (from index 38)
[2025-08-20 03:13:27,130] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,130] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 39
[2025-08-20 03:13:27,130] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,130] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@39
[2025-08-20 03:13:27,130] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=33:40, 当前值=11.2600
[2025-08-20 03:13:27,130] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.225714285714286
[2025-08-20 03:13:27,130] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.225714285714286
[2025-08-20 03:13:27,130] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 39, 值: 12.225714285714286
[2025-08-20 03:13:27,130] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[39] = 12.225714285714286
[2025-08-20 03:13:27,130] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:13:27,130] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 03:13:27,130] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.014285714285714 (from index 38)
[2025-08-20 03:13:27,130] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 03:13:27,131] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 03:13:27,131] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,131] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,131] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 03:13:27,131] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:13:27,131] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,131] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 03:13:27,131] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:13:27,131] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 03:13:27,131] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 03:13:27,132] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,132] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,132] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 40
[2025-08-20 03:13:27,132] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,132] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@40
[2025-08-20 03:13:27,132] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=36:41, 当前值=11.8500
[2025-08-20 03:13:27,132] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.524
[2025-08-20 03:13:27,132] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.524
[2025-08-20 03:13:27,132] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 40, 值: 12.524
[2025-08-20 03:13:27,132] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[40] = 12.524
[2025-08-20 03:13:27,132] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:13:27,132] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 03:13:27,133] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.674 (from index 39)
[2025-08-20 03:13:27,133] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,133] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 40
[2025-08-20 03:13:27,133] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,133] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@40
[2025-08-20 03:13:27,133] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=34:41, 当前值=11.8500
[2025-08-20 03:13:27,133] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.381428571428572
[2025-08-20 03:13:27,133] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.381428571428572
[2025-08-20 03:13:27,133] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 40, 值: 12.381428571428572
[2025-08-20 03:13:27,133] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[40] = 12.381428571428572
[2025-08-20 03:13:27,133] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:13:27,133] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 03:13:27,133] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.225714285714286 (from index 39)
[2025-08-20 03:13:27,134] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 03:13:27,134] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 03:13:27,134] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,134] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,134] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 03:13:27,134] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:13:27,134] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,134] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 03:13:27,134] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:13:27,134] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 03:13:27,135] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 03:13:27,135] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,135] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,135] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 41
[2025-08-20 03:13:27,135] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,135] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@41
[2025-08-20 03:13:27,135] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=37:42, 当前值=13.0400
[2025-08-20 03:13:27,135] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.36
[2025-08-20 03:13:27,135] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.36
[2025-08-20 03:13:27,135] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 41, 值: 12.36
[2025-08-20 03:13:27,135] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[41] = 12.36
[2025-08-20 03:13:27,135] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:13:27,136] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 03:13:27,136] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.524 (from index 40)
[2025-08-20 03:13:27,136] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,136] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 41
[2025-08-20 03:13:27,136] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,136] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@41
[2025-08-20 03:13:27,136] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=35:42, 当前值=13.0400
[2025-08-20 03:13:27,136] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.608571428571429
[2025-08-20 03:13:27,136] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.608571428571429
[2025-08-20 03:13:27,136] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 41, 值: 12.608571428571429
[2025-08-20 03:13:27,136] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[41] = 12.608571428571429
[2025-08-20 03:13:27,136] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:13:27,137] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 03:13:27,137] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.381428571428572 (from index 40)
[2025-08-20 03:13:27,137] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 03:13:27,137] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 03:13:27,137] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,137] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,137] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 03:13:27,137] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:13:27,137] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,138] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 03:13:27,138] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:13:27,138] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 03:13:27,138] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 03:13:27,138] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:13:27,138] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:13:27,138] [DEBUG] [backtesting:322] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 03:13:27,139] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,139] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,139] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 42
[2025-08-20 03:13:27,139] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,139] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@42
[2025-08-20 03:13:27,139] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=38:43, 当前值=11.7400
[2025-08-20 03:13:27,139] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.008
[2025-08-20 03:13:27,139] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.008
[2025-08-20 03:13:27,139] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 42, 值: 12.008
[2025-08-20 03:13:27,139] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[42] = 12.008
[2025-08-20 03:13:27,140] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:13:27,140] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 03:13:27,140] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.36 (from index 41)
[2025-08-20 03:13:27,140] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,140] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 42
[2025-08-20 03:13:27,140] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,140] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@42
[2025-08-20 03:13:27,140] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=36:43, 当前值=11.7400
[2025-08-20 03:13:27,140] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.485714285714286
[2025-08-20 03:13:27,140] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.485714285714286
[2025-08-20 03:13:27,140] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 42, 值: 12.485714285714286
[2025-08-20 03:13:27,140] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[42] = 12.485714285714286
[2025-08-20 03:13:27,140] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:13:27,140] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 03:13:27,140] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.608571428571429 (from index 41)
[2025-08-20 03:13:27,141] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 03:13:27,141] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 03:13:27,141] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,141] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,141] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 03:13:27,141] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:13:27,141] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,141] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 03:13:27,141] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:13:27,142] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 03:13:27,142] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 03:13:27,142] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,143] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,143] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 43
[2025-08-20 03:13:27,143] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,143] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@43
[2025-08-20 03:13:27,143] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=39:44, 当前值=11.1000
[2025-08-20 03:13:27,143] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.798
[2025-08-20 03:13:27,143] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.798
[2025-08-20 03:13:27,143] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 43, 值: 11.798
[2025-08-20 03:13:27,143] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[43] = 11.798
[2025-08-20 03:13:27,143] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:13:27,143] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 03:13:27,143] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.008 (from index 42)
[2025-08-20 03:13:27,144] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,144] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 43
[2025-08-20 03:13:27,144] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,144] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@43
[2025-08-20 03:13:27,145] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=37:44, 当前值=11.1000
[2025-08-20 03:13:27,145] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.09142857142857
[2025-08-20 03:13:27,145] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.09142857142857
[2025-08-20 03:13:27,145] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 43, 值: 12.09142857142857
[2025-08-20 03:13:27,145] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[43] = 12.09142857142857
[2025-08-20 03:13:27,145] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:13:27,145] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 03:13:27,145] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.485714285714286 (from index 42)
[2025-08-20 03:13:27,145] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 03:13:27,146] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 03:13:27,146] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,146] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,146] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 03:13:27,146] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:13:27,146] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,146] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 03:13:27,146] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:13:27,146] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 03:13:27,147] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 03:13:27,147] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,147] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,147] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 44
[2025-08-20 03:13:27,147] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,147] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@44
[2025-08-20 03:13:27,147] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=40:45, 当前值=11.7300
[2025-08-20 03:13:27,147] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.892
[2025-08-20 03:13:27,147] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.892
[2025-08-20 03:13:27,147] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 44, 值: 11.892
[2025-08-20 03:13:27,147] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[44] = 11.892
[2025-08-20 03:13:27,148] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 43 (当前索引: 44, 回溯周期: 1)
[2025-08-20 03:13:27,148] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 03:13:27,148] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.798 (from index 43)
[2025-08-20 03:13:27,148] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,148] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 44
[2025-08-20 03:13:27,148] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,148] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@44
[2025-08-20 03:13:27,148] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=38:45, 当前值=11.7300
[2025-08-20 03:13:27,148] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.838571428571429
[2025-08-20 03:13:27,148] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.838571428571429
[2025-08-20 03:13:27,148] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 44, 值: 11.838571428571429
[2025-08-20 03:13:27,148] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[44] = 11.838571428571429
[2025-08-20 03:13:27,148] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 43 (当前索引: 44, 回溯周期: 1)
[2025-08-20 03:13:27,148] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 03:13:27,148] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.09142857142857 (from index 43)
[2025-08-20 03:13:27,149] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 03:13:27,149] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.838571428571429
[2025-08-20 03:13:27,149] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:13:27,149] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:13:27,149] [DEBUG] [backtesting:322] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 03:13:27,150] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,150] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,150] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 45
[2025-08-20 03:13:27,150] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,150] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@45
[2025-08-20 03:13:27,150] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=41:46, 当前值=11.8500
[2025-08-20 03:13:27,150] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.892
[2025-08-20 03:13:27,150] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.892
[2025-08-20 03:13:27,150] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 45, 值: 11.892
[2025-08-20 03:13:27,150] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[45] = 11.892
[2025-08-20 03:13:27,150] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:13:27,150] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 03:13:27,151] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 44)
[2025-08-20 03:13:27,151] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,151] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 45
[2025-08-20 03:13:27,151] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,151] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@45
[2025-08-20 03:13:27,151] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=39:46, 当前值=11.8500
[2025-08-20 03:13:27,151] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.795714285714284
[2025-08-20 03:13:27,151] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.795714285714284
[2025-08-20 03:13:27,151] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 45, 值: 11.795714285714284
[2025-08-20 03:13:27,151] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[45] = 11.795714285714284
[2025-08-20 03:13:27,151] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:13:27,151] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.838571428571429
[2025-08-20 03:13:27,151] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.838571428571429 (from index 44)
[2025-08-20 03:13:27,151] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 03:13:27,152] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 03:13:27,152] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,152] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,152] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 03:13:27,152] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:13:27,152] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,152] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 03:13:27,152] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:13:27,152] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 03:13:27,153] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 03:13:27,153] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,153] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,153] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 46
[2025-08-20 03:13:27,153] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,153] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@46
[2025-08-20 03:13:27,153] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=42:47, 当前值=12.2400
[2025-08-20 03:13:27,153] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.732
[2025-08-20 03:13:27,153] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.732
[2025-08-20 03:13:27,153] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 46, 值: 11.732
[2025-08-20 03:13:27,154] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[46] = 11.732
[2025-08-20 03:13:27,154] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:13:27,154] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 03:13:27,154] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 45)
[2025-08-20 03:13:27,154] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,154] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 46
[2025-08-20 03:13:27,154] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,154] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@46
[2025-08-20 03:13:27,154] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=40:47, 当前值=12.2400
[2025-08-20 03:13:27,154] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.935714285714285
[2025-08-20 03:13:27,154] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.935714285714285
[2025-08-20 03:13:27,154] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 46, 值: 11.935714285714285
[2025-08-20 03:13:27,154] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[46] = 11.935714285714285
[2025-08-20 03:13:27,154] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:13:27,155] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 03:13:27,155] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.795714285714284 (from index 45)
[2025-08-20 03:13:27,155] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:13:27,155] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 03:13:27,155] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,155] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,155] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:13:27,155] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:13:27,155] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,156] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 03:13:27,156] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:13:27,156] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:13:27,156] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 03:13:27,156] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:13:27,156] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:13:27,156] [DEBUG] [backtesting:322] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 03:13:27,157] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,157] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,157] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 47
[2025-08-20 03:13:27,157] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,157] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@47
[2025-08-20 03:13:27,157] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=43:48, 当前值=12.9700
[2025-08-20 03:13:27,157] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.978
[2025-08-20 03:13:27,157] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.978
[2025-08-20 03:13:27,157] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 47, 值: 11.978
[2025-08-20 03:13:27,157] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[47] = 11.978
[2025-08-20 03:13:27,157] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:13:27,157] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:13:27,158] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 46)
[2025-08-20 03:13:27,158] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,158] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 47
[2025-08-20 03:13:27,158] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,158] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@47
[2025-08-20 03:13:27,158] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=41:48, 当前值=12.9700
[2025-08-20 03:13:27,158] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.095714285714285
[2025-08-20 03:13:27,158] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.095714285714285
[2025-08-20 03:13:27,158] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 47, 值: 12.095714285714285
[2025-08-20 03:13:27,158] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[47] = 12.095714285714285
[2025-08-20 03:13:27,158] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:13:27,158] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 03:13:27,158] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.935714285714285 (from index 46)
[2025-08-20 03:13:27,159] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 03:13:27,159] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 03:13:27,159] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,159] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,160] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 03:13:27,160] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:13:27,160] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,160] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 03:13:27,160] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:13:27,160] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 03:13:27,160] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 03:13:27,160] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,161] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,161] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 48
[2025-08-20 03:13:27,161] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,161] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@48
[2025-08-20 03:13:27,161] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=44:49, 当前值=12.9700
[2025-08-20 03:13:27,161] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.352
[2025-08-20 03:13:27,161] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.352
[2025-08-20 03:13:27,161] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 48, 值: 12.352
[2025-08-20 03:13:27,161] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[48] = 12.352
[2025-08-20 03:13:27,161] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 47 (当前索引: 48, 回溯周期: 1)
[2025-08-20 03:13:27,161] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 03:13:27,161] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.978 (from index 47)
[2025-08-20 03:13:27,161] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,162] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 48
[2025-08-20 03:13:27,162] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,162] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@48
[2025-08-20 03:13:27,162] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=42:49, 当前值=12.9700
[2025-08-20 03:13:27,162] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.085714285714285
[2025-08-20 03:13:27,162] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.085714285714285
[2025-08-20 03:13:27,162] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 48, 值: 12.085714285714285
[2025-08-20 03:13:27,162] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[48] = 12.085714285714285
[2025-08-20 03:13:27,162] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 47 (当前索引: 48, 回溯周期: 1)
[2025-08-20 03:13:27,162] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 03:13:27,162] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.095714285714285 (from index 47)
[2025-08-20 03:13:27,163] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.352
[2025-08-20 03:13:27,163] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.085714285714285
[2025-08-20 03:13:27,163] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:13:27,163] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:13:27,163] [DEBUG] [backtesting:322] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 03:13:27,163] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,164] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,164] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 49
[2025-08-20 03:13:27,164] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,164] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@49
[2025-08-20 03:13:27,164] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=45:50, 当前值=12.8700
[2025-08-20 03:13:27,164] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.58
[2025-08-20 03:13:27,164] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.58
[2025-08-20 03:13:27,164] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 49, 值: 12.58
[2025-08-20 03:13:27,164] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[49] = 12.58
[2025-08-20 03:13:27,165] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:13:27,165] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.352
[2025-08-20 03:13:27,165] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.352 (from index 48)
[2025-08-20 03:13:27,165] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,165] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 49
[2025-08-20 03:13:27,165] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,165] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@49
[2025-08-20 03:13:27,165] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=43:50, 当前值=12.8700
[2025-08-20 03:13:27,165] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.247142857142858
[2025-08-20 03:13:27,165] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.247142857142858
[2025-08-20 03:13:27,165] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 49, 值: 12.247142857142858
[2025-08-20 03:13:27,165] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[49] = 12.247142857142858
[2025-08-20 03:13:27,165] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:13:27,165] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.085714285714285
[2025-08-20 03:13:27,165] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.085714285714285 (from index 48)
[2025-08-20 03:13:27,166] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 03:13:27,166] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 03:13:27,166] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,166] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,166] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 03:13:27,166] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:13:27,166] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,166] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 03:13:27,166] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:13:27,167] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 03:13:27,167] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 03:13:27,167] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,167] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,167] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 50
[2025-08-20 03:13:27,167] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,167] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@50
[2025-08-20 03:13:27,167] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=46:51, 当前值=12.3500
[2025-08-20 03:13:27,167] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.68
[2025-08-20 03:13:27,167] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.68
[2025-08-20 03:13:27,167] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 50, 值: 12.68
[2025-08-20 03:13:27,168] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[50] = 12.68
[2025-08-20 03:13:27,168] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:13:27,168] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 03:13:27,168] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.58 (from index 49)
[2025-08-20 03:13:27,168] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,168] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 50
[2025-08-20 03:13:27,168] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,168] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@50
[2025-08-20 03:13:27,168] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=44:51, 当前值=12.3500
[2025-08-20 03:13:27,168] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.425714285714287
[2025-08-20 03:13:27,168] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.425714285714287
[2025-08-20 03:13:27,168] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 50, 值: 12.425714285714287
[2025-08-20 03:13:27,168] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[50] = 12.425714285714287
[2025-08-20 03:13:27,168] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:13:27,169] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 03:13:27,169] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.247142857142858 (from index 49)
[2025-08-20 03:13:27,169] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 03:13:27,169] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 03:13:27,169] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,169] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,170] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 03:13:27,170] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:13:27,170] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,170] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 03:13:27,170] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:13:27,170] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 03:13:27,170] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 03:13:27,170] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,171] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,171] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 51
[2025-08-20 03:13:27,171] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,171] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@51
[2025-08-20 03:13:27,171] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=47:52, 当前值=12.1800
[2025-08-20 03:13:27,171] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.668000000000001
[2025-08-20 03:13:27,171] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.668000000000001
[2025-08-20 03:13:27,171] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 51, 值: 12.668000000000001
[2025-08-20 03:13:27,171] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[51] = 12.668000000000001
[2025-08-20 03:13:27,171] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:13:27,171] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 03:13:27,172] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.68 (from index 50)
[2025-08-20 03:13:27,172] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,172] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 51
[2025-08-20 03:13:27,172] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,172] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@51
[2025-08-20 03:13:27,172] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=45:52, 当前值=12.1800
[2025-08-20 03:13:27,172] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.49
[2025-08-20 03:13:27,172] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.49
[2025-08-20 03:13:27,172] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 51, 值: 12.49
[2025-08-20 03:13:27,172] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[51] = 12.49
[2025-08-20 03:13:27,172] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:13:27,172] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 03:13:27,172] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.425714285714287 (from index 50)
[2025-08-20 03:13:27,172] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 03:13:27,173] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 03:13:27,173] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,173] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,173] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 03:13:27,173] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:13:27,173] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,173] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 03:13:27,173] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:13:27,174] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 03:13:27,174] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 03:13:27,174] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,174] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,174] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 52
[2025-08-20 03:13:27,174] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,174] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@52
[2025-08-20 03:13:27,174] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=48:53, 当前值=11.6200
[2025-08-20 03:13:27,174] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.398
[2025-08-20 03:13:27,174] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.398
[2025-08-20 03:13:27,174] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 52, 值: 12.398
[2025-08-20 03:13:27,175] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[52] = 12.398
[2025-08-20 03:13:27,175] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:13:27,175] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 03:13:27,175] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.668000000000001 (from index 51)
[2025-08-20 03:13:27,175] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,175] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 52
[2025-08-20 03:13:27,175] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,175] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@52
[2025-08-20 03:13:27,175] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=46:53, 当前值=11.6200
[2025-08-20 03:13:27,175] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.457142857142857
[2025-08-20 03:13:27,175] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.457142857142857
[2025-08-20 03:13:27,175] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 52, 值: 12.457142857142857
[2025-08-20 03:13:27,175] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[52] = 12.457142857142857
[2025-08-20 03:13:27,176] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:13:27,176] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 03:13:27,176] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.49 (from index 51)
[2025-08-20 03:13:27,176] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 03:13:27,176] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 03:13:27,176] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,176] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,176] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 03:13:27,176] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:13:27,177] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,177] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 03:13:27,177] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:13:27,177] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 03:13:27,177] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 03:13:27,177] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:13:27,177] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:13:27,178] [DEBUG] [backtesting:322] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 03:13:27,178] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,178] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,178] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 53
[2025-08-20 03:13:27,178] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,178] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@53
[2025-08-20 03:13:27,178] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=49:54, 当前值=11.5100
[2025-08-20 03:13:27,178] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.106
[2025-08-20 03:13:27,178] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.106
[2025-08-20 03:13:27,178] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 53, 值: 12.106
[2025-08-20 03:13:27,178] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[53] = 12.106
[2025-08-20 03:13:27,179] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:13:27,179] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 03:13:27,179] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.398 (from index 52)
[2025-08-20 03:13:27,179] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,179] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 53
[2025-08-20 03:13:27,179] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,179] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@53
[2025-08-20 03:13:27,179] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=47:54, 当前值=11.5100
[2025-08-20 03:13:27,179] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.352857142857143
[2025-08-20 03:13:27,179] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.352857142857143
[2025-08-20 03:13:27,179] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 53, 值: 12.352857142857143
[2025-08-20 03:13:27,179] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[53] = 12.352857142857143
[2025-08-20 03:13:27,179] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:13:27,180] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 03:13:27,180] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.457142857142857 (from index 52)
[2025-08-20 03:13:27,180] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 03:13:27,180] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 03:13:27,180] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,180] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,180] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 03:13:27,180] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:13:27,180] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,181] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 03:13:27,181] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:13:27,181] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 03:13:27,181] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 03:13:27,181] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,181] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,181] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 54
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@54
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=50:55, 当前值=11.8200
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.895999999999999
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.895999999999999
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 54, 值: 11.895999999999999
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[54] = 11.895999999999999
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:13:27,182] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 03:13:27,182] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.106 (from index 53)
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 54
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@54
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=48:55, 当前值=11.8200
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.188571428571427
[2025-08-20 03:13:27,182] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.188571428571427
[2025-08-20 03:13:27,183] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 54, 值: 12.188571428571427
[2025-08-20 03:13:27,183] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[54] = 12.188571428571427
[2025-08-20 03:13:27,183] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:13:27,183] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 03:13:27,183] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.352857142857143 (from index 53)
[2025-08-20 03:13:27,183] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 03:13:27,183] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 03:13:27,183] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,183] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,184] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 03:13:27,184] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:13:27,184] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,184] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 03:13:27,184] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:13:27,184] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 03:13:27,184] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 03:13:27,184] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,185] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,185] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 55
[2025-08-20 03:13:27,185] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,185] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@55
[2025-08-20 03:13:27,185] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=51:56, 当前值=11.5300
[2025-08-20 03:13:27,185] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.732
[2025-08-20 03:13:27,185] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.732
[2025-08-20 03:13:27,185] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 55, 值: 11.732
[2025-08-20 03:13:27,185] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[55] = 11.732
[2025-08-20 03:13:27,185] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:13:27,185] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 03:13:27,185] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.895999999999999 (from index 54)
[2025-08-20 03:13:27,185] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,186] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 55
[2025-08-20 03:13:27,186] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,186] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@55
[2025-08-20 03:13:27,186] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=49:56, 当前值=11.5300
[2025-08-20 03:13:27,186] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.982857142857142
[2025-08-20 03:13:27,186] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.982857142857142
[2025-08-20 03:13:27,186] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 55, 值: 11.982857142857142
[2025-08-20 03:13:27,186] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[55] = 11.982857142857142
[2025-08-20 03:13:27,186] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:13:27,186] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 03:13:27,186] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.188571428571427 (from index 54)
[2025-08-20 03:13:27,186] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:13:27,186] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 03:13:27,187] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,187] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,187] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:13:27,187] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:13:27,187] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,187] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 03:13:27,187] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:13:27,187] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:13:27,187] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 03:13:27,188] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,188] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,188] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 56
[2025-08-20 03:13:27,188] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,188] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@56
[2025-08-20 03:13:27,188] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=52:57, 当前值=11.2400
[2025-08-20 03:13:27,188] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.544
[2025-08-20 03:13:27,188] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.544
[2025-08-20 03:13:27,188] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 56, 值: 11.544
[2025-08-20 03:13:27,188] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[56] = 11.544
[2025-08-20 03:13:27,188] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:13:27,188] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:13:27,189] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 55)
[2025-08-20 03:13:27,189] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,189] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 56
[2025-08-20 03:13:27,189] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,189] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@56
[2025-08-20 03:13:27,189] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=50:57, 当前值=11.2400
[2025-08-20 03:13:27,189] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.75
[2025-08-20 03:13:27,189] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.75
[2025-08-20 03:13:27,189] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 56, 值: 11.75
[2025-08-20 03:13:27,189] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[56] = 11.75
[2025-08-20 03:13:27,189] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:13:27,189] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 03:13:27,189] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.982857142857142 (from index 55)
[2025-08-20 03:13:27,190] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 03:13:27,190] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 03:13:27,190] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,190] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,190] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 03:13:27,190] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:13:27,190] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,190] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 03:13:27,190] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:13:27,191] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 03:13:27,191] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 03:13:27,191] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,191] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,191] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 57
[2025-08-20 03:13:27,191] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,191] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@57
[2025-08-20 03:13:27,191] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=53:58, 当前值=11.1200
[2025-08-20 03:13:27,191] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.443999999999999
[2025-08-20 03:13:27,191] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.443999999999999
[2025-08-20 03:13:27,191] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 57, 值: 11.443999999999999
[2025-08-20 03:13:27,191] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[57] = 11.443999999999999
[2025-08-20 03:13:27,192] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:13:27,192] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 03:13:27,192] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.544 (from index 56)
[2025-08-20 03:13:27,192] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,192] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 57
[2025-08-20 03:13:27,192] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,192] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@57
[2025-08-20 03:13:27,192] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=51:58, 当前值=11.1200
[2025-08-20 03:13:27,192] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.574285714285713
[2025-08-20 03:13:27,192] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.574285714285713
[2025-08-20 03:13:27,192] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 57, 值: 11.574285714285713
[2025-08-20 03:13:27,192] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[57] = 11.574285714285713
[2025-08-20 03:13:27,192] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:13:27,192] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 03:13:27,193] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.75 (from index 56)
[2025-08-20 03:13:27,193] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 03:13:27,193] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 03:13:27,193] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,193] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,193] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 03:13:27,193] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:13:27,193] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,194] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 03:13:27,194] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:13:27,194] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 03:13:27,194] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 03:13:27,194] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,194] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,194] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 58
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@58
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=54:59, 当前值=11.1500
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.372
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.372
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 58, 值: 11.372
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[58] = 11.372
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:13:27,195] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 03:13:27,195] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.443999999999999 (from index 57)
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 58
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@58
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=52:59, 当前值=11.1500
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.427142857142856
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.427142857142856
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 58, 值: 11.427142857142856
[2025-08-20 03:13:27,195] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[58] = 11.427142857142856
[2025-08-20 03:13:27,196] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:13:27,196] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 03:13:27,196] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.574285714285713 (from index 57)
[2025-08-20 03:13:27,196] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 03:13:27,196] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 03:13:27,196] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,196] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,196] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 03:13:27,196] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:13:27,197] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,197] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 03:13:27,197] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:13:27,197] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 03:13:27,197] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 03:13:27,197] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,198] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,198] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 59
[2025-08-20 03:13:27,198] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,198] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@59
[2025-08-20 03:13:27,198] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=55:60, 当前值=11.4000
[2025-08-20 03:13:27,198] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.288
[2025-08-20 03:13:27,199] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.288
[2025-08-20 03:13:27,199] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 59, 值: 11.288
[2025-08-20 03:13:27,199] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[59] = 11.288
[2025-08-20 03:13:27,199] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:13:27,199] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 03:13:27,199] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.372 (from index 58)
[2025-08-20 03:13:27,200] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,200] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 59
[2025-08-20 03:13:27,200] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,200] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@59
[2025-08-20 03:13:27,200] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=53:60, 当前值=11.4000
[2025-08-20 03:13:27,200] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.395714285714286
[2025-08-20 03:13:27,200] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.395714285714286
[2025-08-20 03:13:27,200] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 59, 值: 11.395714285714286
[2025-08-20 03:13:27,200] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[59] = 11.395714285714286
[2025-08-20 03:13:27,200] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:13:27,200] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 03:13:27,200] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.427142857142856 (from index 58)
[2025-08-20 03:13:27,201] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 03:13:27,201] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 03:13:27,201] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,201] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,201] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 03:13:27,201] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:13:27,201] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,202] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 03:13:27,202] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:13:27,202] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 03:13:27,202] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 03:13:27,202] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,202] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,202] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 60
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@60
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=56:61, 当前值=11.4600
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.274
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.274
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 60, 值: 11.274
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[60] = 11.274
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:13:27,203] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 03:13:27,203] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.288 (from index 59)
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 60
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@60
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=54:61, 当前值=11.4600
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.388571428571428
[2025-08-20 03:13:27,203] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.388571428571428
[2025-08-20 03:13:27,204] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 60, 值: 11.388571428571428
[2025-08-20 03:13:27,204] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[60] = 11.388571428571428
[2025-08-20 03:13:27,204] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:13:27,204] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 03:13:27,204] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.395714285714286 (from index 59)
[2025-08-20 03:13:27,204] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 03:13:27,204] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 03:13:27,204] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,204] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,205] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 03:13:27,205] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:13:27,205] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,205] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 03:13:27,205] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:13:27,205] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 03:13:27,205] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 03:13:27,205] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,206] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,206] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 61
[2025-08-20 03:13:27,206] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,206] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@61
[2025-08-20 03:13:27,206] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=57:62, 当前值=11.3000
[2025-08-20 03:13:27,206] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.286
[2025-08-20 03:13:27,206] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.286
[2025-08-20 03:13:27,206] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 61, 值: 11.286
[2025-08-20 03:13:27,206] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[61] = 11.286
[2025-08-20 03:13:27,206] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:13:27,206] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 03:13:27,207] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.274 (from index 60)
[2025-08-20 03:13:27,207] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,207] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 61
[2025-08-20 03:13:27,207] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,207] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@61
[2025-08-20 03:13:27,208] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=55:62, 当前值=11.3000
[2025-08-20 03:13:27,208] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.314285714285715
[2025-08-20 03:13:27,208] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.314285714285715
[2025-08-20 03:13:27,208] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 61, 值: 11.314285714285715
[2025-08-20 03:13:27,208] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[61] = 11.314285714285715
[2025-08-20 03:13:27,208] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:13:27,208] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 03:13:27,209] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.388571428571428 (from index 60)
[2025-08-20 03:13:27,209] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 03:13:27,210] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 03:13:27,210] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,210] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,210] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 03:13:27,210] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:13:27,210] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,210] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 03:13:27,210] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:13:27,210] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 03:13:27,211] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 03:13:27,211] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,211] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,211] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 62
[2025-08-20 03:13:27,211] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,211] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@62
[2025-08-20 03:13:27,211] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=58:63, 当前值=11.2600
[2025-08-20 03:13:27,211] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.314
[2025-08-20 03:13:27,211] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.314
[2025-08-20 03:13:27,211] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 62, 值: 11.314
[2025-08-20 03:13:27,211] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[62] = 11.314
[2025-08-20 03:13:27,212] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 61 (当前索引: 62, 回溯周期: 1)
[2025-08-20 03:13:27,212] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 03:13:27,212] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.286 (from index 61)
[2025-08-20 03:13:27,212] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,212] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 62
[2025-08-20 03:13:27,212] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,212] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@62
[2025-08-20 03:13:27,212] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=56:63, 当前值=11.2600
[2025-08-20 03:13:27,212] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.275714285714287
[2025-08-20 03:13:27,212] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.275714285714287
[2025-08-20 03:13:27,212] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 62, 值: 11.275714285714287
[2025-08-20 03:13:27,212] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[62] = 11.275714285714287
[2025-08-20 03:13:27,212] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 61 (当前索引: 62, 回溯周期: 1)
[2025-08-20 03:13:27,213] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 03:13:27,213] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.314285714285715 (from index 61)
[2025-08-20 03:13:27,213] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.314
[2025-08-20 03:13:27,213] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.275714285714287
[2025-08-20 03:13:27,213] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:13:27,213] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:13:27,214] [DEBUG] [backtesting:322] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 03:13:27,214] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,214] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,214] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 63
[2025-08-20 03:13:27,214] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,214] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@63
[2025-08-20 03:13:27,214] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=59:64, 当前值=10.8600
[2025-08-20 03:13:27,214] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.256
[2025-08-20 03:13:27,214] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.256
[2025-08-20 03:13:27,214] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 63, 值: 11.256
[2025-08-20 03:13:27,214] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[63] = 11.256
[2025-08-20 03:13:27,215] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:13:27,215] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.314
[2025-08-20 03:13:27,215] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.314 (from index 62)
[2025-08-20 03:13:27,215] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,215] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 63
[2025-08-20 03:13:27,215] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,215] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@63
[2025-08-20 03:13:27,215] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=57:64, 当前值=10.8600
[2025-08-20 03:13:27,215] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.221428571428572
[2025-08-20 03:13:27,215] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.221428571428572
[2025-08-20 03:13:27,215] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 63, 值: 11.221428571428572
[2025-08-20 03:13:27,215] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[63] = 11.221428571428572
[2025-08-20 03:13:27,215] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:13:27,215] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.275714285714287
[2025-08-20 03:13:27,215] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.275714285714287 (from index 62)
[2025-08-20 03:13:27,216] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 03:13:27,216] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 03:13:27,216] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,216] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,216] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 03:13:27,216] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:13:27,216] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,216] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 03:13:27,216] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:13:27,217] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 03:13:27,217] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 03:13:27,217] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,217] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,217] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 64
[2025-08-20 03:13:27,217] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,217] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@64
[2025-08-20 03:13:27,217] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=60:65, 当前值=11.1900
[2025-08-20 03:13:27,217] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.214
[2025-08-20 03:13:27,217] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.214
[2025-08-20 03:13:27,218] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 64, 值: 11.214
[2025-08-20 03:13:27,218] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[64] = 11.214
[2025-08-20 03:13:27,218] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:13:27,218] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 03:13:27,218] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.256 (from index 63)
[2025-08-20 03:13:27,218] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,218] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 64
[2025-08-20 03:13:27,218] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,218] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@64
[2025-08-20 03:13:27,218] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=58:65, 当前值=11.1900
[2025-08-20 03:13:27,219] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.231428571428571
[2025-08-20 03:13:27,219] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.231428571428571
[2025-08-20 03:13:27,219] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 64, 值: 11.231428571428571
[2025-08-20 03:13:27,219] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[64] = 11.231428571428571
[2025-08-20 03:13:27,219] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:13:27,219] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 03:13:27,219] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.221428571428572 (from index 63)
[2025-08-20 03:13:27,219] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:13:27,219] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 03:13:27,220] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,220] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,220] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:13:27,220] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:13:27,220] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,220] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 03:13:27,220] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:13:27,220] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:13:27,220] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 03:13:27,221] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:13:27,221] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:13:27,221] [DEBUG] [backtesting:322] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 03:13:27,221] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,221] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,222] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 65
[2025-08-20 03:13:27,222] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,222] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@65
[2025-08-20 03:13:27,222] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=61:66, 当前值=11.3700
[2025-08-20 03:13:27,222] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.196
[2025-08-20 03:13:27,222] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.196
[2025-08-20 03:13:27,222] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 65, 值: 11.196
[2025-08-20 03:13:27,222] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[65] = 11.196
[2025-08-20 03:13:27,222] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:13:27,222] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:13:27,222] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 64)
[2025-08-20 03:13:27,222] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,222] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 65
[2025-08-20 03:13:27,222] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,222] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@65
[2025-08-20 03:13:27,222] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=59:66, 当前值=11.3700
[2025-08-20 03:13:27,223] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.262857142857143
[2025-08-20 03:13:27,223] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.262857142857143
[2025-08-20 03:13:27,223] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 65, 值: 11.262857142857143
[2025-08-20 03:13:27,223] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[65] = 11.262857142857143
[2025-08-20 03:13:27,223] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:13:27,223] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 03:13:27,223] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.231428571428571 (from index 64)
[2025-08-20 03:13:27,223] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 03:13:27,224] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 03:13:27,224] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,224] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,224] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 03:13:27,224] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:13:27,224] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,224] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 03:13:27,224] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:13:27,225] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 03:13:27,225] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 03:13:27,225] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,226] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,226] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 66
[2025-08-20 03:13:27,226] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,226] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@66
[2025-08-20 03:13:27,226] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=62:67, 当前值=11.4200
[2025-08-20 03:13:27,226] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.22
[2025-08-20 03:13:27,226] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.22
[2025-08-20 03:13:27,226] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 66, 值: 11.22
[2025-08-20 03:13:27,226] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[66] = 11.22
[2025-08-20 03:13:27,226] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:13:27,226] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 03:13:27,226] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.196 (from index 65)
[2025-08-20 03:13:27,226] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,226] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 66
[2025-08-20 03:13:27,227] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,227] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@66
[2025-08-20 03:13:27,227] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=60:67, 当前值=11.4200
[2025-08-20 03:13:27,227] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.265714285714285
[2025-08-20 03:13:27,227] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.265714285714285
[2025-08-20 03:13:27,227] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 66, 值: 11.265714285714285
[2025-08-20 03:13:27,227] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[66] = 11.265714285714285
[2025-08-20 03:13:27,227] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:13:27,227] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 03:13:27,227] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.262857142857143 (from index 65)
[2025-08-20 03:13:27,227] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 03:13:27,227] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 03:13:27,227] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,228] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,228] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 03:13:27,228] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:13:27,228] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,228] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 03:13:27,228] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:13:27,228] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 03:13:27,228] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 03:13:27,229] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,229] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,229] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 67
[2025-08-20 03:13:27,229] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,229] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@67
[2025-08-20 03:13:27,229] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=63:68, 当前值=11.2300
[2025-08-20 03:13:27,229] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.214
[2025-08-20 03:13:27,229] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.214
[2025-08-20 03:13:27,229] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 67, 值: 11.214
[2025-08-20 03:13:27,229] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[67] = 11.214
[2025-08-20 03:13:27,229] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:13:27,230] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 03:13:27,230] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.22 (from index 66)
[2025-08-20 03:13:27,230] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,230] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 67
[2025-08-20 03:13:27,230] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,230] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@67
[2025-08-20 03:13:27,230] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=61:68, 当前值=11.2300
[2025-08-20 03:13:27,230] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.232857142857142
[2025-08-20 03:13:27,230] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.232857142857142
[2025-08-20 03:13:27,230] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 67, 值: 11.232857142857142
[2025-08-20 03:13:27,230] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[67] = 11.232857142857142
[2025-08-20 03:13:27,230] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:13:27,230] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 03:13:27,231] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.265714285714285 (from index 66)
[2025-08-20 03:13:27,231] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:13:27,231] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 03:13:27,231] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,231] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,231] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:13:27,231] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:13:27,231] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,232] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 03:13:27,232] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:13:27,232] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:13:27,232] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 03:13:27,232] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,232] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,232] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 68
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@68
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=64:69, 当前值=11.3000
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.302
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.302
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 68, 值: 11.302
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[68] = 11.302
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 67 (当前索引: 68, 回溯周期: 1)
[2025-08-20 03:13:27,233] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:13:27,233] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 67)
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 68
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@68
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=62:69, 当前值=11.3000
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.232857142857142
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.232857142857142
[2025-08-20 03:13:27,233] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 68, 值: 11.232857142857142
[2025-08-20 03:13:27,234] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[68] = 11.232857142857142
[2025-08-20 03:13:27,234] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 67 (当前索引: 68, 回溯周期: 1)
[2025-08-20 03:13:27,234] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 03:13:27,234] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 67)
[2025-08-20 03:13:27,234] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.302
[2025-08-20 03:13:27,234] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 03:13:27,235] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:13:27,235] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:13:27,235] [DEBUG] [backtesting:322] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 03:13:27,235] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,235] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,235] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 69
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@69
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=65:70, 当前值=11.8900
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.442
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.442
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 69, 值: 11.442
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[69] = 11.442
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:13:27,236] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.302
[2025-08-20 03:13:27,236] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.302 (from index 68)
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 69
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@69
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=63:70, 当前值=11.8900
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.322857142857144
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.322857142857144
[2025-08-20 03:13:27,236] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 69, 值: 11.322857142857144
[2025-08-20 03:13:27,237] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[69] = 11.322857142857144
[2025-08-20 03:13:27,237] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:13:27,237] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 03:13:27,237] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 68)
[2025-08-20 03:13:27,237] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 03:13:27,237] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 03:13:27,237] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,237] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,237] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 03:13:27,238] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:13:27,238] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,238] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 03:13:27,238] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:13:27,238] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 03:13:27,238] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 03:13:27,238] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,239] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,239] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 70
[2025-08-20 03:13:27,239] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,239] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@70
[2025-08-20 03:13:27,239] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=66:71, 当前值=10.7000
[2025-08-20 03:13:27,239] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.308
[2025-08-20 03:13:27,239] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.308
[2025-08-20 03:13:27,239] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 70, 值: 11.308
[2025-08-20 03:13:27,239] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[70] = 11.308
[2025-08-20 03:13:27,239] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:13:27,240] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 03:13:27,240] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.442 (from index 69)
[2025-08-20 03:13:27,240] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,240] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 70
[2025-08-20 03:13:27,240] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,240] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@70
[2025-08-20 03:13:27,240] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=64:71, 当前值=10.7000
[2025-08-20 03:13:27,240] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.299999999999999
[2025-08-20 03:13:27,240] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.299999999999999
[2025-08-20 03:13:27,240] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 70, 值: 11.299999999999999
[2025-08-20 03:13:27,240] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[70] = 11.299999999999999
[2025-08-20 03:13:27,240] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:13:27,240] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 03:13:27,240] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.322857142857144 (from index 69)
[2025-08-20 03:13:27,241] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 03:13:27,241] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 03:13:27,241] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,241] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,241] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 03:13:27,241] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:13:27,241] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,241] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 03:13:27,241] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:13:27,242] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 03:13:27,242] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 03:13:27,242] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,243] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,243] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 71
[2025-08-20 03:13:27,243] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,243] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@71
[2025-08-20 03:13:27,243] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=67:72, 当前值=9.9300
[2025-08-20 03:13:27,243] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.01
[2025-08-20 03:13:27,243] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.01
[2025-08-20 03:13:27,243] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 71, 值: 11.01
[2025-08-20 03:13:27,243] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[71] = 11.01
[2025-08-20 03:13:27,243] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:13:27,243] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 03:13:27,243] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.308 (from index 70)
[2025-08-20 03:13:27,243] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,244] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 71
[2025-08-20 03:13:27,244] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,244] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@71
[2025-08-20 03:13:27,244] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=65:72, 当前值=9.9300
[2025-08-20 03:13:27,244] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.120000000000001
[2025-08-20 03:13:27,244] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.120000000000001
[2025-08-20 03:13:27,244] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 71, 值: 11.120000000000001
[2025-08-20 03:13:27,244] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[71] = 11.120000000000001
[2025-08-20 03:13:27,244] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:13:27,244] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 03:13:27,244] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.299999999999999 (from index 70)
[2025-08-20 03:13:27,244] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 03:13:27,245] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 03:13:27,245] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,245] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,245] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 03:13:27,245] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:13:27,245] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,245] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 03:13:27,245] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:13:27,245] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 03:13:27,246] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 03:13:27,246] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:13:27,246] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:13:27,246] [DEBUG] [backtesting:322] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 03:13:27,246] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,246] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 72
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@72
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=68:73, 当前值=9.8900
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.742
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.742
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 72, 值: 10.742
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[72] = 10.742
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:13:27,247] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 03:13:27,247] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.01 (from index 71)
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 72
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@72
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=66:73, 当前值=9.8900
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.90857142857143
[2025-08-20 03:13:27,247] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.90857142857143
[2025-08-20 03:13:27,248] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 72, 值: 10.90857142857143
[2025-08-20 03:13:27,248] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[72] = 10.90857142857143
[2025-08-20 03:13:27,248] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:13:27,248] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 03:13:27,248] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.120000000000001 (from index 71)
[2025-08-20 03:13:27,248] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 03:13:27,248] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 03:13:27,248] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,248] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,249] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 03:13:27,249] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:13:27,249] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,249] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 03:13:27,249] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:13:27,249] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 03:13:27,249] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 03:13:27,250] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,250] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,250] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 73
[2025-08-20 03:13:27,250] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,250] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@73
[2025-08-20 03:13:27,250] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=69:74, 当前值=9.7500
[2025-08-20 03:13:27,250] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.431999999999999
[2025-08-20 03:13:27,250] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.431999999999999
[2025-08-20 03:13:27,250] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 73, 值: 10.431999999999999
[2025-08-20 03:13:27,250] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[73] = 10.431999999999999
[2025-08-20 03:13:27,251] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:13:27,251] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 03:13:27,251] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.742 (from index 72)
[2025-08-20 03:13:27,251] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,251] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 73
[2025-08-20 03:13:27,251] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,251] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@73
[2025-08-20 03:13:27,251] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=67:74, 当前值=9.7500
[2025-08-20 03:13:27,251] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.67
[2025-08-20 03:13:27,251] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.67
[2025-08-20 03:13:27,251] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 73, 值: 10.67
[2025-08-20 03:13:27,251] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[73] = 10.67
[2025-08-20 03:13:27,251] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:13:27,252] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 03:13:27,252] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.90857142857143 (from index 72)
[2025-08-20 03:13:27,252] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 03:13:27,252] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 03:13:27,252] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,252] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,252] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 03:13:27,252] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:13:27,252] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,253] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 03:13:27,253] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:13:27,253] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 03:13:27,253] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 03:13:27,253] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,253] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,253] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 74
[2025-08-20 03:13:27,253] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,254] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@74
[2025-08-20 03:13:27,254] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=70:75, 当前值=9.8500
[2025-08-20 03:13:27,254] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.024
[2025-08-20 03:13:27,254] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.024
[2025-08-20 03:13:27,254] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 74, 值: 10.024
[2025-08-20 03:13:27,254] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[74] = 10.024
[2025-08-20 03:13:27,254] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:13:27,254] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 03:13:27,254] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.431999999999999 (from index 73)
[2025-08-20 03:13:27,254] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,255] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 74
[2025-08-20 03:13:27,255] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,255] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@74
[2025-08-20 03:13:27,255] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=68:75, 当前值=9.8500
[2025-08-20 03:13:27,255] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.472857142857142
[2025-08-20 03:13:27,255] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.472857142857142
[2025-08-20 03:13:27,255] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 74, 值: 10.472857142857142
[2025-08-20 03:13:27,255] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[74] = 10.472857142857142
[2025-08-20 03:13:27,255] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:13:27,255] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 03:13:27,255] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.67 (from index 73)
[2025-08-20 03:13:27,255] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 03:13:27,255] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 03:13:27,256] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,256] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,256] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 03:13:27,256] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:13:27,256] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,256] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 03:13:27,256] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:13:27,256] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 03:13:27,257] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 03:13:27,257] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,257] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,257] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 75
[2025-08-20 03:13:27,257] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,257] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@75
[2025-08-20 03:13:27,257] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=71:76, 当前值=9.9400
[2025-08-20 03:13:27,257] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.872
[2025-08-20 03:13:27,258] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.872
[2025-08-20 03:13:27,258] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 75, 值: 9.872
[2025-08-20 03:13:27,258] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[75] = 9.872
[2025-08-20 03:13:27,258] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:13:27,258] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 03:13:27,258] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.024 (from index 74)
[2025-08-20 03:13:27,258] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,258] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 75
[2025-08-20 03:13:27,258] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,258] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@75
[2025-08-20 03:13:27,258] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=69:76, 当前值=9.9400
[2025-08-20 03:13:27,259] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.278571428571428
[2025-08-20 03:13:27,259] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.278571428571428
[2025-08-20 03:13:27,259] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 75, 值: 10.278571428571428
[2025-08-20 03:13:27,259] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[75] = 10.278571428571428
[2025-08-20 03:13:27,259] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:13:27,259] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 03:13:27,259] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.472857142857142 (from index 74)
[2025-08-20 03:13:27,260] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:13:27,260] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 03:13:27,260] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,260] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,260] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:13:27,260] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:13:27,260] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,260] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 03:13:27,260] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:13:27,261] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:13:27,261] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 03:13:27,261] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,261] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,261] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 76
[2025-08-20 03:13:27,262] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,262] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@76
[2025-08-20 03:13:27,262] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=72:77, 当前值=9.9300
[2025-08-20 03:13:27,262] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.872
[2025-08-20 03:13:27,262] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.872
[2025-08-20 03:13:27,262] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 76, 值: 9.872
[2025-08-20 03:13:27,262] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[76] = 9.872
[2025-08-20 03:13:27,262] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:13:27,262] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:13:27,262] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 75)
[2025-08-20 03:13:27,262] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,262] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 76
[2025-08-20 03:13:27,262] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,262] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@76
[2025-08-20 03:13:27,262] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=70:77, 当前值=9.9300
[2025-08-20 03:13:27,262] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.998571428571427
[2025-08-20 03:13:27,263] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.998571428571427
[2025-08-20 03:13:27,263] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 76, 值: 9.998571428571427
[2025-08-20 03:13:27,263] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[76] = 9.998571428571427
[2025-08-20 03:13:27,263] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:13:27,263] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 03:13:27,263] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.278571428571428 (from index 75)
[2025-08-20 03:13:27,263] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:13:27,263] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 03:13:27,263] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,264] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,264] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:13:27,264] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:13:27,264] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,264] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 03:13:27,264] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:13:27,264] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:13:27,265] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 03:13:27,265] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,265] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,265] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 77
[2025-08-20 03:13:27,265] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,265] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@77
[2025-08-20 03:13:27,265] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=73:78, 当前值=9.8100
[2025-08-20 03:13:27,265] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.856
[2025-08-20 03:13:27,265] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.856
[2025-08-20 03:13:27,265] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 77, 值: 9.856
[2025-08-20 03:13:27,266] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[77] = 9.856
[2025-08-20 03:13:27,266] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:13:27,266] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:13:27,266] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 76)
[2025-08-20 03:13:27,266] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,266] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 77
[2025-08-20 03:13:27,266] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,266] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@77
[2025-08-20 03:13:27,266] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=71:78, 当前值=9.8100
[2025-08-20 03:13:27,266] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.87142857142857
[2025-08-20 03:13:27,266] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.87142857142857
[2025-08-20 03:13:27,266] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 77, 值: 9.87142857142857
[2025-08-20 03:13:27,266] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[77] = 9.87142857142857
[2025-08-20 03:13:27,266] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:13:27,267] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 03:13:27,267] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.998571428571427 (from index 76)
[2025-08-20 03:13:27,267] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 03:13:27,267] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 03:13:27,267] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,267] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,267] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 03:13:27,268] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:13:27,268] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,268] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 03:13:27,268] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:13:27,268] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 03:13:27,268] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 03:13:27,268] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,269] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,269] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 78
[2025-08-20 03:13:27,269] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,269] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@78
[2025-08-20 03:13:27,269] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=74:79, 当前值=9.7700
[2025-08-20 03:13:27,269] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.86
[2025-08-20 03:13:27,269] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.86
[2025-08-20 03:13:27,269] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 78, 值: 9.86
[2025-08-20 03:13:27,269] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[78] = 9.86
[2025-08-20 03:13:27,269] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 77 (当前索引: 78, 回溯周期: 1)
[2025-08-20 03:13:27,269] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 03:13:27,269] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.856 (from index 77)
[2025-08-20 03:13:27,269] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,269] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 78
[2025-08-20 03:13:27,270] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,270] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@78
[2025-08-20 03:13:27,270] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=72:79, 当前值=9.7700
[2025-08-20 03:13:27,270] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.848571428571429
[2025-08-20 03:13:27,270] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.848571428571429
[2025-08-20 03:13:27,270] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 78, 值: 9.848571428571429
[2025-08-20 03:13:27,270] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[78] = 9.848571428571429
[2025-08-20 03:13:27,270] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 77 (当前索引: 78, 回溯周期: 1)
[2025-08-20 03:13:27,270] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 03:13:27,270] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.87142857142857 (from index 77)
[2025-08-20 03:13:27,270] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 03:13:27,270] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.848571428571429
[2025-08-20 03:13:27,270] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:13:27,271] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:13:27,271] [DEBUG] [backtesting:322] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 03:13:27,271] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,271] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,271] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 79
[2025-08-20 03:13:27,271] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,271] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@79
[2025-08-20 03:13:27,271] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=75:80, 当前值=9.8500
[2025-08-20 03:13:27,271] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.86
[2025-08-20 03:13:27,272] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.86
[2025-08-20 03:13:27,272] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 79, 值: 9.86
[2025-08-20 03:13:27,272] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[79] = 9.86
[2025-08-20 03:13:27,272] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:13:27,272] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 03:13:27,272] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 78)
[2025-08-20 03:13:27,272] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,272] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 79
[2025-08-20 03:13:27,272] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,272] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@79
[2025-08-20 03:13:27,272] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=73:80, 当前值=9.8500
[2025-08-20 03:13:27,272] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.842857142857143
[2025-08-20 03:13:27,272] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.842857142857143
[2025-08-20 03:13:27,272] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 79, 值: 9.842857142857143
[2025-08-20 03:13:27,272] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[79] = 9.842857142857143
[2025-08-20 03:13:27,272] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:13:27,273] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.848571428571429
[2025-08-20 03:13:27,273] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.848571428571429 (from index 78)
[2025-08-20 03:13:27,273] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 03:13:27,273] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 03:13:27,273] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,273] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,273] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 03:13:27,274] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:13:27,274] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,274] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 03:13:27,274] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:13:27,274] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 03:13:27,274] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 03:13:27,274] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,275] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,275] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 80
[2025-08-20 03:13:27,275] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,275] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@80
[2025-08-20 03:13:27,275] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=76:81, 当前值=9.7200
[2025-08-20 03:13:27,275] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.815999999999999
[2025-08-20 03:13:27,275] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.815999999999999
[2025-08-20 03:13:27,275] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 80, 值: 9.815999999999999
[2025-08-20 03:13:27,275] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[80] = 9.815999999999999
[2025-08-20 03:13:27,275] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:13:27,275] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 03:13:27,275] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 79)
[2025-08-20 03:13:27,275] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,276] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 80
[2025-08-20 03:13:27,276] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,276] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@80
[2025-08-20 03:13:27,276] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=74:81, 当前值=9.7200
[2025-08-20 03:13:27,276] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.838571428571429
[2025-08-20 03:13:27,276] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.838571428571429
[2025-08-20 03:13:27,276] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 80, 值: 9.838571428571429
[2025-08-20 03:13:27,276] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[80] = 9.838571428571429
[2025-08-20 03:13:27,276] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:13:27,276] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 03:13:27,276] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.842857142857143 (from index 79)
[2025-08-20 03:13:27,276] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 03:13:27,276] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 03:13:27,276] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,277] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,277] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 03:13:27,277] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:13:27,277] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,277] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 03:13:27,277] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:13:27,277] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 03:13:27,277] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 03:13:27,277] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:13:27,278] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:13:27,278] [DEBUG] [backtesting:322] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 03:13:27,278] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,278] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,278] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 81
[2025-08-20 03:13:27,278] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,278] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@81
[2025-08-20 03:13:27,279] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=77:82, 当前值=9.7100
[2025-08-20 03:13:27,279] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.772
[2025-08-20 03:13:27,279] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.772
[2025-08-20 03:13:27,279] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 81, 值: 9.772
[2025-08-20 03:13:27,279] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[81] = 9.772
[2025-08-20 03:13:27,279] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:13:27,279] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 03:13:27,279] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.815999999999999 (from index 80)
[2025-08-20 03:13:27,279] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,279] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 81
[2025-08-20 03:13:27,279] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,279] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@81
[2025-08-20 03:13:27,279] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=75:82, 当前值=9.7100
[2025-08-20 03:13:27,279] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.81857142857143
[2025-08-20 03:13:27,280] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.81857142857143
[2025-08-20 03:13:27,280] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 81, 值: 9.81857142857143
[2025-08-20 03:13:27,280] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[81] = 9.81857142857143
[2025-08-20 03:13:27,280] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:13:27,280] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 03:13:27,280] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.838571428571429 (from index 80)
[2025-08-20 03:13:27,281] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 03:13:27,281] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 03:13:27,281] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,281] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,281] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 03:13:27,281] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:13:27,281] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,282] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 03:13:27,282] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:13:27,282] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 03:13:27,282] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 03:13:27,282] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,283] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,283] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 82
[2025-08-20 03:13:27,283] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,283] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@82
[2025-08-20 03:13:27,283] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=78:83, 当前值=9.6000
[2025-08-20 03:13:27,283] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.73
[2025-08-20 03:13:27,283] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.73
[2025-08-20 03:13:27,283] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 82, 值: 9.73
[2025-08-20 03:13:27,283] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[82] = 9.73
[2025-08-20 03:13:27,283] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:13:27,284] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 03:13:27,284] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.772 (from index 81)
[2025-08-20 03:13:27,284] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,284] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 82
[2025-08-20 03:13:27,284] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,284] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@82
[2025-08-20 03:13:27,284] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=76:83, 当前值=9.6000
[2025-08-20 03:13:27,284] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.77
[2025-08-20 03:13:27,284] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.77
[2025-08-20 03:13:27,284] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 82, 值: 9.77
[2025-08-20 03:13:27,284] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[82] = 9.77
[2025-08-20 03:13:27,284] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:13:27,284] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 03:13:27,285] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.81857142857143 (from index 81)
[2025-08-20 03:13:27,285] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 03:13:27,285] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 03:13:27,285] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,285] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,285] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 03:13:27,285] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:13:27,285] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,286] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 03:13:27,286] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:13:27,286] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 03:13:27,286] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 03:13:27,286] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,287] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,287] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 83
[2025-08-20 03:13:27,287] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,287] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@83
[2025-08-20 03:13:27,287] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=79:84, 当前值=9.5900
[2025-08-20 03:13:27,287] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.693999999999999
[2025-08-20 03:13:27,287] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.693999999999999
[2025-08-20 03:13:27,287] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 83, 值: 9.693999999999999
[2025-08-20 03:13:27,287] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[83] = 9.693999999999999
[2025-08-20 03:13:27,287] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:13:27,287] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 03:13:27,287] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.73 (from index 82)
[2025-08-20 03:13:27,287] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,287] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 83
[2025-08-20 03:13:27,288] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,288] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@83
[2025-08-20 03:13:27,288] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=77:84, 当前值=9.5900
[2025-08-20 03:13:27,288] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.721428571428572
[2025-08-20 03:13:27,288] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.721428571428572
[2025-08-20 03:13:27,288] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 83, 值: 9.721428571428572
[2025-08-20 03:13:27,288] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[83] = 9.721428571428572
[2025-08-20 03:13:27,288] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:13:27,288] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 03:13:27,288] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.77 (from index 82)
[2025-08-20 03:13:27,289] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 03:13:27,289] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 03:13:27,289] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,289] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,289] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 03:13:27,290] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:13:27,290] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,290] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 03:13:27,290] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:13:27,290] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 03:13:27,290] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 03:13:27,290] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,291] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,291] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 84
[2025-08-20 03:13:27,291] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,291] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@84
[2025-08-20 03:13:27,291] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=80:85, 当前值=9.9400
[2025-08-20 03:13:27,291] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.712
[2025-08-20 03:13:27,291] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.712
[2025-08-20 03:13:27,291] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 84, 值: 9.712
[2025-08-20 03:13:27,291] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[84] = 9.712
[2025-08-20 03:13:27,292] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:13:27,292] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 03:13:27,292] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.693999999999999 (from index 83)
[2025-08-20 03:13:27,292] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,292] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 84
[2025-08-20 03:13:27,292] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,292] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@84
[2025-08-20 03:13:27,292] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=78:85, 当前值=9.9400
[2025-08-20 03:13:27,292] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.74
[2025-08-20 03:13:27,292] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.74
[2025-08-20 03:13:27,292] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 84, 值: 9.74
[2025-08-20 03:13:27,292] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[84] = 9.74
[2025-08-20 03:13:27,292] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:13:27,292] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 03:13:27,292] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.721428571428572 (from index 83)
[2025-08-20 03:13:27,293] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 03:13:27,293] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 03:13:27,293] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,293] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,293] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 03:13:27,293] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:13:27,293] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,294] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 03:13:27,294] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:13:27,294] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 03:13:27,294] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 03:13:27,295] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,295] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,295] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 85
[2025-08-20 03:13:27,295] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,295] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@85
[2025-08-20 03:13:27,295] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=81:86, 当前值=9.8000
[2025-08-20 03:13:27,295] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.728
[2025-08-20 03:13:27,295] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.728
[2025-08-20 03:13:27,295] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 85, 值: 9.728
[2025-08-20 03:13:27,295] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[85] = 9.728
[2025-08-20 03:13:27,295] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:13:27,296] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 03:13:27,296] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.712 (from index 84)
[2025-08-20 03:13:27,296] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,296] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 85
[2025-08-20 03:13:27,296] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,296] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@85
[2025-08-20 03:13:27,296] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=79:86, 当前值=9.8000
[2025-08-20 03:13:27,296] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.744285714285713
[2025-08-20 03:13:27,296] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.744285714285713
[2025-08-20 03:13:27,296] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 85, 值: 9.744285714285713
[2025-08-20 03:13:27,296] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[85] = 9.744285714285713
[2025-08-20 03:13:27,296] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:13:27,297] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 03:13:27,297] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.74 (from index 84)
[2025-08-20 03:13:27,297] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 03:13:27,297] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 03:13:27,297] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,297] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,297] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 03:13:27,297] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:13:27,297] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,298] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 03:13:27,298] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:13:27,298] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 03:13:27,298] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 03:13:27,298] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,299] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,299] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 86
[2025-08-20 03:13:27,299] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,299] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@86
[2025-08-20 03:13:27,299] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=82:87, 当前值=9.8800
[2025-08-20 03:13:27,299] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.762
[2025-08-20 03:13:27,299] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.762
[2025-08-20 03:13:27,299] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 86, 值: 9.762
[2025-08-20 03:13:27,299] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[86] = 9.762
[2025-08-20 03:13:27,299] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 85 (当前索引: 86, 回溯周期: 1)
[2025-08-20 03:13:27,300] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 03:13:27,300] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.728 (from index 85)
[2025-08-20 03:13:27,300] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,300] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 86
[2025-08-20 03:13:27,300] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,300] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@86
[2025-08-20 03:13:27,300] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=80:87, 当前值=9.8800
[2025-08-20 03:13:27,300] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.748571428571427
[2025-08-20 03:13:27,300] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.748571428571427
[2025-08-20 03:13:27,300] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 86, 值: 9.748571428571427
[2025-08-20 03:13:27,300] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[86] = 9.748571428571427
[2025-08-20 03:13:27,300] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 85 (当前索引: 86, 回溯周期: 1)
[2025-08-20 03:13:27,300] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 03:13:27,300] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.744285714285713 (from index 85)
[2025-08-20 03:13:27,301] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.762
[2025-08-20 03:13:27,301] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.748571428571427
[2025-08-20 03:13:27,301] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:13:27,301] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:13:27,301] [DEBUG] [backtesting:322] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 03:13:27,301] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,302] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,302] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 87
[2025-08-20 03:13:27,302] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,302] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@87
[2025-08-20 03:13:27,302] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=83:88, 当前值=10.8700
[2025-08-20 03:13:27,302] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.016
[2025-08-20 03:13:27,302] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.016
[2025-08-20 03:13:27,302] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 87, 值: 10.016
[2025-08-20 03:13:27,302] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[87] = 10.016
[2025-08-20 03:13:27,302] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:13:27,303] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.762
[2025-08-20 03:13:27,303] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.762 (from index 86)
[2025-08-20 03:13:27,303] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,303] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 87
[2025-08-20 03:13:27,303] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,303] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@87
[2025-08-20 03:13:27,303] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=81:88, 当前值=10.8700
[2025-08-20 03:13:27,303] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.912857142857144
[2025-08-20 03:13:27,303] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.912857142857144
[2025-08-20 03:13:27,303] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 87, 值: 9.912857142857144
[2025-08-20 03:13:27,303] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[87] = 9.912857142857144
[2025-08-20 03:13:27,303] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:13:27,303] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.748571428571427
[2025-08-20 03:13:27,303] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.748571428571427 (from index 86)
[2025-08-20 03:13:27,304] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 03:13:27,304] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 03:13:27,304] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,304] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,305] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 03:13:27,305] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:13:27,305] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,305] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 03:13:27,305] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:13:27,305] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 03:13:27,305] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 03:13:27,305] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,306] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,306] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 88
[2025-08-20 03:13:27,306] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,306] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@88
[2025-08-20 03:13:27,306] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=84:89, 当前值=11.2400
[2025-08-20 03:13:27,306] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.346
[2025-08-20 03:13:27,306] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.346
[2025-08-20 03:13:27,306] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 88, 值: 10.346
[2025-08-20 03:13:27,306] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[88] = 10.346
[2025-08-20 03:13:27,306] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:13:27,306] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 03:13:27,306] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.016 (from index 87)
[2025-08-20 03:13:27,307] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,307] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 88
[2025-08-20 03:13:27,307] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,307] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@88
[2025-08-20 03:13:27,307] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=82:89, 当前值=11.2400
[2025-08-20 03:13:27,307] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.131428571428572
[2025-08-20 03:13:27,307] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.131428571428572
[2025-08-20 03:13:27,307] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 88, 值: 10.131428571428572
[2025-08-20 03:13:27,307] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[88] = 10.131428571428572
[2025-08-20 03:13:27,307] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:13:27,307] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 03:13:27,307] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.912857142857144 (from index 87)
[2025-08-20 03:13:27,308] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 03:13:27,308] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 03:13:27,308] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,308] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,308] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 03:13:27,308] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:13:27,308] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,309] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 03:13:27,309] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:13:27,309] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 03:13:27,310] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 03:13:27,310] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,310] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,310] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 89
[2025-08-20 03:13:27,310] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,310] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@89
[2025-08-20 03:13:27,310] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=85:90, 当前值=10.8900
[2025-08-20 03:13:27,311] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.536
[2025-08-20 03:13:27,311] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.536
[2025-08-20 03:13:27,311] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 89, 值: 10.536
[2025-08-20 03:13:27,311] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[89] = 10.536
[2025-08-20 03:13:27,311] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:13:27,311] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 03:13:27,311] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.346 (from index 88)
[2025-08-20 03:13:27,311] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,311] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 89
[2025-08-20 03:13:27,311] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,311] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@89
[2025-08-20 03:13:27,311] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=83:90, 当前值=10.8900
[2025-08-20 03:13:27,311] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.315714285714284
[2025-08-20 03:13:27,311] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.315714285714284
[2025-08-20 03:13:27,311] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 89, 值: 10.315714285714284
[2025-08-20 03:13:27,312] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[89] = 10.315714285714284
[2025-08-20 03:13:27,312] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:13:27,312] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 03:13:27,312] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.131428571428572 (from index 88)
[2025-08-20 03:13:27,312] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 03:13:27,312] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 03:13:27,312] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,312] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,313] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 03:13:27,313] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:13:27,313] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,313] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 03:13:27,313] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:13:27,313] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 03:13:27,313] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 03:13:27,313] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,314] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,314] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 90
[2025-08-20 03:13:27,314] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,314] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@90
[2025-08-20 03:13:27,314] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=86:91, 当前值=10.9600
[2025-08-20 03:13:27,314] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.768
[2025-08-20 03:13:27,314] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.768
[2025-08-20 03:13:27,314] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 90, 值: 10.768
[2025-08-20 03:13:27,314] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[90] = 10.768
[2025-08-20 03:13:27,315] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:13:27,315] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 03:13:27,315] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.536 (from index 89)
[2025-08-20 03:13:27,315] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,315] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 90
[2025-08-20 03:13:27,315] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,315] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@90
[2025-08-20 03:13:27,315] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=84:91, 当前值=10.9600
[2025-08-20 03:13:27,315] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.51142857142857
[2025-08-20 03:13:27,315] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.51142857142857
[2025-08-20 03:13:27,315] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 90, 值: 10.51142857142857
[2025-08-20 03:13:27,316] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[90] = 10.51142857142857
[2025-08-20 03:13:27,316] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:13:27,316] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 03:13:27,316] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.315714285714284 (from index 89)
[2025-08-20 03:13:27,316] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 03:13:27,316] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 03:13:27,316] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,316] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,317] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 03:13:27,317] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:13:27,317] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,317] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 03:13:27,317] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:13:27,317] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 03:13:27,317] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 03:13:27,317] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,318] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,318] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 91
[2025-08-20 03:13:27,318] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,318] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@91
[2025-08-20 03:13:27,318] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=87:92, 当前值=10.6400
[2025-08-20 03:13:27,318] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.92
[2025-08-20 03:13:27,318] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.92
[2025-08-20 03:13:27,318] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 91, 值: 10.92
[2025-08-20 03:13:27,318] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[91] = 10.92
[2025-08-20 03:13:27,318] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:13:27,319] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 03:13:27,319] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.768 (from index 90)
[2025-08-20 03:13:27,319] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,319] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 91
[2025-08-20 03:13:27,319] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,319] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@91
[2025-08-20 03:13:27,319] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=85:92, 当前值=10.6400
[2025-08-20 03:13:27,319] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.611428571428572
[2025-08-20 03:13:27,319] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.611428571428572
[2025-08-20 03:13:27,319] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 91, 值: 10.611428571428572
[2025-08-20 03:13:27,319] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[91] = 10.611428571428572
[2025-08-20 03:13:27,319] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:13:27,320] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 03:13:27,320] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.51142857142857 (from index 90)
[2025-08-20 03:13:27,320] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 03:13:27,320] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 03:13:27,320] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,320] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,320] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 03:13:27,321] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:13:27,321] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,321] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 03:13:27,321] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:13:27,321] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 03:13:27,321] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 03:13:27,321] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,322] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,322] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 92
[2025-08-20 03:13:27,322] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,322] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@92
[2025-08-20 03:13:27,322] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=88:93, 当前值=10.2700
[2025-08-20 03:13:27,322] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.8
[2025-08-20 03:13:27,322] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.8
[2025-08-20 03:13:27,322] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 92, 值: 10.8
[2025-08-20 03:13:27,322] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[92] = 10.8
[2025-08-20 03:13:27,322] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:13:27,322] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 03:13:27,323] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.92 (from index 91)
[2025-08-20 03:13:27,323] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,323] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 92
[2025-08-20 03:13:27,323] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,323] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@92
[2025-08-20 03:13:27,323] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=86:93, 当前值=10.2700
[2025-08-20 03:13:27,323] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.678571428571429
[2025-08-20 03:13:27,323] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.678571428571429
[2025-08-20 03:13:27,323] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 92, 值: 10.678571428571429
[2025-08-20 03:13:27,323] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[92] = 10.678571428571429
[2025-08-20 03:13:27,323] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:13:27,323] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 03:13:27,323] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.611428571428572 (from index 91)
[2025-08-20 03:13:27,324] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 03:13:27,324] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 03:13:27,324] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,324] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,324] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 03:13:27,324] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:13:27,324] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,325] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 03:13:27,325] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:13:27,325] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 03:13:27,325] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 03:13:27,325] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,326] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,326] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 93
[2025-08-20 03:13:27,326] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,326] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@93
[2025-08-20 03:13:27,326] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=89:94, 当前值=10.3000
[2025-08-20 03:13:27,326] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.612
[2025-08-20 03:13:27,326] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.612
[2025-08-20 03:13:27,326] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 93, 值: 10.612
[2025-08-20 03:13:27,326] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[93] = 10.612
[2025-08-20 03:13:27,326] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:13:27,327] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 03:13:27,327] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.8 (from index 92)
[2025-08-20 03:13:27,327] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,327] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 93
[2025-08-20 03:13:27,327] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,327] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@93
[2025-08-20 03:13:27,327] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=87:94, 当前值=10.3000
[2025-08-20 03:13:27,327] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.73857142857143
[2025-08-20 03:13:27,327] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.73857142857143
[2025-08-20 03:13:27,327] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 93, 值: 10.73857142857143
[2025-08-20 03:13:27,327] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[93] = 10.73857142857143
[2025-08-20 03:13:27,327] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:13:27,327] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 03:13:27,328] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.678571428571429 (from index 92)
[2025-08-20 03:13:27,328] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 03:13:27,328] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 03:13:27,328] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,328] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,328] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 03:13:27,328] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:13:27,328] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,329] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 03:13:27,329] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:13:27,329] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 03:13:27,329] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 03:13:27,329] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:13:27,329] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:13:27,330] [DEBUG] [backtesting:322] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 03:13:27,330] [ERROR] [backtesting:512] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:13:27,330] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,330] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 94
[2025-08-20 03:13:27,330] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:13:27,330] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@94
[2025-08-20 03:13:27,330] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=90:95, 当前值=10.2800
[2025-08-20 03:13:27,330] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.49
[2025-08-20 03:13:27,330] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.49
[2025-08-20 03:13:27,330] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 94, 值: 10.49
[2025-08-20 03:13:27,330] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[94] = 10.49
[2025-08-20 03:13:27,330] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:13:27,331] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 03:13:27,331] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.612 (from index 93)
[2025-08-20 03:13:27,331] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,331] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 94
[2025-08-20 03:13:27,331] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:13:27,331] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@94
[2025-08-20 03:13:27,331] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=88:95, 当前值=10.2800
[2025-08-20 03:13:27,331] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.654285714285715
[2025-08-20 03:13:27,331] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.654285714285715
[2025-08-20 03:13:27,331] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 94, 值: 10.654285714285715
[2025-08-20 03:13:27,331] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[94] = 10.654285714285715
[2025-08-20 03:13:27,331] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:13:27,331] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 03:13:27,331] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.73857142857143 (from index 93)
[2025-08-20 03:13:27,332] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 03:13:27,332] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 03:13:27,332] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:13:27,332] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:13:27,332] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 03:13:27,332] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:13:27,332] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:13:27,332] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 03:13:27,332] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:13:27,333] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 03:13:27,333] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 03:13:27,333] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:13:27,333] [DEBUG] [backtesting:278] [conn:N/A] 回测完成
[2025-08-20 03:13:27,334] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 03:29:47,066] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:29:47,067] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 03:29:47,067] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:29:47,241] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 03:29:47,255] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 03:29:47,302] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 03:29:47,317] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:29:47,317] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 03:29:47,318] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 03:29:47,327] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:29:47,327] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:29:47,328] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:29:47,328] [DEBUG] [backtesting:548] [conn:N/A] 注册策略调度处理器: 465410d8-6fc8-453e-b796-6ec2133703da
[2025-08-20 03:29:47,328] [INFO] [backtesting:551] [conn:N/A] 策略注册成功 | ID: 465410d8-6fc8-453e-b796-6ec2133703da | 名称: 自定义规则策略
[2025-08-20 03:29:47,329] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 03:29:47,329] [DEBUG] [backtesting:225] [conn:N/A] 识别数据频率为：日线
[2025-08-20 03:29:47,331] [DEBUG] [backtesting:251] [conn:N/A] 开始回测...
[2025-08-20 03:29:47,331] [INFO] [backtesting:598] [conn:N/A] 回测系统初始化开始
[2025-08-20 03:29:47,331] [INFO] [backtesting:610] [conn:N/A] 策略初始化完成: 465410d8-6fc8-453e-b796-6ec2133703da
[2025-08-20 03:29:47,331] [INFO] [backtesting:628] [conn:N/A] 回测系统初始化完成
[2025-08-20 03:29:47,331] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,331] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:29:47,331] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,331] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 03:29:47,332] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:29:47,332] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:29:47,332] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,332] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 03:29:47,333] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 03:29:47,333] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,333] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:29:47,333] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,333] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 03:29:47,333] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:29:47,333] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:29:47,333] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,334] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 03:29:47,334] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 03:29:47,334] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:29:47,334] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,334] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 03:29:47,334] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:29:47,334] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,334] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 03:29:47,335] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,335] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 03:29:47,336] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@0
[2025-08-20 03:29:47,336] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 0
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,336] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@0
[2025-08-20 03:29:47,336] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 03:29:47,337] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:29:47,337] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,337] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 03:29:47,337] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:29:47,337] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,337] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 03:29:47,337] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,337] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,337] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:29:47,337] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,337] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 03:29:47,337] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:29:47,337] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,337] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 03:29:47,338] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,338] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@1
[2025-08-20 03:29:47,338] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 1)
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 1
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@1
[2025-08-20 03:29:47,339] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 1)
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 03:29:47,339] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,339] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 03:29:47,340] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,340] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@2
[2025-08-20 03:29:47,341] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 2)
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 2
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,341] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@2
[2025-08-20 03:29:47,342] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 2)
[2025-08-20 03:29:47,342] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:29:47,342] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,342] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 03:29:47,342] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:29:47,342] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,342] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 03:29:47,342] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,342] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,343] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:29:47,343] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,343] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 03:29:47,343] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:29:47,343] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,343] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:29:47,343] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,344] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 03:29:47,344] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:29:47,344] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:29:47,344] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,344] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 03:29:47,344] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:29:47,344] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,344] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 03:29:47,344] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@3
[2025-08-20 03:29:47,345] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 3)
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 3
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@3
[2025-08-20 03:29:47,345] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 3)
[2025-08-20 03:29:47,345] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:29:47,346] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,346] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 03:29:47,346] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:29:47,346] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,346] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 03:29:47,346] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,346] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,346] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:29:47,346] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,346] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 03:29:47,347] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:29:47,347] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,347] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:29:47,347] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,347] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 03:29:47,347] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:29:47,347] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:29:47,348] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,348] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 03:29:47,348] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:29:47,348] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,348] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 03:29:47,348] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,348] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,348] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 03:29:47,348] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,348] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@5
[2025-08-20 03:29:47,348] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=1:6, 当前值=5.6700
[2025-08-20 03:29:47,348] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.093999999999999
[2025-08-20 03:29:47,348] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.093999999999999
[2025-08-20 03:29:47,348] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 5, 值: 6.093999999999999
[2025-08-20 03:29:47,348] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[5] = 6.093999999999999
[2025-08-20 03:29:47,349] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:29:47,349] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:29:47,349] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,349] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@4
[2025-08-20 03:29:47,349] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 4)
[2025-08-20 03:29:47,349] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,350] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 03:29:47,350] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,350] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 03:29:47,350] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:29:47,350] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 4
[2025-08-20 03:29:47,350] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,350] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@4
[2025-08-20 03:29:47,350] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 4)
[2025-08-20 03:29:47,350] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 03:29:47,350] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 03:29:47,350] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,350] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 03:29:47,350] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,351] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,351] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 03:29:47,351] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:29:47,351] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,351] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 03:29:47,351] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,351] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 03:29:47,351] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:29:47,351] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 03:29:47,351] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 03:29:47,351] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,351] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 03:29:47,351] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,352] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,353] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 03:29:47,353] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,353] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@6
[2025-08-20 03:29:47,353] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=2:7, 当前值=5.9700
[2025-08-20 03:29:47,353] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.964
[2025-08-20 03:29:47,354] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.964
[2025-08-20 03:29:47,354] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 6, 值: 5.964
[2025-08-20 03:29:47,354] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[6] = 5.964
[2025-08-20 03:29:47,354] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:29:47,354] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.093999999999999
[2025-08-20 03:29:47,354] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.093999999999999 (from index 5)
[2025-08-20 03:29:47,354] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,354] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 03:29:47,354] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,354] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 03:29:47,355] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:29:47,355] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 5
[2025-08-20 03:29:47,355] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,355] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@5
[2025-08-20 03:29:47,355] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 5)
[2025-08-20 03:29:47,355] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 03:29:47,355] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 03:29:47,355] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,355] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 03:29:47,355] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,355] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,356] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 03:29:47,356] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:29:47,356] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,356] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 03:29:47,356] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,356] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 03:29:47,356] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:29:47,356] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 03:29:47,356] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 03:29:47,356] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,356] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 03:29:47,356] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,357] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,357] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 7
[2025-08-20 03:29:47,357] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,357] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@7
[2025-08-20 03:29:47,357] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=3:8, 当前值=6.0600
[2025-08-20 03:29:47,357] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.848
[2025-08-20 03:29:47,357] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.848
[2025-08-20 03:29:47,357] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 7, 值: 5.848
[2025-08-20 03:29:47,357] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[7] = 5.848
[2025-08-20 03:29:47,357] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:29:47,358] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.964
[2025-08-20 03:29:47,358] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.964 (from index 6)
[2025-08-20 03:29:47,358] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,358] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 7
[2025-08-20 03:29:47,358] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,358] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@7
[2025-08-20 03:29:47,358] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=1:8, 当前值=6.0600
[2025-08-20 03:29:47,358] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.071428571428571
[2025-08-20 03:29:47,358] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.071428571428571
[2025-08-20 03:29:47,359] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 7, 值: 6.071428571428571
[2025-08-20 03:29:47,359] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[7] = 6.071428571428571
[2025-08-20 03:29:47,359] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:29:47,359] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 6
[2025-08-20 03:29:47,359] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,359] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@6
[2025-08-20 03:29:47,359] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 6)
[2025-08-20 03:29:47,359] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 03:29:47,360] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 03:29:47,360] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,360] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,360] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 03:29:47,360] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:29:47,360] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,360] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 03:29:47,360] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:29:47,361] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 03:29:47,361] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 03:29:47,361] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:29:47,361] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:29:47,362] [DEBUG] [backtesting:322] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 03:29:47,362] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,362] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,367] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 8
[2025-08-20 03:29:47,371] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,371] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@8
[2025-08-20 03:29:47,371] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=4:9, 当前值=6.2200
[2025-08-20 03:29:47,371] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.896
[2025-08-20 03:29:47,371] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=5.896
[2025-08-20 03:29:47,371] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 8, 值: 5.896
[2025-08-20 03:29:47,371] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[8] = 5.896
[2025-08-20 03:29:47,371] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:29:47,372] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.848
[2025-08-20 03:29:47,372] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.848 (from index 7)
[2025-08-20 03:29:47,373] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,373] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 8
[2025-08-20 03:29:47,373] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,373] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@8
[2025-08-20 03:29:47,373] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=2:9, 当前值=6.2200
[2025-08-20 03:29:47,373] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.014285714285714
[2025-08-20 03:29:47,373] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.014285714285714
[2025-08-20 03:29:47,373] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 8, 值: 6.014285714285714
[2025-08-20 03:29:47,373] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[8] = 6.014285714285714
[2025-08-20 03:29:47,373] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:29:47,374] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.071428571428571
[2025-08-20 03:29:47,374] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.071428571428571 (from index 7)
[2025-08-20 03:29:47,374] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 03:29:47,375] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 03:29:47,375] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,375] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,375] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 03:29:47,375] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:29:47,375] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,376] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 03:29:47,376] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:29:47,376] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 03:29:47,377] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 03:29:47,377] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,377] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,377] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 9
[2025-08-20 03:29:47,377] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,377] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@9
[2025-08-20 03:29:47,377] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=5:10, 当前值=6.2300
[2025-08-20 03:29:47,377] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.029999999999999
[2025-08-20 03:29:47,377] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.029999999999999
[2025-08-20 03:29:47,377] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 9, 值: 6.029999999999999
[2025-08-20 03:29:47,377] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[9] = 6.029999999999999
[2025-08-20 03:29:47,377] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 8 (当前索引: 9, 回溯周期: 1)
[2025-08-20 03:29:47,377] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=5.896
[2025-08-20 03:29:47,377] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.896 (from index 8)
[2025-08-20 03:29:47,377] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,378] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 9
[2025-08-20 03:29:47,378] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,378] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@9
[2025-08-20 03:29:47,378] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=3:10, 当前值=6.2300
[2025-08-20 03:29:47,378] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.9557142857142855
[2025-08-20 03:29:47,378] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=5.9557142857142855
[2025-08-20 03:29:47,378] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 9, 值: 5.9557142857142855
[2025-08-20 03:29:47,378] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[9] = 5.9557142857142855
[2025-08-20 03:29:47,378] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 8 (当前索引: 9, 回溯周期: 1)
[2025-08-20 03:29:47,378] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.014285714285714
[2025-08-20 03:29:47,378] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.014285714285714 (from index 8)
[2025-08-20 03:29:47,378] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.029999999999999
[2025-08-20 03:29:47,378] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.9557142857142855
[2025-08-20 03:29:47,378] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:29:47,378] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:29:47,379] [DEBUG] [backtesting:322] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 03:29:47,379] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,379] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,379] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 10
[2025-08-20 03:29:47,379] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,379] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@10
[2025-08-20 03:29:47,379] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=6:11, 当前值=6.1700
[2025-08-20 03:29:47,379] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.13
[2025-08-20 03:29:47,379] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.13
[2025-08-20 03:29:47,379] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 10, 值: 6.13
[2025-08-20 03:29:47,379] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[10] = 6.13
[2025-08-20 03:29:47,379] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:29:47,379] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.029999999999999
[2025-08-20 03:29:47,379] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.029999999999999 (from index 9)
[2025-08-20 03:29:47,379] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,379] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 10
[2025-08-20 03:29:47,379] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,380] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@10
[2025-08-20 03:29:47,380] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=4:11, 当前值=6.1700
[2025-08-20 03:29:47,380] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=5.982857142857143
[2025-08-20 03:29:47,380] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=5.982857142857143
[2025-08-20 03:29:47,380] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 10, 值: 5.982857142857143
[2025-08-20 03:29:47,380] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[10] = 5.982857142857143
[2025-08-20 03:29:47,380] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:29:47,380] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.9557142857142855
[2025-08-20 03:29:47,380] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.9557142857142855 (from index 9)
[2025-08-20 03:29:47,380] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 03:29:47,380] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 03:29:47,381] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,381] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,381] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 03:29:47,381] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:29:47,382] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,382] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 03:29:47,383] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:29:47,383] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 03:29:47,383] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 03:29:47,384] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,384] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,384] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 11
[2025-08-20 03:29:47,384] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,384] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@11
[2025-08-20 03:29:47,384] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=7:12, 当前值=6.7900
[2025-08-20 03:29:47,384] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.294
[2025-08-20 03:29:47,384] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.294
[2025-08-20 03:29:47,384] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 11, 值: 6.294
[2025-08-20 03:29:47,384] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[11] = 6.294
[2025-08-20 03:29:47,384] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:29:47,384] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.13
[2025-08-20 03:29:47,384] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.13 (from index 10)
[2025-08-20 03:29:47,385] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,385] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 11
[2025-08-20 03:29:47,385] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,385] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@11
[2025-08-20 03:29:47,385] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=5:12, 当前值=6.7900
[2025-08-20 03:29:47,385] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.158571428571428
[2025-08-20 03:29:47,385] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.158571428571428
[2025-08-20 03:29:47,385] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 11, 值: 6.158571428571428
[2025-08-20 03:29:47,385] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[11] = 6.158571428571428
[2025-08-20 03:29:47,385] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:29:47,385] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=5.982857142857143
[2025-08-20 03:29:47,385] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.982857142857143 (from index 10)
[2025-08-20 03:29:47,385] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 03:29:47,385] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 03:29:47,385] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,385] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,385] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 03:29:47,386] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:29:47,386] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,386] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 03:29:47,386] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:29:47,386] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 03:29:47,386] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 03:29:47,386] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 12
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@12
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=8:13, 当前值=6.3400
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.35
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.35
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 12, 值: 6.35
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[12] = 6.35
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:29:47,387] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.294
[2025-08-20 03:29:47,387] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.294 (from index 11)
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 12
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@12
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=6:13, 当前值=6.3400
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.2542857142857144
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.2542857142857144
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 12, 值: 6.2542857142857144
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[12] = 6.2542857142857144
[2025-08-20 03:29:47,387] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:29:47,387] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.158571428571428
[2025-08-20 03:29:47,387] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.158571428571428 (from index 11)
[2025-08-20 03:29:47,388] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 03:29:47,388] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 03:29:47,388] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,388] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,388] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 03:29:47,388] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:29:47,388] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,388] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 03:29:47,388] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:29:47,388] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 03:29:47,388] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 03:29:47,388] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,388] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 13
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@13
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=9:14, 当前值=6.9700
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.5
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.5
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 13, 值: 6.5
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[13] = 6.5
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:29:47,389] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.35
[2025-08-20 03:29:47,389] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.35 (from index 12)
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 13
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@13
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=7:14, 当前值=6.9700
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.397142857142858
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.397142857142858
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 13, 值: 6.397142857142858
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[13] = 6.397142857142858
[2025-08-20 03:29:47,389] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:29:47,389] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.2542857142857144
[2025-08-20 03:29:47,389] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.2542857142857144 (from index 12)
[2025-08-20 03:29:47,390] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 03:29:47,390] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 03:29:47,390] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,390] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,390] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 03:29:47,390] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:29:47,390] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,390] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 03:29:47,390] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:29:47,390] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 03:29:47,390] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 03:29:47,390] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,391] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,391] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 14
[2025-08-20 03:29:47,391] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,391] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@14
[2025-08-20 03:29:47,391] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=10:15, 当前值=6.8200
[2025-08-20 03:29:47,391] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.618
[2025-08-20 03:29:47,391] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.618
[2025-08-20 03:29:47,391] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 14, 值: 6.618
[2025-08-20 03:29:47,391] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[14] = 6.618
[2025-08-20 03:29:47,391] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:29:47,391] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.5
[2025-08-20 03:29:47,391] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.5 (from index 13)
[2025-08-20 03:29:47,391] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,392] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 14
[2025-08-20 03:29:47,392] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,392] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@14
[2025-08-20 03:29:47,392] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=8:15, 当前值=6.8200
[2025-08-20 03:29:47,392] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.505714285714285
[2025-08-20 03:29:47,392] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.505714285714285
[2025-08-20 03:29:47,392] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 14, 值: 6.505714285714285
[2025-08-20 03:29:47,392] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[14] = 6.505714285714285
[2025-08-20 03:29:47,392] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:29:47,392] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.397142857142858
[2025-08-20 03:29:47,392] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.397142857142858 (from index 13)
[2025-08-20 03:29:47,392] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 03:29:47,392] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 03:29:47,392] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,392] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,392] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 03:29:47,392] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:29:47,392] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,392] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 03:29:47,393] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:29:47,393] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 03:29:47,393] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 03:29:47,393] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,393] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,393] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 15
[2025-08-20 03:29:47,393] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,393] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@15
[2025-08-20 03:29:47,393] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=11:16, 当前值=6.1800
[2025-08-20 03:29:47,393] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.62
[2025-08-20 03:29:47,393] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.62
[2025-08-20 03:29:47,393] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 15, 值: 6.62
[2025-08-20 03:29:47,393] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[15] = 6.62
[2025-08-20 03:29:47,393] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:29:47,394] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.618
[2025-08-20 03:29:47,394] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.618 (from index 14)
[2025-08-20 03:29:47,394] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,394] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 15
[2025-08-20 03:29:47,394] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,394] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@15
[2025-08-20 03:29:47,394] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=9:16, 当前值=6.1800
[2025-08-20 03:29:47,394] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.5
[2025-08-20 03:29:47,394] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.5
[2025-08-20 03:29:47,394] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 15, 值: 6.5
[2025-08-20 03:29:47,394] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[15] = 6.5
[2025-08-20 03:29:47,394] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:29:47,394] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.505714285714285
[2025-08-20 03:29:47,394] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.505714285714285 (from index 14)
[2025-08-20 03:29:47,394] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 03:29:47,394] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 03:29:47,394] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,394] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,395] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 03:29:47,395] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:29:47,395] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,395] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 03:29:47,395] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:29:47,395] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 03:29:47,395] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 03:29:47,395] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,395] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,395] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 16
[2025-08-20 03:29:47,395] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,395] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@16
[2025-08-20 03:29:47,396] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=12:17, 当前值=5.9200
[2025-08-20 03:29:47,396] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.446
[2025-08-20 03:29:47,396] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.446
[2025-08-20 03:29:47,396] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 16, 值: 6.446
[2025-08-20 03:29:47,396] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[16] = 6.446
[2025-08-20 03:29:47,396] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:29:47,396] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.62
[2025-08-20 03:29:47,396] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.62 (from index 15)
[2025-08-20 03:29:47,396] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,397] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 16
[2025-08-20 03:29:47,397] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,397] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@16
[2025-08-20 03:29:47,397] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=10:17, 当前值=5.9200
[2025-08-20 03:29:47,397] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.4557142857142855
[2025-08-20 03:29:47,397] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.4557142857142855
[2025-08-20 03:29:47,397] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 16, 值: 6.4557142857142855
[2025-08-20 03:29:47,397] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[16] = 6.4557142857142855
[2025-08-20 03:29:47,397] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:29:47,397] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.5
[2025-08-20 03:29:47,397] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.5 (from index 15)
[2025-08-20 03:29:47,397] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 03:29:47,397] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 03:29:47,397] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,397] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,397] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 03:29:47,397] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:29:47,398] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,398] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 03:29:47,398] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:29:47,398] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 03:29:47,398] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 03:29:47,398] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:29:47,398] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:29:47,398] [DEBUG] [backtesting:322] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 03:29:47,398] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,398] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 17
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@17
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=13:18, 当前值=5.9400
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.366
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.366
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 17, 值: 6.366
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[17] = 6.366
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:29:47,399] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.446
[2025-08-20 03:29:47,399] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.446 (from index 16)
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 17
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@17
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=11:18, 当前值=5.9400
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.422857142857143
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.422857142857143
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 17, 值: 6.422857142857143
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[17] = 6.422857142857143
[2025-08-20 03:29:47,399] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:29:47,399] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.4557142857142855
[2025-08-20 03:29:47,399] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.4557142857142855 (from index 16)
[2025-08-20 03:29:47,399] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 03:29:47,400] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 03:29:47,400] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,400] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,400] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 03:29:47,400] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:29:47,400] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,400] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 03:29:47,400] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:29:47,400] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 03:29:47,400] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 03:29:47,400] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,400] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,400] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 18
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@18
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=14:19, 当前值=6.0900
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.1899999999999995
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.1899999999999995
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 18, 值: 6.1899999999999995
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[18] = 6.1899999999999995
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:29:47,401] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.366
[2025-08-20 03:29:47,401] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.366 (from index 17)
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 18
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@18
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=12:19, 当前值=6.0900
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.322857142857143
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.322857142857143
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 18, 值: 6.322857142857143
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[18] = 6.322857142857143
[2025-08-20 03:29:47,401] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:29:47,402] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.422857142857143
[2025-08-20 03:29:47,402] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.422857142857143 (from index 17)
[2025-08-20 03:29:47,402] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 03:29:47,402] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 03:29:47,402] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,402] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,402] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 03:29:47,402] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:29:47,402] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,402] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 03:29:47,402] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:29:47,402] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 03:29:47,402] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 03:29:47,402] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 19
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@19
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=15:20, 当前值=6.1000
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.046
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.046
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 19, 值: 6.046
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[19] = 6.046
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:29:47,403] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.1899999999999995
[2025-08-20 03:29:47,403] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.1899999999999995 (from index 18)
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 19
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@19
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=13:20, 当前值=6.1000
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.288571428571429
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.288571428571429
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 19, 值: 6.288571428571429
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[19] = 6.288571428571429
[2025-08-20 03:29:47,403] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:29:47,403] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.322857142857143
[2025-08-20 03:29:47,403] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.322857142857143 (from index 18)
[2025-08-20 03:29:47,404] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 03:29:47,404] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 03:29:47,404] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,404] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,404] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 03:29:47,404] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:29:47,404] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,404] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 03:29:47,404] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:29:47,404] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 03:29:47,404] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 03:29:47,404] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,404] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 20
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@20
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=16:21, 当前值=6.7100
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.152
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.152
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 20, 值: 6.152
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[20] = 6.152
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:29:47,405] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.046
[2025-08-20 03:29:47,405] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.046 (from index 19)
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 20
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@20
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=14:21, 当前值=6.7100
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.251428571428571
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.251428571428571
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 20, 值: 6.251428571428571
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[20] = 6.251428571428571
[2025-08-20 03:29:47,405] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:29:47,405] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.288571428571429
[2025-08-20 03:29:47,405] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.288571428571429 (from index 19)
[2025-08-20 03:29:47,406] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 03:29:47,406] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 03:29:47,406] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,406] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,406] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 03:29:47,406] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:29:47,406] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,406] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 03:29:47,406] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:29:47,406] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 03:29:47,406] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 03:29:47,406] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 21
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@21
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=17:22, 当前值=7.3800
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.444
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.444
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 21, 值: 6.444
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[21] = 6.444
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 20 (当前索引: 21, 回溯周期: 1)
[2025-08-20 03:29:47,407] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.152
[2025-08-20 03:29:47,407] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.152 (from index 20)
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 21
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@21
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=15:22, 当前值=7.3800
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.331428571428572
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.331428571428572
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 21, 值: 6.331428571428572
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[21] = 6.331428571428572
[2025-08-20 03:29:47,407] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 20 (当前索引: 21, 回溯周期: 1)
[2025-08-20 03:29:47,407] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.251428571428571
[2025-08-20 03:29:47,408] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.251428571428571 (from index 20)
[2025-08-20 03:29:47,408] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.444
[2025-08-20 03:29:47,408] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.331428571428572
[2025-08-20 03:29:47,408] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:29:47,408] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:29:47,408] [DEBUG] [backtesting:322] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 03:29:47,408] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,408] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,408] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 22
[2025-08-20 03:29:47,408] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,408] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@22
[2025-08-20 03:29:47,408] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=18:23, 当前值=7.2700
[2025-08-20 03:29:47,408] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.709999999999999
[2025-08-20 03:29:47,408] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.709999999999999
[2025-08-20 03:29:47,408] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 22, 值: 6.709999999999999
[2025-08-20 03:29:47,409] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[22] = 6.709999999999999
[2025-08-20 03:29:47,409] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:29:47,409] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.444
[2025-08-20 03:29:47,409] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.444 (from index 21)
[2025-08-20 03:29:47,409] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,409] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 22
[2025-08-20 03:29:47,409] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,409] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@22
[2025-08-20 03:29:47,409] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=16:23, 当前值=7.2700
[2025-08-20 03:29:47,409] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.487142857142857
[2025-08-20 03:29:47,409] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.487142857142857
[2025-08-20 03:29:47,409] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 22, 值: 6.487142857142857
[2025-08-20 03:29:47,409] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[22] = 6.487142857142857
[2025-08-20 03:29:47,409] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:29:47,409] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.331428571428572
[2025-08-20 03:29:47,409] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.331428571428572 (from index 21)
[2025-08-20 03:29:47,410] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 03:29:47,410] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 03:29:47,410] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,410] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,410] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 03:29:47,410] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:29:47,410] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,410] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 03:29:47,410] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:29:47,410] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 03:29:47,410] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 03:29:47,410] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 23
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@23
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=19:24, 当前值=7.3200
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.956
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=6.956
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 23, 值: 6.956
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[23] = 6.956
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:29:47,411] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.709999999999999
[2025-08-20 03:29:47,411] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.709999999999999 (from index 22)
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 23
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@23
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=17:24, 当前值=7.3200
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.687142857142858
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.687142857142858
[2025-08-20 03:29:47,411] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 23, 值: 6.687142857142858
[2025-08-20 03:29:47,412] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[23] = 6.687142857142858
[2025-08-20 03:29:47,412] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:29:47,412] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.487142857142857
[2025-08-20 03:29:47,412] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.487142857142857 (from index 22)
[2025-08-20 03:29:47,412] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 03:29:47,412] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 03:29:47,412] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,412] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,412] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 03:29:47,412] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:29:47,412] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,412] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 03:29:47,412] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:29:47,412] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 03:29:47,412] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 03:29:47,413] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 24
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@24
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=20:25, 当前值=7.4700
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.2299999999999995
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.2299999999999995
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 24, 值: 7.2299999999999995
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[24] = 7.2299999999999995
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:29:47,413] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=6.956
[2025-08-20 03:29:47,413] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.956 (from index 23)
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 24
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@24
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=18:25, 当前值=7.4700
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=6.905714285714287
[2025-08-20 03:29:47,413] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=6.905714285714287
[2025-08-20 03:29:47,414] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 24, 值: 6.905714285714287
[2025-08-20 03:29:47,414] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[24] = 6.905714285714287
[2025-08-20 03:29:47,414] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:29:47,414] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.687142857142858
[2025-08-20 03:29:47,414] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.687142857142858 (from index 23)
[2025-08-20 03:29:47,414] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 03:29:47,414] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 03:29:47,414] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,414] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,414] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 03:29:47,414] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:29:47,414] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,414] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 03:29:47,414] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:29:47,415] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 03:29:47,415] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 03:29:47,415] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 25
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@25
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=21:26, 当前值=7.3300
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.354000000000001
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.354000000000001
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 25, 值: 7.354000000000001
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[25] = 7.354000000000001
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:29:47,415] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.2299999999999995
[2025-08-20 03:29:47,415] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.2299999999999995 (from index 24)
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 25
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@25
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=19:26, 当前值=7.3300
[2025-08-20 03:29:47,415] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.082857142857143
[2025-08-20 03:29:47,416] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.082857142857143
[2025-08-20 03:29:47,416] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 25, 值: 7.082857142857143
[2025-08-20 03:29:47,416] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[25] = 7.082857142857143
[2025-08-20 03:29:47,416] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:29:47,416] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=6.905714285714287
[2025-08-20 03:29:47,416] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.905714285714287 (from index 24)
[2025-08-20 03:29:47,416] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 03:29:47,416] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 03:29:47,416] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,416] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,416] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 03:29:47,417] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:29:47,417] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,417] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 03:29:47,417] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:29:47,417] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 03:29:47,417] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 03:29:47,417] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,417] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,417] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 26
[2025-08-20 03:29:47,417] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,417] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@26
[2025-08-20 03:29:47,417] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=22:27, 当前值=7.6600
[2025-08-20 03:29:47,417] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.409999999999999
[2025-08-20 03:29:47,417] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.409999999999999
[2025-08-20 03:29:47,417] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 26, 值: 7.409999999999999
[2025-08-20 03:29:47,418] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[26] = 7.409999999999999
[2025-08-20 03:29:47,418] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:29:47,418] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.354000000000001
[2025-08-20 03:29:47,418] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.354000000000001 (from index 25)
[2025-08-20 03:29:47,418] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,418] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 26
[2025-08-20 03:29:47,418] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,418] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@26
[2025-08-20 03:29:47,418] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=20:27, 当前值=7.6600
[2025-08-20 03:29:47,418] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.305714285714286
[2025-08-20 03:29:47,418] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.305714285714286
[2025-08-20 03:29:47,418] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 26, 值: 7.305714285714286
[2025-08-20 03:29:47,418] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[26] = 7.305714285714286
[2025-08-20 03:29:47,418] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:29:47,418] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.082857142857143
[2025-08-20 03:29:47,418] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.082857142857143 (from index 25)
[2025-08-20 03:29:47,418] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 03:29:47,418] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 03:29:47,418] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,418] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,418] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 03:29:47,419] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:29:47,419] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,419] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 03:29:47,419] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:29:47,419] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 03:29:47,419] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 03:29:47,419] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,419] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,419] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 27
[2025-08-20 03:29:47,419] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,419] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@27
[2025-08-20 03:29:47,419] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=23:28, 当前值=7.7500
[2025-08-20 03:29:47,419] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.506
[2025-08-20 03:29:47,419] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.506
[2025-08-20 03:29:47,419] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 27, 值: 7.506
[2025-08-20 03:29:47,419] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[27] = 7.506
[2025-08-20 03:29:47,419] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:29:47,420] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.409999999999999
[2025-08-20 03:29:47,420] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.409999999999999 (from index 26)
[2025-08-20 03:29:47,420] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,420] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 27
[2025-08-20 03:29:47,420] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,420] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@27
[2025-08-20 03:29:47,420] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=21:28, 当前值=7.7500
[2025-08-20 03:29:47,420] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.454285714285715
[2025-08-20 03:29:47,420] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.454285714285715
[2025-08-20 03:29:47,420] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 27, 值: 7.454285714285715
[2025-08-20 03:29:47,420] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[27] = 7.454285714285715
[2025-08-20 03:29:47,420] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:29:47,420] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.305714285714286
[2025-08-20 03:29:47,420] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.305714285714286 (from index 26)
[2025-08-20 03:29:47,420] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 03:29:47,420] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 03:29:47,420] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,420] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,421] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 03:29:47,421] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:29:47,421] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,421] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 03:29:47,421] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:29:47,421] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 03:29:47,421] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 03:29:47,421] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 28
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@28
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=24:29, 当前值=7.6400
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.57
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.57
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 28, 值: 7.57
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[28] = 7.57
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:29:47,422] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.506
[2025-08-20 03:29:47,422] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.506 (from index 27)
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 28
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@28
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=22:29, 当前值=7.6400
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.491428571428571
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.491428571428571
[2025-08-20 03:29:47,422] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 28, 值: 7.491428571428571
[2025-08-20 03:29:47,423] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[28] = 7.491428571428571
[2025-08-20 03:29:47,423] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:29:47,423] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.454285714285715
[2025-08-20 03:29:47,423] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.454285714285715 (from index 27)
[2025-08-20 03:29:47,423] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 03:29:47,423] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 03:29:47,423] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,423] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,423] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 03:29:47,423] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:29:47,423] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,423] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 03:29:47,423] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:29:47,423] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 03:29:47,423] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 03:29:47,424] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 29
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@29
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=25:30, 当前值=7.9700
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.67
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.67
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 29, 值: 7.67
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[29] = 7.67
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:29:47,424] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.57
[2025-08-20 03:29:47,424] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.57 (from index 28)
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 29
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@29
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=23:30, 当前值=7.9700
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.591428571428572
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.591428571428572
[2025-08-20 03:29:47,424] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 29, 值: 7.591428571428572
[2025-08-20 03:29:47,425] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[29] = 7.591428571428572
[2025-08-20 03:29:47,425] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:29:47,425] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.491428571428571
[2025-08-20 03:29:47,425] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.491428571428571 (from index 28)
[2025-08-20 03:29:47,425] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 03:29:47,425] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 03:29:47,425] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,425] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,425] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 03:29:47,425] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:29:47,425] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,425] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 03:29:47,425] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:29:47,425] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 03:29:47,426] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 03:29:47,426] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,426] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,426] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 30
[2025-08-20 03:29:47,426] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,426] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@30
[2025-08-20 03:29:47,426] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=26:31, 当前值=8.0800
[2025-08-20 03:29:47,426] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.82
[2025-08-20 03:29:47,426] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=7.82
[2025-08-20 03:29:47,426] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 30, 值: 7.82
[2025-08-20 03:29:47,426] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[30] = 7.82
[2025-08-20 03:29:47,426] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:29:47,427] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.67
[2025-08-20 03:29:47,427] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.67 (from index 29)
[2025-08-20 03:29:47,427] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,427] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 30
[2025-08-20 03:29:47,427] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,427] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@30
[2025-08-20 03:29:47,427] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=24:31, 当前值=8.0800
[2025-08-20 03:29:47,427] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.7
[2025-08-20 03:29:47,427] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.7
[2025-08-20 03:29:47,427] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 30, 值: 7.7
[2025-08-20 03:29:47,427] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[30] = 7.7
[2025-08-20 03:29:47,427] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:29:47,427] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.591428571428572
[2025-08-20 03:29:47,427] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.591428571428572 (from index 29)
[2025-08-20 03:29:47,427] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 03:29:47,427] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 03:29:47,427] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,427] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,428] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 03:29:47,428] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:29:47,428] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,428] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 03:29:47,428] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:29:47,428] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 03:29:47,428] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 03:29:47,428] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,428] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,428] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 31
[2025-08-20 03:29:47,428] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,428] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@31
[2025-08-20 03:29:47,428] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=27:32, 当前值=8.8900
[2025-08-20 03:29:47,428] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.065999999999999
[2025-08-20 03:29:47,428] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=8.065999999999999
[2025-08-20 03:29:47,428] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 31, 值: 8.065999999999999
[2025-08-20 03:29:47,428] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[31] = 8.065999999999999
[2025-08-20 03:29:47,428] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:29:47,429] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=7.82
[2025-08-20 03:29:47,429] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.82 (from index 30)
[2025-08-20 03:29:47,429] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,429] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 31
[2025-08-20 03:29:47,429] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,429] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@31
[2025-08-20 03:29:47,429] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=25:32, 当前值=8.8900
[2025-08-20 03:29:47,429] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=7.902857142857143
[2025-08-20 03:29:47,429] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=7.902857142857143
[2025-08-20 03:29:47,429] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 31, 值: 7.902857142857143
[2025-08-20 03:29:47,429] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[31] = 7.902857142857143
[2025-08-20 03:29:47,429] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:29:47,429] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.7
[2025-08-20 03:29:47,429] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.7 (from index 30)
[2025-08-20 03:29:47,429] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 03:29:47,429] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 03:29:47,429] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,429] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,429] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 03:29:47,430] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:29:47,430] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,430] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 03:29:47,430] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:29:47,430] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 03:29:47,430] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 03:29:47,430] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,430] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 32
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@32
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=28:33, 当前值=9.7800
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.472
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=8.472
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 32, 值: 8.472
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[32] = 8.472
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:29:47,431] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.065999999999999
[2025-08-20 03:29:47,431] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.065999999999999 (from index 31)
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 32
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@32
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=26:33, 当前值=9.7800
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.252857142857144
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=8.252857142857144
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 32, 值: 8.252857142857144
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[32] = 8.252857142857144
[2025-08-20 03:29:47,431] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:29:47,432] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=7.902857142857143
[2025-08-20 03:29:47,432] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.902857142857143 (from index 31)
[2025-08-20 03:29:47,432] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 03:29:47,432] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 03:29:47,432] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,432] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,432] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 03:29:47,432] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:29:47,432] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,432] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 03:29:47,432] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:29:47,433] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 03:29:47,433] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 03:29:47,433] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,433] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,433] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 33
[2025-08-20 03:29:47,433] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,433] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@33
[2025-08-20 03:29:47,433] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=29:34, 当前值=10.7600
[2025-08-20 03:29:47,433] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.096
[2025-08-20 03:29:47,433] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.096
[2025-08-20 03:29:47,433] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 33, 值: 9.096
[2025-08-20 03:29:47,433] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[33] = 9.096
[2025-08-20 03:29:47,433] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:29:47,433] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=8.472
[2025-08-20 03:29:47,433] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.472 (from index 32)
[2025-08-20 03:29:47,433] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,434] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 33
[2025-08-20 03:29:47,434] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,434] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@33
[2025-08-20 03:29:47,434] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=27:34, 当前值=10.7600
[2025-08-20 03:29:47,434] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=8.695714285714285
[2025-08-20 03:29:47,434] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=8.695714285714285
[2025-08-20 03:29:47,434] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 33, 值: 8.695714285714285
[2025-08-20 03:29:47,434] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[33] = 8.695714285714285
[2025-08-20 03:29:47,434] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:29:47,434] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.252857142857144
[2025-08-20 03:29:47,434] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.252857142857144 (from index 32)
[2025-08-20 03:29:47,434] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 03:29:47,434] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 03:29:47,434] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,434] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,434] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 03:29:47,434] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:29:47,434] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,434] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 03:29:47,434] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:29:47,435] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 03:29:47,435] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 03:29:47,435] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,435] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,435] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 34
[2025-08-20 03:29:47,435] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,435] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@34
[2025-08-20 03:29:47,435] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=30:35, 当前值=11.4500
[2025-08-20 03:29:47,435] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.792
[2025-08-20 03:29:47,435] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.792
[2025-08-20 03:29:47,435] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 34, 值: 9.792
[2025-08-20 03:29:47,435] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[34] = 9.792
[2025-08-20 03:29:47,435] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:29:47,435] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.096
[2025-08-20 03:29:47,435] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.096 (from index 33)
[2025-08-20 03:29:47,435] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,435] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 34
[2025-08-20 03:29:47,436] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,436] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@34
[2025-08-20 03:29:47,436] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=28:35, 当前值=11.4500
[2025-08-20 03:29:47,436] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.224285714285713
[2025-08-20 03:29:47,436] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.224285714285713
[2025-08-20 03:29:47,436] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 34, 值: 9.224285714285713
[2025-08-20 03:29:47,436] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[34] = 9.224285714285713
[2025-08-20 03:29:47,436] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:29:47,436] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=8.695714285714285
[2025-08-20 03:29:47,436] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.695714285714285 (from index 33)
[2025-08-20 03:29:47,436] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 03:29:47,436] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 03:29:47,436] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,436] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,437] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 03:29:47,437] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:29:47,437] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,437] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 03:29:47,437] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:29:47,437] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 03:29:47,437] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 03:29:47,437] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,437] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,437] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 35
[2025-08-20 03:29:47,437] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,437] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@35
[2025-08-20 03:29:47,437] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=31:36, 当前值=12.6000
[2025-08-20 03:29:47,437] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.696
[2025-08-20 03:29:47,437] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.696
[2025-08-20 03:29:47,437] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 35, 值: 10.696
[2025-08-20 03:29:47,438] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[35] = 10.696
[2025-08-20 03:29:47,438] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:29:47,438] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.792
[2025-08-20 03:29:47,438] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.792 (from index 34)
[2025-08-20 03:29:47,438] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,438] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 35
[2025-08-20 03:29:47,438] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,438] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@35
[2025-08-20 03:29:47,438] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=29:36, 当前值=12.6000
[2025-08-20 03:29:47,438] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.932857142857143
[2025-08-20 03:29:47,438] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.932857142857143
[2025-08-20 03:29:47,438] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 35, 值: 9.932857142857143
[2025-08-20 03:29:47,438] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[35] = 9.932857142857143
[2025-08-20 03:29:47,438] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:29:47,438] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.224285714285713
[2025-08-20 03:29:47,438] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.224285714285713 (from index 34)
[2025-08-20 03:29:47,438] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 03:29:47,438] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 03:29:47,438] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,438] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,439] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 03:29:47,439] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:29:47,439] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,439] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 03:29:47,439] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:29:47,439] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 03:29:47,439] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 03:29:47,439] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,439] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,439] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 36
[2025-08-20 03:29:47,439] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,439] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@36
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=32:37, 当前值=13.8600
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.690000000000001
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.690000000000001
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 36, 值: 11.690000000000001
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[36] = 11.690000000000001
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:29:47,440] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.696
[2025-08-20 03:29:47,440] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.696 (from index 35)
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 36
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@36
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=30:37, 当前值=13.8600
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.774285714285714
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.774285714285714
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 36, 值: 10.774285714285714
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[36] = 10.774285714285714
[2025-08-20 03:29:47,440] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:29:47,440] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.932857142857143
[2025-08-20 03:29:47,440] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.932857142857143 (from index 35)
[2025-08-20 03:29:47,440] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 03:29:47,441] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 03:29:47,441] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,441] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,441] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 03:29:47,441] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:29:47,441] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,441] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 03:29:47,441] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:29:47,441] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 03:29:47,441] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 03:29:47,441] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 37
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@37
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=33:38, 当前值=13.5000
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.434000000000001
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.434000000000001
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 37, 值: 12.434000000000001
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[37] = 12.434000000000001
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:29:47,442] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.690000000000001
[2025-08-20 03:29:47,442] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.690000000000001 (from index 36)
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 37
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@37
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=31:38, 当前值=13.5000
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.54857142857143
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.54857142857143
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 37, 值: 11.54857142857143
[2025-08-20 03:29:47,442] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[37] = 11.54857142857143
[2025-08-20 03:29:47,443] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:29:47,443] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.774285714285714
[2025-08-20 03:29:47,443] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.774285714285714 (from index 36)
[2025-08-20 03:29:47,443] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 03:29:47,443] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 03:29:47,443] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,443] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,443] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 03:29:47,443] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:29:47,443] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,443] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 03:29:47,443] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:29:47,443] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 03:29:47,443] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 03:29:47,443] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 38
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@38
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=34:39, 当前值=12.1500
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.712
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.712
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 38, 值: 12.712
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[38] = 12.712
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:29:47,444] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.434000000000001
[2025-08-20 03:29:47,444] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.434000000000001 (from index 37)
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 38
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@38
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=32:39, 当前值=12.1500
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.014285714285714
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.014285714285714
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 38, 值: 12.014285714285714
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[38] = 12.014285714285714
[2025-08-20 03:29:47,444] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:29:47,445] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.54857142857143
[2025-08-20 03:29:47,445] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.54857142857143 (from index 37)
[2025-08-20 03:29:47,445] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 03:29:47,445] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 03:29:47,445] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,445] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,445] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 03:29:47,445] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:29:47,445] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,445] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 03:29:47,445] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:29:47,445] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 03:29:47,445] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 03:29:47,446] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,446] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,446] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 39
[2025-08-20 03:29:47,446] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,446] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@39
[2025-08-20 03:29:47,446] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=35:40, 当前值=11.2600
[2025-08-20 03:29:47,446] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.674
[2025-08-20 03:29:47,446] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.674
[2025-08-20 03:29:47,446] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 39, 值: 12.674
[2025-08-20 03:29:47,447] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[39] = 12.674
[2025-08-20 03:29:47,447] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:29:47,447] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.712
[2025-08-20 03:29:47,447] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.712 (from index 38)
[2025-08-20 03:29:47,447] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,447] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 39
[2025-08-20 03:29:47,447] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,447] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@39
[2025-08-20 03:29:47,447] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=33:40, 当前值=11.2600
[2025-08-20 03:29:47,447] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.225714285714286
[2025-08-20 03:29:47,447] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.225714285714286
[2025-08-20 03:29:47,447] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 39, 值: 12.225714285714286
[2025-08-20 03:29:47,447] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[39] = 12.225714285714286
[2025-08-20 03:29:47,447] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:29:47,447] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.014285714285714
[2025-08-20 03:29:47,447] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.014285714285714 (from index 38)
[2025-08-20 03:29:47,447] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 03:29:47,448] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 03:29:47,448] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,448] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,448] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 03:29:47,448] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:29:47,448] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,448] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 03:29:47,448] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:29:47,448] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 03:29:47,448] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 03:29:47,448] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 40
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@40
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=36:41, 当前值=11.8500
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.524
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.524
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 40, 值: 12.524
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[40] = 12.524
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:29:47,449] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.674
[2025-08-20 03:29:47,449] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.674 (from index 39)
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 40
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@40
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=34:41, 当前值=11.8500
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.381428571428572
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.381428571428572
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 40, 值: 12.381428571428572
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[40] = 12.381428571428572
[2025-08-20 03:29:47,449] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:29:47,449] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.225714285714286
[2025-08-20 03:29:47,450] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.225714285714286 (from index 39)
[2025-08-20 03:29:47,450] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 03:29:47,450] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 03:29:47,450] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,450] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,450] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 03:29:47,450] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:29:47,450] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,450] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 03:29:47,450] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:29:47,450] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 03:29:47,450] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 03:29:47,450] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 41
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@41
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=37:42, 当前值=13.0400
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.36
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.36
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 41, 值: 12.36
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[41] = 12.36
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:29:47,451] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.524
[2025-08-20 03:29:47,451] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.524 (from index 40)
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 41
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@41
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=35:42, 当前值=13.0400
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.608571428571429
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.608571428571429
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 41, 值: 12.608571428571429
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[41] = 12.608571428571429
[2025-08-20 03:29:47,451] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:29:47,452] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.381428571428572
[2025-08-20 03:29:47,452] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.381428571428572 (from index 40)
[2025-08-20 03:29:47,452] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 03:29:47,452] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 03:29:47,452] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,452] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,452] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 03:29:47,452] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:29:47,452] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,452] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 03:29:47,452] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:29:47,452] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 03:29:47,452] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 03:29:47,452] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:29:47,453] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:29:47,453] [DEBUG] [backtesting:322] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 03:29:47,453] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,453] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,453] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 42
[2025-08-20 03:29:47,453] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,453] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@42
[2025-08-20 03:29:47,453] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=38:43, 当前值=11.7400
[2025-08-20 03:29:47,453] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.008
[2025-08-20 03:29:47,453] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.008
[2025-08-20 03:29:47,453] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 42, 值: 12.008
[2025-08-20 03:29:47,453] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[42] = 12.008
[2025-08-20 03:29:47,453] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:29:47,453] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.36
[2025-08-20 03:29:47,453] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.36 (from index 41)
[2025-08-20 03:29:47,454] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,454] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 42
[2025-08-20 03:29:47,454] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,454] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@42
[2025-08-20 03:29:47,454] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=36:43, 当前值=11.7400
[2025-08-20 03:29:47,454] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.485714285714286
[2025-08-20 03:29:47,454] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.485714285714286
[2025-08-20 03:29:47,454] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 42, 值: 12.485714285714286
[2025-08-20 03:29:47,454] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[42] = 12.485714285714286
[2025-08-20 03:29:47,454] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:29:47,454] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.608571428571429
[2025-08-20 03:29:47,454] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.608571428571429 (from index 41)
[2025-08-20 03:29:47,454] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 03:29:47,454] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 03:29:47,454] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,454] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,454] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 03:29:47,454] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:29:47,454] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,455] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 03:29:47,455] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:29:47,455] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 03:29:47,455] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 03:29:47,455] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,455] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,455] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 43
[2025-08-20 03:29:47,455] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,455] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@43
[2025-08-20 03:29:47,455] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=39:44, 当前值=11.1000
[2025-08-20 03:29:47,455] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.798
[2025-08-20 03:29:47,455] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.798
[2025-08-20 03:29:47,455] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 43, 值: 11.798
[2025-08-20 03:29:47,455] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[43] = 11.798
[2025-08-20 03:29:47,455] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:29:47,455] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.008
[2025-08-20 03:29:47,456] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.008 (from index 42)
[2025-08-20 03:29:47,456] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,456] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 43
[2025-08-20 03:29:47,456] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,456] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@43
[2025-08-20 03:29:47,456] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=37:44, 当前值=11.1000
[2025-08-20 03:29:47,456] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.09142857142857
[2025-08-20 03:29:47,456] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.09142857142857
[2025-08-20 03:29:47,456] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 43, 值: 12.09142857142857
[2025-08-20 03:29:47,456] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[43] = 12.09142857142857
[2025-08-20 03:29:47,456] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:29:47,456] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.485714285714286
[2025-08-20 03:29:47,456] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.485714285714286 (from index 42)
[2025-08-20 03:29:47,456] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 03:29:47,456] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 03:29:47,456] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,457] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,457] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 03:29:47,457] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:29:47,457] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,457] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 03:29:47,457] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:29:47,457] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 03:29:47,457] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 03:29:47,457] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,457] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,457] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 44
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@44
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=40:45, 当前值=11.7300
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.892
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.892
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 44, 值: 11.892
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[44] = 11.892
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 43 (当前索引: 44, 回溯周期: 1)
[2025-08-20 03:29:47,458] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.798
[2025-08-20 03:29:47,458] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.798 (from index 43)
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 44
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@44
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=38:45, 当前值=11.7300
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.838571428571429
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.838571428571429
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 44, 值: 11.838571428571429
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[44] = 11.838571428571429
[2025-08-20 03:29:47,458] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 43 (当前索引: 44, 回溯周期: 1)
[2025-08-20 03:29:47,458] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.09142857142857
[2025-08-20 03:29:47,458] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.09142857142857 (from index 43)
[2025-08-20 03:29:47,458] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 03:29:47,459] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.838571428571429
[2025-08-20 03:29:47,459] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:29:47,459] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:29:47,459] [DEBUG] [backtesting:322] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 03:29:47,459] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,459] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,459] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 45
[2025-08-20 03:29:47,459] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,459] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@45
[2025-08-20 03:29:47,459] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=41:46, 当前值=11.8500
[2025-08-20 03:29:47,459] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.892
[2025-08-20 03:29:47,459] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.892
[2025-08-20 03:29:47,459] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 45, 值: 11.892
[2025-08-20 03:29:47,459] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[45] = 11.892
[2025-08-20 03:29:47,459] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:29:47,460] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 03:29:47,460] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 44)
[2025-08-20 03:29:47,460] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,460] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 45
[2025-08-20 03:29:47,460] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,460] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@45
[2025-08-20 03:29:47,460] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=39:46, 当前值=11.8500
[2025-08-20 03:29:47,460] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.795714285714284
[2025-08-20 03:29:47,460] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.795714285714284
[2025-08-20 03:29:47,460] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 45, 值: 11.795714285714284
[2025-08-20 03:29:47,460] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[45] = 11.795714285714284
[2025-08-20 03:29:47,460] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:29:47,460] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.838571428571429
[2025-08-20 03:29:47,460] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.838571428571429 (from index 44)
[2025-08-20 03:29:47,460] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 03:29:47,460] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 03:29:47,460] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,460] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,461] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 03:29:47,461] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:29:47,461] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,461] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 03:29:47,461] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:29:47,461] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 03:29:47,461] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 03:29:47,461] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 46
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@46
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=42:47, 当前值=12.2400
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.732
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.732
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 46, 值: 11.732
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[46] = 11.732
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:29:47,462] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.892
[2025-08-20 03:29:47,462] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 45)
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 46
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@46
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=40:47, 当前值=12.2400
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.935714285714285
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.935714285714285
[2025-08-20 03:29:47,462] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 46, 值: 11.935714285714285
[2025-08-20 03:29:47,463] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[46] = 11.935714285714285
[2025-08-20 03:29:47,463] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:29:47,463] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.795714285714284
[2025-08-20 03:29:47,463] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.795714285714284 (from index 45)
[2025-08-20 03:29:47,463] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:29:47,463] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 03:29:47,463] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,463] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,464] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:29:47,464] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:29:47,464] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,464] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 03:29:47,464] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:29:47,464] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:29:47,464] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 03:29:47,464] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:29:47,464] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:29:47,465] [DEBUG] [backtesting:322] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 03:29:47,465] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,465] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,465] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 47
[2025-08-20 03:29:47,465] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,465] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@47
[2025-08-20 03:29:47,465] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=43:48, 当前值=12.9700
[2025-08-20 03:29:47,465] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.978
[2025-08-20 03:29:47,465] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.978
[2025-08-20 03:29:47,465] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 47, 值: 11.978
[2025-08-20 03:29:47,465] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[47] = 11.978
[2025-08-20 03:29:47,466] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:29:47,466] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:29:47,466] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 46)
[2025-08-20 03:29:47,466] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,466] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 47
[2025-08-20 03:29:47,466] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,466] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@47
[2025-08-20 03:29:47,466] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=41:48, 当前值=12.9700
[2025-08-20 03:29:47,466] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.095714285714285
[2025-08-20 03:29:47,466] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.095714285714285
[2025-08-20 03:29:47,466] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 47, 值: 12.095714285714285
[2025-08-20 03:29:47,466] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[47] = 12.095714285714285
[2025-08-20 03:29:47,466] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:29:47,466] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.935714285714285
[2025-08-20 03:29:47,466] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.935714285714285 (from index 46)
[2025-08-20 03:29:47,466] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 03:29:47,466] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 03:29:47,467] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,467] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,467] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 03:29:47,467] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:29:47,467] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,467] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 03:29:47,467] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:29:47,467] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 03:29:47,467] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 03:29:47,467] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,467] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,467] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 48
[2025-08-20 03:29:47,467] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,467] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@48
[2025-08-20 03:29:47,467] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=44:49, 当前值=12.9700
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.352
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.352
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 48, 值: 12.352
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[48] = 12.352
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 47 (当前索引: 48, 回溯周期: 1)
[2025-08-20 03:29:47,468] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.978
[2025-08-20 03:29:47,468] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.978 (from index 47)
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 48
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@48
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=42:49, 当前值=12.9700
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.085714285714285
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.085714285714285
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 48, 值: 12.085714285714285
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[48] = 12.085714285714285
[2025-08-20 03:29:47,468] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 47 (当前索引: 48, 回溯周期: 1)
[2025-08-20 03:29:47,468] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.095714285714285
[2025-08-20 03:29:47,468] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.095714285714285 (from index 47)
[2025-08-20 03:29:47,468] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.352
[2025-08-20 03:29:47,468] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.085714285714285
[2025-08-20 03:29:47,468] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:29:47,469] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:29:47,469] [DEBUG] [backtesting:322] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 03:29:47,469] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,469] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,469] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 49
[2025-08-20 03:29:47,469] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,469] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@49
[2025-08-20 03:29:47,469] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=45:50, 当前值=12.8700
[2025-08-20 03:29:47,469] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.58
[2025-08-20 03:29:47,469] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.58
[2025-08-20 03:29:47,469] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 49, 值: 12.58
[2025-08-20 03:29:47,469] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[49] = 12.58
[2025-08-20 03:29:47,469] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:29:47,469] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.352
[2025-08-20 03:29:47,469] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.352 (from index 48)
[2025-08-20 03:29:47,469] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,469] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 49
[2025-08-20 03:29:47,469] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,470] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@49
[2025-08-20 03:29:47,470] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=43:50, 当前值=12.8700
[2025-08-20 03:29:47,470] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.247142857142858
[2025-08-20 03:29:47,470] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.247142857142858
[2025-08-20 03:29:47,470] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 49, 值: 12.247142857142858
[2025-08-20 03:29:47,470] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[49] = 12.247142857142858
[2025-08-20 03:29:47,470] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:29:47,470] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.085714285714285
[2025-08-20 03:29:47,470] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.085714285714285 (from index 48)
[2025-08-20 03:29:47,470] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 03:29:47,470] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 03:29:47,470] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,470] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,470] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 03:29:47,470] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:29:47,470] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,470] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 03:29:47,471] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:29:47,471] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 03:29:47,471] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 03:29:47,471] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,471] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,471] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 50
[2025-08-20 03:29:47,471] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,471] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@50
[2025-08-20 03:29:47,471] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=46:51, 当前值=12.3500
[2025-08-20 03:29:47,471] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.68
[2025-08-20 03:29:47,471] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.68
[2025-08-20 03:29:47,472] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 50, 值: 12.68
[2025-08-20 03:29:47,472] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[50] = 12.68
[2025-08-20 03:29:47,472] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:29:47,472] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.58
[2025-08-20 03:29:47,472] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.58 (from index 49)
[2025-08-20 03:29:47,472] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,472] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 50
[2025-08-20 03:29:47,472] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,472] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@50
[2025-08-20 03:29:47,472] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=44:51, 当前值=12.3500
[2025-08-20 03:29:47,472] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.425714285714287
[2025-08-20 03:29:47,472] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.425714285714287
[2025-08-20 03:29:47,472] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 50, 值: 12.425714285714287
[2025-08-20 03:29:47,472] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[50] = 12.425714285714287
[2025-08-20 03:29:47,472] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:29:47,472] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.247142857142858
[2025-08-20 03:29:47,472] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.247142857142858 (from index 49)
[2025-08-20 03:29:47,472] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 03:29:47,472] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 03:29:47,472] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,473] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,473] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 03:29:47,473] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:29:47,473] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,473] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 03:29:47,473] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:29:47,473] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 03:29:47,473] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 03:29:47,473] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,473] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,473] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 51
[2025-08-20 03:29:47,473] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,473] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@51
[2025-08-20 03:29:47,473] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=47:52, 当前值=12.1800
[2025-08-20 03:29:47,473] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.668000000000001
[2025-08-20 03:29:47,473] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.668000000000001
[2025-08-20 03:29:47,473] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 51, 值: 12.668000000000001
[2025-08-20 03:29:47,474] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[51] = 12.668000000000001
[2025-08-20 03:29:47,474] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:29:47,474] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.68
[2025-08-20 03:29:47,474] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.68 (from index 50)
[2025-08-20 03:29:47,474] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,474] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 51
[2025-08-20 03:29:47,474] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,474] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@51
[2025-08-20 03:29:47,474] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=45:52, 当前值=12.1800
[2025-08-20 03:29:47,474] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.49
[2025-08-20 03:29:47,474] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.49
[2025-08-20 03:29:47,474] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 51, 值: 12.49
[2025-08-20 03:29:47,474] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[51] = 12.49
[2025-08-20 03:29:47,474] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:29:47,474] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.425714285714287
[2025-08-20 03:29:47,474] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.425714285714287 (from index 50)
[2025-08-20 03:29:47,474] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 03:29:47,474] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 03:29:47,474] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,475] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,475] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 03:29:47,475] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:29:47,475] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,475] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 03:29:47,475] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:29:47,475] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 03:29:47,475] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 03:29:47,475] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,475] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,475] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 52
[2025-08-20 03:29:47,475] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,475] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@52
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=48:53, 当前值=11.6200
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.398
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.398
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 52, 值: 12.398
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[52] = 12.398
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:29:47,476] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.668000000000001
[2025-08-20 03:29:47,476] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.668000000000001 (from index 51)
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 52
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@52
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=46:53, 当前值=11.6200
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.457142857142857
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.457142857142857
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 52, 值: 12.457142857142857
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[52] = 12.457142857142857
[2025-08-20 03:29:47,476] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:29:47,476] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.49
[2025-08-20 03:29:47,476] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.49 (from index 51)
[2025-08-20 03:29:47,477] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 03:29:47,477] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 03:29:47,477] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,477] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,477] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 03:29:47,477] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:29:47,477] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,477] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 03:29:47,477] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:29:47,477] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 03:29:47,477] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 03:29:47,478] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:29:47,478] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:29:47,478] [DEBUG] [backtesting:322] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 03:29:47,478] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,478] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,478] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 53
[2025-08-20 03:29:47,478] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,478] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@53
[2025-08-20 03:29:47,478] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=49:54, 当前值=11.5100
[2025-08-20 03:29:47,478] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.106
[2025-08-20 03:29:47,478] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=12.106
[2025-08-20 03:29:47,478] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 53, 值: 12.106
[2025-08-20 03:29:47,478] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[53] = 12.106
[2025-08-20 03:29:47,478] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:29:47,479] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.398
[2025-08-20 03:29:47,479] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.398 (from index 52)
[2025-08-20 03:29:47,479] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,479] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 53
[2025-08-20 03:29:47,479] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,479] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@53
[2025-08-20 03:29:47,479] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=47:54, 当前值=11.5100
[2025-08-20 03:29:47,479] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.352857142857143
[2025-08-20 03:29:47,479] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.352857142857143
[2025-08-20 03:29:47,479] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 53, 值: 12.352857142857143
[2025-08-20 03:29:47,479] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[53] = 12.352857142857143
[2025-08-20 03:29:47,479] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:29:47,479] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.457142857142857
[2025-08-20 03:29:47,479] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.457142857142857 (from index 52)
[2025-08-20 03:29:47,479] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 03:29:47,479] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 03:29:47,479] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,479] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,480] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 03:29:47,480] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:29:47,480] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,480] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 03:29:47,480] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:29:47,480] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 03:29:47,480] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 03:29:47,480] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,480] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,480] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 54
[2025-08-20 03:29:47,480] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@54
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=50:55, 当前值=11.8200
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.895999999999999
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.895999999999999
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 54, 值: 11.895999999999999
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[54] = 11.895999999999999
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:29:47,481] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=12.106
[2025-08-20 03:29:47,481] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.106 (from index 53)
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 54
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@54
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=48:55, 当前值=11.8200
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=12.188571428571427
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=12.188571428571427
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 54, 值: 12.188571428571427
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[54] = 12.188571428571427
[2025-08-20 03:29:47,481] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:29:47,481] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.352857142857143
[2025-08-20 03:29:47,481] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.352857142857143 (from index 53)
[2025-08-20 03:29:47,482] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 03:29:47,482] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 03:29:47,482] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,482] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,482] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 03:29:47,482] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:29:47,482] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,482] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 03:29:47,482] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:29:47,482] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 03:29:47,482] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 03:29:47,483] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 55
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@55
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=51:56, 当前值=11.5300
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.732
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.732
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 55, 值: 11.732
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[55] = 11.732
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:29:47,483] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.895999999999999
[2025-08-20 03:29:47,483] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.895999999999999 (from index 54)
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 55
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@55
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=49:56, 当前值=11.5300
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.982857142857142
[2025-08-20 03:29:47,483] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.982857142857142
[2025-08-20 03:29:47,484] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 55, 值: 11.982857142857142
[2025-08-20 03:29:47,484] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[55] = 11.982857142857142
[2025-08-20 03:29:47,484] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:29:47,484] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=12.188571428571427
[2025-08-20 03:29:47,484] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.188571428571427 (from index 54)
[2025-08-20 03:29:47,484] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:29:47,484] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 03:29:47,484] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,484] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,484] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:29:47,484] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:29:47,484] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,484] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 03:29:47,484] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:29:47,484] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:29:47,485] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 03:29:47,485] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 56
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@56
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=52:57, 当前值=11.2400
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.544
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.544
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 56, 值: 11.544
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[56] = 11.544
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:29:47,485] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.732
[2025-08-20 03:29:47,485] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 55)
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 56
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@56
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=50:57, 当前值=11.2400
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.75
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.75
[2025-08-20 03:29:47,485] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 56, 值: 11.75
[2025-08-20 03:29:47,486] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[56] = 11.75
[2025-08-20 03:29:47,486] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:29:47,486] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.982857142857142
[2025-08-20 03:29:47,486] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.982857142857142 (from index 55)
[2025-08-20 03:29:47,486] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 03:29:47,486] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 03:29:47,486] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,486] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,486] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 03:29:47,486] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:29:47,487] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,487] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 03:29:47,487] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:29:47,487] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 03:29:47,487] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 03:29:47,487] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,487] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,487] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 57
[2025-08-20 03:29:47,487] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,487] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@57
[2025-08-20 03:29:47,487] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=53:58, 当前值=11.1200
[2025-08-20 03:29:47,487] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.443999999999999
[2025-08-20 03:29:47,487] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.443999999999999
[2025-08-20 03:29:47,487] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 57, 值: 11.443999999999999
[2025-08-20 03:29:47,488] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[57] = 11.443999999999999
[2025-08-20 03:29:47,488] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:29:47,488] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.544
[2025-08-20 03:29:47,488] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.544 (from index 56)
[2025-08-20 03:29:47,488] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,488] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 57
[2025-08-20 03:29:47,488] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,488] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@57
[2025-08-20 03:29:47,488] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=51:58, 当前值=11.1200
[2025-08-20 03:29:47,488] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.574285714285713
[2025-08-20 03:29:47,488] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.574285714285713
[2025-08-20 03:29:47,488] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 57, 值: 11.574285714285713
[2025-08-20 03:29:47,488] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[57] = 11.574285714285713
[2025-08-20 03:29:47,488] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:29:47,488] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.75
[2025-08-20 03:29:47,488] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.75 (from index 56)
[2025-08-20 03:29:47,488] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 03:29:47,488] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 03:29:47,488] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,489] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,489] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 03:29:47,489] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:29:47,489] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,489] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 03:29:47,489] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:29:47,489] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 03:29:47,489] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 03:29:47,489] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 58
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@58
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=54:59, 当前值=11.1500
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.372
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.372
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 58, 值: 11.372
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[58] = 11.372
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:29:47,490] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.443999999999999
[2025-08-20 03:29:47,490] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.443999999999999 (from index 57)
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 58
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@58
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=52:59, 当前值=11.1500
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.427142857142856
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.427142857142856
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 58, 值: 11.427142857142856
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[58] = 11.427142857142856
[2025-08-20 03:29:47,490] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:29:47,490] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.574285714285713
[2025-08-20 03:29:47,491] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.574285714285713 (from index 57)
[2025-08-20 03:29:47,491] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 03:29:47,492] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 03:29:47,492] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,492] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,492] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 03:29:47,492] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:29:47,492] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,492] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 03:29:47,492] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:29:47,492] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 03:29:47,492] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 03:29:47,492] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 59
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@59
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=55:60, 当前值=11.4000
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.288
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.288
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 59, 值: 11.288
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[59] = 11.288
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:29:47,493] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.372
[2025-08-20 03:29:47,493] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.372 (from index 58)
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 59
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@59
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=53:60, 当前值=11.4000
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.395714285714286
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.395714285714286
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 59, 值: 11.395714285714286
[2025-08-20 03:29:47,493] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[59] = 11.395714285714286
[2025-08-20 03:29:47,494] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:29:47,494] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.427142857142856
[2025-08-20 03:29:47,494] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.427142857142856 (from index 58)
[2025-08-20 03:29:47,494] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 03:29:47,494] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 03:29:47,494] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,494] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,494] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 03:29:47,494] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:29:47,494] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,494] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 03:29:47,494] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:29:47,494] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 03:29:47,494] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 03:29:47,495] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,495] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,495] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 60
[2025-08-20 03:29:47,495] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,495] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@60
[2025-08-20 03:29:47,495] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=56:61, 当前值=11.4600
[2025-08-20 03:29:47,495] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.274
[2025-08-20 03:29:47,495] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.274
[2025-08-20 03:29:47,495] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 60, 值: 11.274
[2025-08-20 03:29:47,495] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[60] = 11.274
[2025-08-20 03:29:47,495] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:29:47,495] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.288
[2025-08-20 03:29:47,496] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.288 (from index 59)
[2025-08-20 03:29:47,496] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,497] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 60
[2025-08-20 03:29:47,497] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,497] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@60
[2025-08-20 03:29:47,497] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=54:61, 当前值=11.4600
[2025-08-20 03:29:47,497] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.388571428571428
[2025-08-20 03:29:47,497] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.388571428571428
[2025-08-20 03:29:47,497] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 60, 值: 11.388571428571428
[2025-08-20 03:29:47,497] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[60] = 11.388571428571428
[2025-08-20 03:29:47,497] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:29:47,498] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.395714285714286
[2025-08-20 03:29:47,498] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.395714285714286 (from index 59)
[2025-08-20 03:29:47,498] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 03:29:47,498] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 03:29:47,499] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,499] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,499] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 03:29:47,499] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:29:47,499] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,499] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 03:29:47,499] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:29:47,499] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 03:29:47,499] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 03:29:47,499] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 61
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@61
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=57:62, 当前值=11.3000
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.286
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.286
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 61, 值: 11.286
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[61] = 11.286
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:29:47,500] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.274
[2025-08-20 03:29:47,500] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.274 (from index 60)
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 61
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@61
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=55:62, 当前值=11.3000
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.314285714285715
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.314285714285715
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 61, 值: 11.314285714285715
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[61] = 11.314285714285715
[2025-08-20 03:29:47,500] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:29:47,500] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.388571428571428
[2025-08-20 03:29:47,501] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.388571428571428 (from index 60)
[2025-08-20 03:29:47,501] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 03:29:47,501] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 03:29:47,501] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,501] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,502] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 03:29:47,502] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:29:47,502] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,502] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 03:29:47,502] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:29:47,502] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 03:29:47,502] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 03:29:47,502] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,502] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,502] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 62
[2025-08-20 03:29:47,502] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,502] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@62
[2025-08-20 03:29:47,502] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=58:63, 当前值=11.2600
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.314
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.314
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 62, 值: 11.314
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[62] = 11.314
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 61 (当前索引: 62, 回溯周期: 1)
[2025-08-20 03:29:47,503] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.286
[2025-08-20 03:29:47,503] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.286 (from index 61)
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 62
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@62
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=56:63, 当前值=11.2600
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.275714285714287
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.275714285714287
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 62, 值: 11.275714285714287
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[62] = 11.275714285714287
[2025-08-20 03:29:47,503] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 61 (当前索引: 62, 回溯周期: 1)
[2025-08-20 03:29:47,503] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.314285714285715
[2025-08-20 03:29:47,503] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.314285714285715 (from index 61)
[2025-08-20 03:29:47,503] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.314
[2025-08-20 03:29:47,504] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.275714285714287
[2025-08-20 03:29:47,504] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:29:47,504] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:29:47,504] [DEBUG] [backtesting:322] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 03:29:47,504] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,504] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,504] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 63
[2025-08-20 03:29:47,504] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,504] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@63
[2025-08-20 03:29:47,504] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=59:64, 当前值=10.8600
[2025-08-20 03:29:47,504] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.256
[2025-08-20 03:29:47,504] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.256
[2025-08-20 03:29:47,504] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 63, 值: 11.256
[2025-08-20 03:29:47,504] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[63] = 11.256
[2025-08-20 03:29:47,504] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:29:47,504] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.314
[2025-08-20 03:29:47,505] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.314 (from index 62)
[2025-08-20 03:29:47,505] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,505] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 63
[2025-08-20 03:29:47,505] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,505] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@63
[2025-08-20 03:29:47,505] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=57:64, 当前值=10.8600
[2025-08-20 03:29:47,505] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.221428571428572
[2025-08-20 03:29:47,505] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.221428571428572
[2025-08-20 03:29:47,505] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 63, 值: 11.221428571428572
[2025-08-20 03:29:47,505] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[63] = 11.221428571428572
[2025-08-20 03:29:47,505] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:29:47,505] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.275714285714287
[2025-08-20 03:29:47,505] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.275714285714287 (from index 62)
[2025-08-20 03:29:47,505] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 03:29:47,505] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 03:29:47,505] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,505] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,505] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 03:29:47,505] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:29:47,505] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,505] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 03:29:47,506] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:29:47,506] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 03:29:47,506] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 03:29:47,506] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,506] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 64
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@64
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=60:65, 当前值=11.1900
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.214
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.214
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 64, 值: 11.214
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[64] = 11.214
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:29:47,507] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.256
[2025-08-20 03:29:47,507] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.256 (from index 63)
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 64
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@64
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=58:65, 当前值=11.1900
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.231428571428571
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.231428571428571
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 64, 值: 11.231428571428571
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[64] = 11.231428571428571
[2025-08-20 03:29:47,507] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:29:47,507] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.221428571428572
[2025-08-20 03:29:47,507] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.221428571428572 (from index 63)
[2025-08-20 03:29:47,507] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:29:47,507] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 03:29:47,508] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,508] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,508] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:29:47,508] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:29:47,508] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,508] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 03:29:47,508] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:29:47,508] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:29:47,508] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 03:29:47,508] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:29:47,508] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:29:47,508] [DEBUG] [backtesting:322] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 03:29:47,509] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 65
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@65
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=61:66, 当前值=11.3700
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.196
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.196
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 65, 值: 11.196
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[65] = 11.196
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:29:47,509] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:29:47,509] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 64)
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 65
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@65
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=59:66, 当前值=11.3700
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.262857142857143
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.262857142857143
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 65, 值: 11.262857142857143
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[65] = 11.262857142857143
[2025-08-20 03:29:47,509] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:29:47,510] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.231428571428571
[2025-08-20 03:29:47,510] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.231428571428571 (from index 64)
[2025-08-20 03:29:47,510] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 03:29:47,510] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 03:29:47,510] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,510] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,510] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 03:29:47,510] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:29:47,510] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,510] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 03:29:47,510] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:29:47,510] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 03:29:47,510] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 03:29:47,510] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,511] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,511] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 66
[2025-08-20 03:29:47,511] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,511] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@66
[2025-08-20 03:29:47,511] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=62:67, 当前值=11.4200
[2025-08-20 03:29:47,511] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.22
[2025-08-20 03:29:47,511] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.22
[2025-08-20 03:29:47,511] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 66, 值: 11.22
[2025-08-20 03:29:47,511] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[66] = 11.22
[2025-08-20 03:29:47,512] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:29:47,512] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.196
[2025-08-20 03:29:47,512] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.196 (from index 65)
[2025-08-20 03:29:47,512] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,512] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 66
[2025-08-20 03:29:47,512] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,512] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@66
[2025-08-20 03:29:47,512] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=60:67, 当前值=11.4200
[2025-08-20 03:29:47,512] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.265714285714285
[2025-08-20 03:29:47,512] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.265714285714285
[2025-08-20 03:29:47,512] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 66, 值: 11.265714285714285
[2025-08-20 03:29:47,512] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[66] = 11.265714285714285
[2025-08-20 03:29:47,512] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:29:47,512] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.262857142857143
[2025-08-20 03:29:47,512] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.262857142857143 (from index 65)
[2025-08-20 03:29:47,512] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 03:29:47,512] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 03:29:47,512] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,513] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,513] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 03:29:47,513] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:29:47,513] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,513] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 03:29:47,513] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:29:47,513] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 03:29:47,513] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 03:29:47,513] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 67
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@67
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=63:68, 当前值=11.2300
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.214
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.214
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 67, 值: 11.214
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[67] = 11.214
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:29:47,514] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.22
[2025-08-20 03:29:47,514] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.22 (from index 66)
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 67
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@67
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=61:68, 当前值=11.2300
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.232857142857142
[2025-08-20 03:29:47,514] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.232857142857142
[2025-08-20 03:29:47,515] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 67, 值: 11.232857142857142
[2025-08-20 03:29:47,515] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[67] = 11.232857142857142
[2025-08-20 03:29:47,515] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:29:47,515] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.265714285714285
[2025-08-20 03:29:47,515] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.265714285714285 (from index 66)
[2025-08-20 03:29:47,515] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:29:47,515] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 03:29:47,515] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,515] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,515] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:29:47,515] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:29:47,515] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,515] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 03:29:47,515] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:29:47,515] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:29:47,516] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 03:29:47,516] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,516] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,516] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 68
[2025-08-20 03:29:47,516] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,516] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@68
[2025-08-20 03:29:47,516] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=64:69, 当前值=11.3000
[2025-08-20 03:29:47,516] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.302
[2025-08-20 03:29:47,516] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.302
[2025-08-20 03:29:47,516] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 68, 值: 11.302
[2025-08-20 03:29:47,516] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[68] = 11.302
[2025-08-20 03:29:47,516] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 67 (当前索引: 68, 回溯周期: 1)
[2025-08-20 03:29:47,517] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.214
[2025-08-20 03:29:47,517] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 67)
[2025-08-20 03:29:47,517] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,517] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 68
[2025-08-20 03:29:47,517] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,517] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@68
[2025-08-20 03:29:47,517] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=62:69, 当前值=11.3000
[2025-08-20 03:29:47,517] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.232857142857142
[2025-08-20 03:29:47,517] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.232857142857142
[2025-08-20 03:29:47,517] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 68, 值: 11.232857142857142
[2025-08-20 03:29:47,517] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[68] = 11.232857142857142
[2025-08-20 03:29:47,517] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 67 (当前索引: 68, 回溯周期: 1)
[2025-08-20 03:29:47,517] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 03:29:47,518] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 67)
[2025-08-20 03:29:47,518] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.302
[2025-08-20 03:29:47,518] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 03:29:47,518] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:29:47,518] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:29:47,518] [DEBUG] [backtesting:322] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 03:29:47,518] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,518] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,518] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 69
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@69
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=65:70, 当前值=11.8900
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.442
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.442
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 69, 值: 11.442
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[69] = 11.442
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:29:47,519] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.302
[2025-08-20 03:29:47,519] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.302 (from index 68)
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 69
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@69
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=63:70, 当前值=11.8900
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.322857142857144
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.322857142857144
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 69, 值: 11.322857142857144
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[69] = 11.322857142857144
[2025-08-20 03:29:47,519] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:29:47,520] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.232857142857142
[2025-08-20 03:29:47,520] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 68)
[2025-08-20 03:29:47,520] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 03:29:47,520] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 03:29:47,520] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,520] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,520] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 03:29:47,520] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:29:47,520] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,520] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 03:29:47,520] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:29:47,520] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 03:29:47,521] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 03:29:47,521] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,521] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,521] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 70
[2025-08-20 03:29:47,521] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,521] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@70
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=66:71, 当前值=10.7000
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.308
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.308
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 70, 值: 11.308
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[70] = 11.308
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:29:47,522] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.442
[2025-08-20 03:29:47,522] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.442 (from index 69)
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 70
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@70
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=64:71, 当前值=10.7000
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.299999999999999
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.299999999999999
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 70, 值: 11.299999999999999
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[70] = 11.299999999999999
[2025-08-20 03:29:47,522] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:29:47,523] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.322857142857144
[2025-08-20 03:29:47,523] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.322857142857144 (from index 69)
[2025-08-20 03:29:47,523] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 03:29:47,523] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 03:29:47,523] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,524] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,524] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 03:29:47,524] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:29:47,524] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,524] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 03:29:47,524] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:29:47,525] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 03:29:47,525] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 03:29:47,525] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,525] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,525] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 71
[2025-08-20 03:29:47,525] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,525] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@71
[2025-08-20 03:29:47,525] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=67:72, 当前值=9.9300
[2025-08-20 03:29:47,525] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.01
[2025-08-20 03:29:47,525] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=11.01
[2025-08-20 03:29:47,526] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 71, 值: 11.01
[2025-08-20 03:29:47,526] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[71] = 11.01
[2025-08-20 03:29:47,526] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:29:47,526] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.308
[2025-08-20 03:29:47,527] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.308 (from index 70)
[2025-08-20 03:29:47,527] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,527] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 71
[2025-08-20 03:29:47,527] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,527] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@71
[2025-08-20 03:29:47,527] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=65:72, 当前值=9.9300
[2025-08-20 03:29:47,528] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=11.120000000000001
[2025-08-20 03:29:47,528] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=11.120000000000001
[2025-08-20 03:29:47,528] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 71, 值: 11.120000000000001
[2025-08-20 03:29:47,528] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[71] = 11.120000000000001
[2025-08-20 03:29:47,528] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:29:47,528] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.299999999999999
[2025-08-20 03:29:47,528] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.299999999999999 (from index 70)
[2025-08-20 03:29:47,529] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 03:29:47,529] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 03:29:47,529] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,529] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,529] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 03:29:47,529] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:29:47,529] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,530] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 03:29:47,530] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:29:47,530] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 03:29:47,530] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 03:29:47,530] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:29:47,530] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:29:47,531] [DEBUG] [backtesting:322] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 03:29:47,531] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,531] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,531] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 72
[2025-08-20 03:29:47,531] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,531] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@72
[2025-08-20 03:29:47,531] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=68:73, 当前值=9.8900
[2025-08-20 03:29:47,531] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.742
[2025-08-20 03:29:47,531] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.742
[2025-08-20 03:29:47,531] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 72, 值: 10.742
[2025-08-20 03:29:47,531] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[72] = 10.742
[2025-08-20 03:29:47,532] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:29:47,532] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=11.01
[2025-08-20 03:29:47,532] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.01 (from index 71)
[2025-08-20 03:29:47,532] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,532] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 72
[2025-08-20 03:29:47,532] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,532] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@72
[2025-08-20 03:29:47,532] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=66:73, 当前值=9.8900
[2025-08-20 03:29:47,532] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.90857142857143
[2025-08-20 03:29:47,532] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.90857142857143
[2025-08-20 03:29:47,532] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 72, 值: 10.90857142857143
[2025-08-20 03:29:47,532] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[72] = 10.90857142857143
[2025-08-20 03:29:47,532] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:29:47,532] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=11.120000000000001
[2025-08-20 03:29:47,532] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.120000000000001 (from index 71)
[2025-08-20 03:29:47,532] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 03:29:47,532] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 03:29:47,533] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,533] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,533] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 03:29:47,533] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:29:47,533] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,533] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 03:29:47,533] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:29:47,533] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 03:29:47,533] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 03:29:47,533] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,533] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,533] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 73
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@73
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=69:74, 当前值=9.7500
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.431999999999999
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.431999999999999
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 73, 值: 10.431999999999999
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[73] = 10.431999999999999
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:29:47,534] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.742
[2025-08-20 03:29:47,534] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.742 (from index 72)
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 73
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@73
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=67:74, 当前值=9.7500
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.67
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.67
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 73, 值: 10.67
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[73] = 10.67
[2025-08-20 03:29:47,534] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:29:47,534] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.90857142857143
[2025-08-20 03:29:47,534] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.90857142857143 (from index 72)
[2025-08-20 03:29:47,534] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 03:29:47,534] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 03:29:47,535] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,535] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,535] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 03:29:47,535] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:29:47,535] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,535] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 03:29:47,535] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:29:47,535] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 03:29:47,535] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 03:29:47,535] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,535] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 74
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@74
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=70:75, 当前值=9.8500
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.024
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.024
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 74, 值: 10.024
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[74] = 10.024
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:29:47,536] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.431999999999999
[2025-08-20 03:29:47,536] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.431999999999999 (from index 73)
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 74
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@74
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=68:75, 当前值=9.8500
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.472857142857142
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.472857142857142
[2025-08-20 03:29:47,536] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 74, 值: 10.472857142857142
[2025-08-20 03:29:47,537] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[74] = 10.472857142857142
[2025-08-20 03:29:47,537] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:29:47,537] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.67
[2025-08-20 03:29:47,537] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.67 (from index 73)
[2025-08-20 03:29:47,537] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 03:29:47,537] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 03:29:47,537] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,537] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,537] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 03:29:47,537] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:29:47,537] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,537] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 03:29:47,537] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:29:47,538] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 03:29:47,538] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 03:29:47,538] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,538] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,538] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 75
[2025-08-20 03:29:47,538] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,538] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@75
[2025-08-20 03:29:47,538] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=71:76, 当前值=9.9400
[2025-08-20 03:29:47,538] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.872
[2025-08-20 03:29:47,538] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.872
[2025-08-20 03:29:47,538] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 75, 值: 9.872
[2025-08-20 03:29:47,538] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[75] = 9.872
[2025-08-20 03:29:47,538] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:29:47,538] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.024
[2025-08-20 03:29:47,538] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.024 (from index 74)
[2025-08-20 03:29:47,538] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,539] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 75
[2025-08-20 03:29:47,539] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,539] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@75
[2025-08-20 03:29:47,539] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=69:76, 当前值=9.9400
[2025-08-20 03:29:47,539] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.278571428571428
[2025-08-20 03:29:47,539] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.278571428571428
[2025-08-20 03:29:47,539] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 75, 值: 10.278571428571428
[2025-08-20 03:29:47,539] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[75] = 10.278571428571428
[2025-08-20 03:29:47,539] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:29:47,539] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.472857142857142
[2025-08-20 03:29:47,539] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.472857142857142 (from index 74)
[2025-08-20 03:29:47,539] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:29:47,539] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 03:29:47,539] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,539] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,539] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:29:47,539] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:29:47,539] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,540] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 03:29:47,540] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:29:47,540] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:29:47,540] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 03:29:47,540] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,540] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,540] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 76
[2025-08-20 03:29:47,540] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,540] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@76
[2025-08-20 03:29:47,540] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=72:77, 当前值=9.9300
[2025-08-20 03:29:47,540] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.872
[2025-08-20 03:29:47,540] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.872
[2025-08-20 03:29:47,540] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 76, 值: 9.872
[2025-08-20 03:29:47,540] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[76] = 9.872
[2025-08-20 03:29:47,540] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:29:47,540] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:29:47,540] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 75)
[2025-08-20 03:29:47,540] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,541] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 76
[2025-08-20 03:29:47,541] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,541] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@76
[2025-08-20 03:29:47,541] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=70:77, 当前值=9.9300
[2025-08-20 03:29:47,541] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.998571428571427
[2025-08-20 03:29:47,541] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.998571428571427
[2025-08-20 03:29:47,541] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 76, 值: 9.998571428571427
[2025-08-20 03:29:47,541] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[76] = 9.998571428571427
[2025-08-20 03:29:47,541] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:29:47,541] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.278571428571428
[2025-08-20 03:29:47,541] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.278571428571428 (from index 75)
[2025-08-20 03:29:47,541] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:29:47,541] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 03:29:47,541] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,541] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,542] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:29:47,542] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:29:47,542] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,542] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 03:29:47,542] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:29:47,542] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:29:47,542] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 03:29:47,542] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,542] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,542] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 77
[2025-08-20 03:29:47,542] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@77
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=73:78, 当前值=9.8100
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.856
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.856
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 77, 值: 9.856
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[77] = 9.856
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:29:47,543] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.872
[2025-08-20 03:29:47,543] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 76)
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 77
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@77
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=71:78, 当前值=9.8100
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.87142857142857
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.87142857142857
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 77, 值: 9.87142857142857
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[77] = 9.87142857142857
[2025-08-20 03:29:47,543] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:29:47,543] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.998571428571427
[2025-08-20 03:29:47,543] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.998571428571427 (from index 76)
[2025-08-20 03:29:47,544] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 03:29:47,544] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 03:29:47,544] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,544] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,544] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 03:29:47,544] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:29:47,544] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,544] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 03:29:47,544] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:29:47,544] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 03:29:47,544] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 03:29:47,544] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 78
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@78
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=74:79, 当前值=9.7700
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.86
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.86
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 78, 值: 9.86
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[78] = 9.86
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 77 (当前索引: 78, 回溯周期: 1)
[2025-08-20 03:29:47,545] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.856
[2025-08-20 03:29:47,545] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.856 (from index 77)
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 78
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@78
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=72:79, 当前值=9.7700
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.848571428571429
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.848571428571429
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 78, 值: 9.848571428571429
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[78] = 9.848571428571429
[2025-08-20 03:29:47,545] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 77 (当前索引: 78, 回溯周期: 1)
[2025-08-20 03:29:47,545] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.87142857142857
[2025-08-20 03:29:47,546] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.87142857142857 (from index 77)
[2025-08-20 03:29:47,546] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 03:29:47,546] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.848571428571429
[2025-08-20 03:29:47,546] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:29:47,546] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:29:47,546] [DEBUG] [backtesting:322] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 03:29:47,547] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 79
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@79
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=75:80, 当前值=9.8500
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.86
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.86
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 79, 值: 9.86
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[79] = 9.86
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:29:47,547] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 03:29:47,547] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 78)
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 79
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@79
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=73:80, 当前值=9.8500
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.842857142857143
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.842857142857143
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 79, 值: 9.842857142857143
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[79] = 9.842857142857143
[2025-08-20 03:29:47,547] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:29:47,548] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.848571428571429
[2025-08-20 03:29:47,548] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.848571428571429 (from index 78)
[2025-08-20 03:29:47,548] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 03:29:47,548] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 03:29:47,548] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,548] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,548] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 03:29:47,548] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:29:47,548] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,548] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 03:29:47,548] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:29:47,548] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 03:29:47,548] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 03:29:47,548] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 80
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@80
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=76:81, 当前值=9.7200
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.815999999999999
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.815999999999999
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 80, 值: 9.815999999999999
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[80] = 9.815999999999999
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:29:47,549] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.86
[2025-08-20 03:29:47,549] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 79)
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 80
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@80
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=74:81, 当前值=9.7200
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.838571428571429
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.838571428571429
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 80, 值: 9.838571428571429
[2025-08-20 03:29:47,549] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[80] = 9.838571428571429
[2025-08-20 03:29:47,550] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:29:47,550] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.842857142857143
[2025-08-20 03:29:47,550] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.842857142857143 (from index 79)
[2025-08-20 03:29:47,550] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 03:29:47,550] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 03:29:47,550] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,550] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,550] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 03:29:47,550] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:29:47,550] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,550] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 03:29:47,550] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:29:47,550] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 03:29:47,550] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 03:29:47,551] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:29:47,551] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:29:47,552] [DEBUG] [backtesting:322] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 03:29:47,552] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,552] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,553] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 81
[2025-08-20 03:29:47,553] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,553] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@81
[2025-08-20 03:29:47,553] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=77:82, 当前值=9.7100
[2025-08-20 03:29:47,553] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.772
[2025-08-20 03:29:47,553] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.772
[2025-08-20 03:29:47,553] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 81, 值: 9.772
[2025-08-20 03:29:47,553] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[81] = 9.772
[2025-08-20 03:29:47,554] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:29:47,554] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.815999999999999
[2025-08-20 03:29:47,554] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.815999999999999 (from index 80)
[2025-08-20 03:29:47,554] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,555] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 81
[2025-08-20 03:29:47,555] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,555] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@81
[2025-08-20 03:29:47,555] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=75:82, 当前值=9.7100
[2025-08-20 03:29:47,555] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.81857142857143
[2025-08-20 03:29:47,555] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.81857142857143
[2025-08-20 03:29:47,555] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 81, 值: 9.81857142857143
[2025-08-20 03:29:47,556] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[81] = 9.81857142857143
[2025-08-20 03:29:47,556] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:29:47,556] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.838571428571429
[2025-08-20 03:29:47,557] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.838571428571429 (from index 80)
[2025-08-20 03:29:47,557] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 03:29:47,557] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 03:29:47,558] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,558] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,559] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 03:29:47,559] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:29:47,559] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,560] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 03:29:47,560] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:29:47,562] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 03:29:47,562] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 03:29:47,563] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,563] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 82
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@82
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=78:83, 当前值=9.6000
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.73
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.73
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 82, 值: 9.73
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[82] = 9.73
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:29:47,564] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.772
[2025-08-20 03:29:47,564] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.772 (from index 81)
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 82
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@82
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=76:83, 当前值=9.6000
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.77
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.77
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 82, 值: 9.77
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[82] = 9.77
[2025-08-20 03:29:47,564] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:29:47,565] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.81857142857143
[2025-08-20 03:29:47,565] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.81857142857143 (from index 81)
[2025-08-20 03:29:47,565] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 03:29:47,565] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 03:29:47,565] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,565] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,565] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 03:29:47,565] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:29:47,565] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,565] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 03:29:47,565] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:29:47,565] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 03:29:47,566] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 03:29:47,566] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 83
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@83
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=79:84, 当前值=9.5900
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.693999999999999
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.693999999999999
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 83, 值: 9.693999999999999
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[83] = 9.693999999999999
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:29:47,566] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.73
[2025-08-20 03:29:47,566] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.73 (from index 82)
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 83
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@83
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=77:84, 当前值=9.5900
[2025-08-20 03:29:47,566] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.721428571428572
[2025-08-20 03:29:47,567] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.721428571428572
[2025-08-20 03:29:47,567] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 83, 值: 9.721428571428572
[2025-08-20 03:29:47,567] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[83] = 9.721428571428572
[2025-08-20 03:29:47,567] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:29:47,567] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.77
[2025-08-20 03:29:47,567] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.77 (from index 82)
[2025-08-20 03:29:47,567] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 03:29:47,567] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 03:29:47,567] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,567] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,567] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 03:29:47,567] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:29:47,567] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,568] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 03:29:47,568] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:29:47,568] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 03:29:47,569] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 03:29:47,569] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,569] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,569] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 84
[2025-08-20 03:29:47,569] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,569] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@84
[2025-08-20 03:29:47,569] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=80:85, 当前值=9.9400
[2025-08-20 03:29:47,569] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.712
[2025-08-20 03:29:47,569] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.712
[2025-08-20 03:29:47,569] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 84, 值: 9.712
[2025-08-20 03:29:47,569] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[84] = 9.712
[2025-08-20 03:29:47,569] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:29:47,570] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.693999999999999
[2025-08-20 03:29:47,570] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.693999999999999 (from index 83)
[2025-08-20 03:29:47,570] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,570] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 84
[2025-08-20 03:29:47,570] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,570] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@84
[2025-08-20 03:29:47,570] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=78:85, 当前值=9.9400
[2025-08-20 03:29:47,570] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.74
[2025-08-20 03:29:47,570] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.74
[2025-08-20 03:29:47,570] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 84, 值: 9.74
[2025-08-20 03:29:47,570] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[84] = 9.74
[2025-08-20 03:29:47,570] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:29:47,570] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.721428571428572
[2025-08-20 03:29:47,570] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.721428571428572 (from index 83)
[2025-08-20 03:29:47,570] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 03:29:47,570] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 03:29:47,570] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,571] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,571] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 03:29:47,571] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:29:47,571] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,571] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 03:29:47,571] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:29:47,575] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 03:29:47,575] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 03:29:47,575] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,576] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,576] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 85
[2025-08-20 03:29:47,576] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,576] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@85
[2025-08-20 03:29:47,576] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=81:86, 当前值=9.8000
[2025-08-20 03:29:47,576] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.728
[2025-08-20 03:29:47,576] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.728
[2025-08-20 03:29:47,576] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 85, 值: 9.728
[2025-08-20 03:29:47,576] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[85] = 9.728
[2025-08-20 03:29:47,576] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:29:47,576] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.712
[2025-08-20 03:29:47,577] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.712 (from index 84)
[2025-08-20 03:29:47,577] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,577] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 85
[2025-08-20 03:29:47,577] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,577] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@85
[2025-08-20 03:29:47,577] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=79:86, 当前值=9.8000
[2025-08-20 03:29:47,577] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.744285714285713
[2025-08-20 03:29:47,577] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.744285714285713
[2025-08-20 03:29:47,577] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 85, 值: 9.744285714285713
[2025-08-20 03:29:47,577] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[85] = 9.744285714285713
[2025-08-20 03:29:47,577] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:29:47,577] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.74
[2025-08-20 03:29:47,577] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.74 (from index 84)
[2025-08-20 03:29:47,577] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 03:29:47,577] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 03:29:47,577] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,577] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,577] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 03:29:47,577] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:29:47,578] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,578] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 03:29:47,578] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:29:47,578] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 03:29:47,578] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 03:29:47,578] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,578] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,578] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 86
[2025-08-20 03:29:47,578] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,578] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@86
[2025-08-20 03:29:47,578] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=82:87, 当前值=9.8800
[2025-08-20 03:29:47,578] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.762
[2025-08-20 03:29:47,578] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=9.762
[2025-08-20 03:29:47,578] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 86, 值: 9.762
[2025-08-20 03:29:47,578] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[86] = 9.762
[2025-08-20 03:29:47,578] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 85 (当前索引: 86, 回溯周期: 1)
[2025-08-20 03:29:47,578] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.728
[2025-08-20 03:29:47,579] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.728 (from index 85)
[2025-08-20 03:29:47,579] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,579] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 86
[2025-08-20 03:29:47,579] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,579] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@86
[2025-08-20 03:29:47,579] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=80:87, 当前值=9.8800
[2025-08-20 03:29:47,579] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.748571428571427
[2025-08-20 03:29:47,579] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.748571428571427
[2025-08-20 03:29:47,579] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 86, 值: 9.748571428571427
[2025-08-20 03:29:47,579] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[86] = 9.748571428571427
[2025-08-20 03:29:47,579] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 85 (当前索引: 86, 回溯周期: 1)
[2025-08-20 03:29:47,579] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.744285714285713
[2025-08-20 03:29:47,579] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.744285714285713 (from index 85)
[2025-08-20 03:29:47,579] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.762
[2025-08-20 03:29:47,579] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.748571428571427
[2025-08-20 03:29:47,579] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = True
[2025-08-20 03:29:47,579] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:29:47,579] [DEBUG] [backtesting:322] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 03:29:47,579] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,580] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,580] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 87
[2025-08-20 03:29:47,580] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,580] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@87
[2025-08-20 03:29:47,580] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=83:88, 当前值=10.8700
[2025-08-20 03:29:47,580] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.016
[2025-08-20 03:29:47,580] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.016
[2025-08-20 03:29:47,580] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 87, 值: 10.016
[2025-08-20 03:29:47,580] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[87] = 10.016
[2025-08-20 03:29:47,580] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:29:47,580] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=9.762
[2025-08-20 03:29:47,580] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.762 (from index 86)
[2025-08-20 03:29:47,580] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,581] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 87
[2025-08-20 03:29:47,581] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,581] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@87
[2025-08-20 03:29:47,581] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=81:88, 当前值=10.8700
[2025-08-20 03:29:47,581] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=9.912857142857144
[2025-08-20 03:29:47,581] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=9.912857142857144
[2025-08-20 03:29:47,581] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 87, 值: 9.912857142857144
[2025-08-20 03:29:47,581] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[87] = 9.912857142857144
[2025-08-20 03:29:47,581] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:29:47,581] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.748571428571427
[2025-08-20 03:29:47,581] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.748571428571427 (from index 86)
[2025-08-20 03:29:47,581] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 03:29:47,581] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 03:29:47,581] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,581] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,581] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 03:29:47,581] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:29:47,581] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,582] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 03:29:47,582] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:29:47,582] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 03:29:47,582] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 03:29:47,582] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,582] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,582] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 88
[2025-08-20 03:29:47,582] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,582] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@88
[2025-08-20 03:29:47,582] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=84:89, 当前值=11.2400
[2025-08-20 03:29:47,582] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.346
[2025-08-20 03:29:47,582] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.346
[2025-08-20 03:29:47,582] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 88, 值: 10.346
[2025-08-20 03:29:47,582] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[88] = 10.346
[2025-08-20 03:29:47,583] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:29:47,583] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.016
[2025-08-20 03:29:47,583] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.016 (from index 87)
[2025-08-20 03:29:47,583] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,583] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 88
[2025-08-20 03:29:47,583] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,583] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@88
[2025-08-20 03:29:47,583] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=82:89, 当前值=11.2400
[2025-08-20 03:29:47,583] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.131428571428572
[2025-08-20 03:29:47,583] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.131428571428572
[2025-08-20 03:29:47,583] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 88, 值: 10.131428571428572
[2025-08-20 03:29:47,583] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[88] = 10.131428571428572
[2025-08-20 03:29:47,583] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:29:47,583] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=9.912857142857144
[2025-08-20 03:29:47,583] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.912857142857144 (from index 87)
[2025-08-20 03:29:47,583] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 03:29:47,583] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 03:29:47,583] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,584] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,584] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 03:29:47,584] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:29:47,584] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,584] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 03:29:47,584] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:29:47,584] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 03:29:47,584] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 03:29:47,584] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,584] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,584] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 89
[2025-08-20 03:29:47,584] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,584] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@89
[2025-08-20 03:29:47,584] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=85:90, 当前值=10.8900
[2025-08-20 03:29:47,584] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.536
[2025-08-20 03:29:47,584] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.536
[2025-08-20 03:29:47,584] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 89, 值: 10.536
[2025-08-20 03:29:47,585] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[89] = 10.536
[2025-08-20 03:29:47,585] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:29:47,585] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.346
[2025-08-20 03:29:47,585] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.346 (from index 88)
[2025-08-20 03:29:47,585] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,585] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 89
[2025-08-20 03:29:47,585] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,585] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@89
[2025-08-20 03:29:47,585] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=83:90, 当前值=10.8900
[2025-08-20 03:29:47,585] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.315714285714284
[2025-08-20 03:29:47,585] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.315714285714284
[2025-08-20 03:29:47,585] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 89, 值: 10.315714285714284
[2025-08-20 03:29:47,585] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[89] = 10.315714285714284
[2025-08-20 03:29:47,585] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:29:47,586] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.131428571428572
[2025-08-20 03:29:47,586] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.131428571428572 (from index 88)
[2025-08-20 03:29:47,586] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 03:29:47,586] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 03:29:47,586] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,586] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,586] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 03:29:47,586] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:29:47,586] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,586] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 03:29:47,586] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:29:47,586] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 03:29:47,587] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 03:29:47,587] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 90
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@90
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=86:91, 当前值=10.9600
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.768
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.768
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 90, 值: 10.768
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[90] = 10.768
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:29:47,587] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.536
[2025-08-20 03:29:47,587] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.536 (from index 89)
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 90
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@90
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=84:91, 当前值=10.9600
[2025-08-20 03:29:47,587] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.51142857142857
[2025-08-20 03:29:47,588] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.51142857142857
[2025-08-20 03:29:47,588] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 90, 值: 10.51142857142857
[2025-08-20 03:29:47,588] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[90] = 10.51142857142857
[2025-08-20 03:29:47,588] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:29:47,588] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.315714285714284
[2025-08-20 03:29:47,588] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.315714285714284 (from index 89)
[2025-08-20 03:29:47,588] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 03:29:47,588] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 03:29:47,588] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,588] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,588] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 03:29:47,588] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:29:47,588] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,588] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:29:47,589] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 03:29:47,589] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 03:29:47,589] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 91
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@91
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=87:92, 当前值=10.6400
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.92
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.92
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 91, 值: 10.92
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[91] = 10.92
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:29:47,589] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.768
[2025-08-20 03:29:47,589] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.768 (from index 90)
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 91
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@91
[2025-08-20 03:29:47,589] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=85:92, 当前值=10.6400
[2025-08-20 03:29:47,590] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.611428571428572
[2025-08-20 03:29:47,590] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.611428571428572
[2025-08-20 03:29:47,590] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 91, 值: 10.611428571428572
[2025-08-20 03:29:47,590] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[91] = 10.611428571428572
[2025-08-20 03:29:47,590] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:29:47,590] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.51142857142857
[2025-08-20 03:29:47,590] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.51142857142857 (from index 90)
[2025-08-20 03:29:47,590] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 03:29:47,590] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 03:29:47,590] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,590] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,590] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 03:29:47,590] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:29:47,590] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,591] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 03:29:47,591] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:29:47,591] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 03:29:47,591] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 03:29:47,591] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,591] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,591] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 92
[2025-08-20 03:29:47,591] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,591] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@92
[2025-08-20 03:29:47,591] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=88:93, 当前值=10.2700
[2025-08-20 03:29:47,591] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.8
[2025-08-20 03:29:47,591] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.8
[2025-08-20 03:29:47,591] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 92, 值: 10.8
[2025-08-20 03:29:47,591] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[92] = 10.8
[2025-08-20 03:29:47,591] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:29:47,591] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.92
[2025-08-20 03:29:47,592] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.92 (from index 91)
[2025-08-20 03:29:47,592] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,592] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 92
[2025-08-20 03:29:47,592] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,592] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@92
[2025-08-20 03:29:47,592] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=86:93, 当前值=10.2700
[2025-08-20 03:29:47,592] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.678571428571429
[2025-08-20 03:29:47,592] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.678571428571429
[2025-08-20 03:29:47,592] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 92, 值: 10.678571428571429
[2025-08-20 03:29:47,592] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[92] = 10.678571428571429
[2025-08-20 03:29:47,592] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:29:47,592] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.611428571428572
[2025-08-20 03:29:47,592] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.611428571428572 (from index 91)
[2025-08-20 03:29:47,592] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 03:29:47,592] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 03:29:47,592] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,592] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,592] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 03:29:47,592] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:29:47,592] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,593] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 03:29:47,593] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:29:47,593] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 03:29:47,593] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 03:29:47,593] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,593] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,593] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 93
[2025-08-20 03:29:47,593] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,593] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@93
[2025-08-20 03:29:47,593] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=89:94, 当前值=10.3000
[2025-08-20 03:29:47,593] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.612
[2025-08-20 03:29:47,593] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.612
[2025-08-20 03:29:47,593] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 93, 值: 10.612
[2025-08-20 03:29:47,593] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[93] = 10.612
[2025-08-20 03:29:47,593] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:29:47,594] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.8
[2025-08-20 03:29:47,594] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.8 (from index 92)
[2025-08-20 03:29:47,594] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,594] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 93
[2025-08-20 03:29:47,594] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,594] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@93
[2025-08-20 03:29:47,594] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=87:94, 当前值=10.3000
[2025-08-20 03:29:47,594] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.73857142857143
[2025-08-20 03:29:47,594] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.73857142857143
[2025-08-20 03:29:47,594] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 93, 值: 10.73857142857143
[2025-08-20 03:29:47,594] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[93] = 10.73857142857143
[2025-08-20 03:29:47,594] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:29:47,594] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.678571428571429
[2025-08-20 03:29:47,594] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.678571428571429 (from index 92)
[2025-08-20 03:29:47,594] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 03:29:47,594] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 03:29:47,594] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,594] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,594] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 03:29:47,594] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:29:47,594] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,595] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 03:29:47,595] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:29:47,595] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 03:29:47,595] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 03:29:47,595] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = True
[2025-08-20 03:29:47,595] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:29:47,595] [DEBUG] [backtesting:322] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 03:29:47,595] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 94
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['5']
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,5)@94
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=5, 数据范围=90:95, 当前值=10.2800
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.49
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,5=10.49
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 94, 值: 10.49
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,5)[94] = 10.49
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:29:47,596] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.612
[2025-08-20 03:29:47,596] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.612 (from index 93)
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:312] [conn:N/A] 计算指标 SMA 开始, 当前索引: 94
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:313] [conn:N/A] 数据列: close, 参数: ['7']
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:314] [conn:N/A] 缓存键: SMA(close,7)@94
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:340] [conn:N/A] SMA计算详情: 周期=7, 数据范围=88:95, 当前值=10.2800
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:357] [conn:N/A] 指标计算结果: SMA=10.654285714285715
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:359] [conn:N/A] SMA计算详情: close,7=10.654285714285715
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:386] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 94, 值: 10.654285714285715
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:403] [conn:N/A] 存储指标 SMA(close,7)[94] = 10.654285714285715
[2025-08-20 03:29:47,596] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:29:47,596] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.73857142857143
[2025-08-20 03:29:47,597] [INFO] [rule_parser:548] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.73857142857143 (from index 93)
[2025-08-20 03:29:47,597] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 03:29:47,597] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 03:29:47,597] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) < REF(SMA(close,7), 1)) & (SMA(close,5) > SMA(close,7)) = False
[2025-08-20 03:29:47,597] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:29:47,597] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 03:29:47,597] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:29:47,597] [DEBUG] [rule_parser:496] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:29:47,597] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 03:29:47,597] [DEBUG] [rule_parser:521] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:29:47,598] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,5)=10.49
[2025-08-20 03:29:47,598] [INFO] [rule_parser:307] [conn:N/A] [SMA_RESULT] SMA(close,7)=10.654285714285715
[2025-08-20 03:29:47,598] [INFO] [rule_parser:114] [conn:N/A] [RULE_RESULT] (REF(SMA(close,5), 1) > REF(SMA(close,7), 1)) & (SMA(close,5) < SMA(close,7)) = False
[2025-08-20 03:29:47,598] [DEBUG] [backtesting:278] [conn:N/A] 回测完成
[2025-08-20 03:29:47,598] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 03:31:22,752] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:31:22,753] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 03:31:22,753] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:31:22,778] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 03:31:22,788] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 03:31:22,825] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 03:31:22,839] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:31:22,839] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 03:31:22,839] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 03:31:22,842] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:31:22,842] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:31:22,843] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:31:22,843] [DEBUG] [backtesting:548] [conn:N/A] 注册策略调度处理器: 82c0cd83-3a06-4131-aea3-b368672b688e
[2025-08-20 03:31:22,843] [INFO] [backtesting:551] [conn:N/A] 策略注册成功 | ID: 82c0cd83-3a06-4131-aea3-b368672b688e | 名称: 自定义规则策略
[2025-08-20 03:31:22,843] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 03:31:22,843] [DEBUG] [backtesting:225] [conn:N/A] 识别数据频率为：日线
[2025-08-20 03:31:22,845] [DEBUG] [backtesting:251] [conn:N/A] 开始回测...
[2025-08-20 03:31:22,846] [INFO] [backtesting:598] [conn:N/A] 回测系统初始化开始
[2025-08-20 03:31:22,846] [INFO] [backtesting:610] [conn:N/A] 策略初始化完成: 82c0cd83-3a06-4131-aea3-b368672b688e
[2025-08-20 03:31:22,846] [INFO] [backtesting:628] [conn:N/A] 回测系统初始化完成
[2025-08-20 03:31:22,846] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,847] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:31:22,847] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 03:31:22,847] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,848] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:31:22,848] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 03:31:22,849] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,849] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:31:22,849] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,849] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:31:22,851] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,851] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:31:22,851] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 03:31:22,852] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,852] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:31:22,852] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 03:31:22,853] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,853] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:31:22,853] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,854] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:31:22,854] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,854] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:31:22,855] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 1)
[2025-08-20 03:31:22,855] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,855] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:31:22,855] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 1)
[2025-08-20 03:31:22,855] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,856] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:31:22,856] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,857] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:31:22,858] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,858] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:31:22,858] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 2)
[2025-08-20 03:31:22,858] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,859] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:31:22,859] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 2)
[2025-08-20 03:31:22,859] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,859] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:31:22,859] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,860] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:31:22,860] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,861] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:31:22,861] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 3)
[2025-08-20 03:31:22,861] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,861] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:31:22,862] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 3)
[2025-08-20 03:31:22,863] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,863] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:31:22,863] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,863] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:31:22,864] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,864] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=1:6, 当前值=5.6700
[2025-08-20 03:31:22,865] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.093999999999999
[2025-08-20 03:31:22,865] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.093999999999999
[2025-08-20 03:31:22,865] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 5, 值: 6.093999999999999
[2025-08-20 03:31:22,865] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[5] = 6.093999999999999
[2025-08-20 03:31:22,865] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:31:22,865] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 4)
[2025-08-20 03:31:22,865] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,865] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:31:22,866] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 4)
[2025-08-20 03:31:22,867] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,867] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:31:22,867] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,867] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:31:22,868] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,868] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=2:7, 当前值=5.9700
[2025-08-20 03:31:22,868] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=5.964
[2025-08-20 03:31:22,869] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=5.964
[2025-08-20 03:31:22,869] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 6, 值: 5.964
[2025-08-20 03:31:22,869] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[6] = 5.964
[2025-08-20 03:31:22,869] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:31:22,870] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.093999999999999 (from index 5)
[2025-08-20 03:31:22,870] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,870] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:31:22,870] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 5)
[2025-08-20 03:31:22,871] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,872] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:31:22,872] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,872] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:31:22,883] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,883] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=3:8, 当前值=6.0600
[2025-08-20 03:31:22,883] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=5.848
[2025-08-20 03:31:22,883] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=5.848
[2025-08-20 03:31:22,883] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 7, 值: 5.848
[2025-08-20 03:31:22,883] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[7] = 5.848
[2025-08-20 03:31:22,887] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:31:22,890] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.964 (from index 6)
[2025-08-20 03:31:22,890] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,891] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=1:8, 当前值=6.0600
[2025-08-20 03:31:22,891] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.071428571428571
[2025-08-20 03:31:22,891] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.071428571428571
[2025-08-20 03:31:22,891] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 7, 值: 6.071428571428571
[2025-08-20 03:31:22,893] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[7] = 6.071428571428571
[2025-08-20 03:31:22,894] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:31:22,894] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 6)
[2025-08-20 03:31:22,895] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,895] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:31:22,895] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,896] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:31:22,897] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:31:22,898] [DEBUG] [backtesting:322] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 03:31:22,898] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:22,899] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,899] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=4:9, 当前值=6.2200
[2025-08-20 03:31:22,899] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=5.896
[2025-08-20 03:31:22,899] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=5.896
[2025-08-20 03:31:22,899] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 8, 值: 5.896
[2025-08-20 03:31:22,899] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[8] = 5.896
[2025-08-20 03:31:22,899] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:31:22,900] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.848 (from index 7)
[2025-08-20 03:31:22,900] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,900] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=2:9, 当前值=6.2200
[2025-08-20 03:31:22,900] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.014285714285714
[2025-08-20 03:31:22,900] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.014285714285714
[2025-08-20 03:31:22,900] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 8, 值: 6.014285714285714
[2025-08-20 03:31:22,900] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[8] = 6.014285714285714
[2025-08-20 03:31:22,900] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:31:22,901] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.071428571428571 (from index 7)
[2025-08-20 03:31:22,901] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,901] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:31:22,902] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,902] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:31:22,903] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,903] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=5:10, 当前值=6.2300
[2025-08-20 03:31:22,903] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.029999999999999
[2025-08-20 03:31:22,903] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.029999999999999
[2025-08-20 03:31:22,903] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 9, 值: 6.029999999999999
[2025-08-20 03:31:22,903] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[9] = 6.029999999999999
[2025-08-20 03:31:22,903] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 8 (当前索引: 9, 回溯周期: 1)
[2025-08-20 03:31:22,903] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.896 (from index 8)
[2025-08-20 03:31:22,903] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,904] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=3:10, 当前值=6.2300
[2025-08-20 03:31:22,904] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=5.9557142857142855
[2025-08-20 03:31:22,904] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=5.9557142857142855
[2025-08-20 03:31:22,904] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 9, 值: 5.9557142857142855
[2025-08-20 03:31:22,904] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[9] = 5.9557142857142855
[2025-08-20 03:31:22,904] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 8 (当前索引: 9, 回溯周期: 1)
[2025-08-20 03:31:22,904] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.014285714285714 (from index 8)
[2025-08-20 03:31:22,905] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:31:22,905] [DEBUG] [backtesting:322] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 03:31:22,905] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:22,906] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,906] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=6:11, 当前值=6.1700
[2025-08-20 03:31:22,906] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.13
[2025-08-20 03:31:22,907] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.13
[2025-08-20 03:31:22,907] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 10, 值: 6.13
[2025-08-20 03:31:22,907] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[10] = 6.13
[2025-08-20 03:31:22,907] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:31:22,907] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.029999999999999 (from index 9)
[2025-08-20 03:31:22,907] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,907] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=4:11, 当前值=6.1700
[2025-08-20 03:31:22,907] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=5.982857142857143
[2025-08-20 03:31:22,907] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=5.982857142857143
[2025-08-20 03:31:22,908] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 10, 值: 5.982857142857143
[2025-08-20 03:31:22,908] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[10] = 5.982857142857143
[2025-08-20 03:31:22,908] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:31:22,908] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.9557142857142855 (from index 9)
[2025-08-20 03:31:22,909] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,909] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:31:22,909] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,909] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:31:22,910] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,911] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=7:12, 当前值=6.7900
[2025-08-20 03:31:22,911] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.294
[2025-08-20 03:31:22,911] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.294
[2025-08-20 03:31:22,911] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 11, 值: 6.294
[2025-08-20 03:31:22,911] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[11] = 6.294
[2025-08-20 03:31:22,912] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:31:22,912] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.13 (from index 10)
[2025-08-20 03:31:22,912] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,912] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=5:12, 当前值=6.7900
[2025-08-20 03:31:22,912] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.158571428571428
[2025-08-20 03:31:22,912] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.158571428571428
[2025-08-20 03:31:22,912] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 11, 值: 6.158571428571428
[2025-08-20 03:31:22,913] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[11] = 6.158571428571428
[2025-08-20 03:31:22,913] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:31:22,913] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.982857142857143 (from index 10)
[2025-08-20 03:31:22,914] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,914] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:31:22,914] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,915] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:31:22,916] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,916] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=8:13, 当前值=6.3400
[2025-08-20 03:31:22,916] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.35
[2025-08-20 03:31:22,916] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.35
[2025-08-20 03:31:22,916] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 12, 值: 6.35
[2025-08-20 03:31:22,916] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[12] = 6.35
[2025-08-20 03:31:22,916] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:31:22,917] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.294 (from index 11)
[2025-08-20 03:31:22,917] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,917] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=6:13, 当前值=6.3400
[2025-08-20 03:31:22,917] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.2542857142857144
[2025-08-20 03:31:22,917] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.2542857142857144
[2025-08-20 03:31:22,917] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 12, 值: 6.2542857142857144
[2025-08-20 03:31:22,917] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[12] = 6.2542857142857144
[2025-08-20 03:31:22,918] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:31:22,918] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.158571428571428 (from index 11)
[2025-08-20 03:31:22,919] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,919] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:31:22,919] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,919] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:31:22,920] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,920] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=9:14, 当前值=6.9700
[2025-08-20 03:31:22,920] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.5
[2025-08-20 03:31:22,920] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.5
[2025-08-20 03:31:22,920] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 13, 值: 6.5
[2025-08-20 03:31:22,920] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[13] = 6.5
[2025-08-20 03:31:22,920] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:31:22,921] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.35 (from index 12)
[2025-08-20 03:31:22,921] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,921] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=7:14, 当前值=6.9700
[2025-08-20 03:31:22,921] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.397142857142858
[2025-08-20 03:31:22,921] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.397142857142858
[2025-08-20 03:31:22,921] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 13, 值: 6.397142857142858
[2025-08-20 03:31:22,921] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[13] = 6.397142857142858
[2025-08-20 03:31:22,921] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:31:22,921] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.2542857142857144 (from index 12)
[2025-08-20 03:31:22,922] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,922] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:31:22,922] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,922] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:31:22,923] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,923] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=10:15, 当前值=6.8200
[2025-08-20 03:31:22,923] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.618
[2025-08-20 03:31:22,923] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.618
[2025-08-20 03:31:22,923] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 14, 值: 6.618
[2025-08-20 03:31:22,923] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[14] = 6.618
[2025-08-20 03:31:22,923] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:31:22,924] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.5 (from index 13)
[2025-08-20 03:31:22,924] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,924] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=8:15, 当前值=6.8200
[2025-08-20 03:31:22,924] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.505714285714285
[2025-08-20 03:31:22,924] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.505714285714285
[2025-08-20 03:31:22,924] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 14, 值: 6.505714285714285
[2025-08-20 03:31:22,924] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[14] = 6.505714285714285
[2025-08-20 03:31:22,924] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:31:22,924] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.397142857142858 (from index 13)
[2025-08-20 03:31:22,925] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,925] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:31:22,925] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,926] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:31:22,927] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,927] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=11:16, 当前值=6.1800
[2025-08-20 03:31:22,927] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.62
[2025-08-20 03:31:22,927] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.62
[2025-08-20 03:31:22,927] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 15, 值: 6.62
[2025-08-20 03:31:22,927] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[15] = 6.62
[2025-08-20 03:31:22,927] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:31:22,927] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.618 (from index 14)
[2025-08-20 03:31:22,928] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,928] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=9:16, 当前值=6.1800
[2025-08-20 03:31:22,928] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.5
[2025-08-20 03:31:22,928] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.5
[2025-08-20 03:31:22,928] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 15, 值: 6.5
[2025-08-20 03:31:22,928] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[15] = 6.5
[2025-08-20 03:31:22,928] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:31:22,928] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.505714285714285 (from index 14)
[2025-08-20 03:31:22,929] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,929] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:31:22,929] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,929] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:31:22,930] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,930] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=12:17, 当前值=5.9200
[2025-08-20 03:31:22,930] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.446
[2025-08-20 03:31:22,930] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.446
[2025-08-20 03:31:22,930] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 16, 值: 6.446
[2025-08-20 03:31:22,931] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[16] = 6.446
[2025-08-20 03:31:22,931] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:31:22,931] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.62 (from index 15)
[2025-08-20 03:31:22,931] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,931] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=10:17, 当前值=5.9200
[2025-08-20 03:31:22,931] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.4557142857142855
[2025-08-20 03:31:22,931] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.4557142857142855
[2025-08-20 03:31:22,931] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 16, 值: 6.4557142857142855
[2025-08-20 03:31:22,931] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[16] = 6.4557142857142855
[2025-08-20 03:31:22,931] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:31:22,931] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.5 (from index 15)
[2025-08-20 03:31:22,932] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,933] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:31:22,933] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,933] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:31:22,933] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:31:22,934] [DEBUG] [backtesting:322] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 03:31:22,934] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:22,934] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,934] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=13:18, 当前值=5.9400
[2025-08-20 03:31:22,934] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.366
[2025-08-20 03:31:22,934] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.366
[2025-08-20 03:31:22,934] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 17, 值: 6.366
[2025-08-20 03:31:22,935] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[17] = 6.366
[2025-08-20 03:31:22,935] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:31:22,935] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.446 (from index 16)
[2025-08-20 03:31:22,935] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,935] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=11:18, 当前值=5.9400
[2025-08-20 03:31:22,935] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.422857142857143
[2025-08-20 03:31:22,935] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.422857142857143
[2025-08-20 03:31:22,935] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 17, 值: 6.422857142857143
[2025-08-20 03:31:22,935] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[17] = 6.422857142857143
[2025-08-20 03:31:22,935] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:31:22,936] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.4557142857142855 (from index 16)
[2025-08-20 03:31:22,936] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,936] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:31:22,936] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,937] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:31:22,938] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,938] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=14:19, 当前值=6.0900
[2025-08-20 03:31:22,938] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.1899999999999995
[2025-08-20 03:31:22,938] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.1899999999999995
[2025-08-20 03:31:22,938] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 18, 值: 6.1899999999999995
[2025-08-20 03:31:22,938] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[18] = 6.1899999999999995
[2025-08-20 03:31:22,938] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:31:22,938] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.366 (from index 17)
[2025-08-20 03:31:22,939] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,939] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=12:19, 当前值=6.0900
[2025-08-20 03:31:22,939] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.322857142857143
[2025-08-20 03:31:22,939] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.322857142857143
[2025-08-20 03:31:22,939] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 18, 值: 6.322857142857143
[2025-08-20 03:31:22,939] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[18] = 6.322857142857143
[2025-08-20 03:31:22,939] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:31:22,939] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.422857142857143 (from index 17)
[2025-08-20 03:31:22,940] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,940] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:31:22,940] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,940] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:31:22,941] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,941] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=15:20, 当前值=6.1000
[2025-08-20 03:31:22,941] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.046
[2025-08-20 03:31:22,941] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.046
[2025-08-20 03:31:22,941] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 19, 值: 6.046
[2025-08-20 03:31:22,941] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[19] = 6.046
[2025-08-20 03:31:22,941] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:31:22,942] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.1899999999999995 (from index 18)
[2025-08-20 03:31:22,942] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,942] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=13:20, 当前值=6.1000
[2025-08-20 03:31:22,942] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.288571428571429
[2025-08-20 03:31:22,942] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.288571428571429
[2025-08-20 03:31:22,942] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 19, 值: 6.288571428571429
[2025-08-20 03:31:22,942] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[19] = 6.288571428571429
[2025-08-20 03:31:22,942] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:31:22,943] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.322857142857143 (from index 18)
[2025-08-20 03:31:22,943] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,943] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:31:22,944] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,944] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:31:22,945] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,946] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=16:21, 当前值=6.7100
[2025-08-20 03:31:22,946] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.152
[2025-08-20 03:31:22,946] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.152
[2025-08-20 03:31:22,946] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 20, 值: 6.152
[2025-08-20 03:31:22,946] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[20] = 6.152
[2025-08-20 03:31:22,946] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:31:22,946] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.046 (from index 19)
[2025-08-20 03:31:22,946] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,947] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=14:21, 当前值=6.7100
[2025-08-20 03:31:22,947] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.251428571428571
[2025-08-20 03:31:22,947] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.251428571428571
[2025-08-20 03:31:22,947] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 20, 值: 6.251428571428571
[2025-08-20 03:31:22,947] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[20] = 6.251428571428571
[2025-08-20 03:31:22,947] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:31:22,947] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.288571428571429 (from index 19)
[2025-08-20 03:31:22,948] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,948] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:31:22,948] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,949] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:31:22,949] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,949] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=17:22, 当前值=7.3800
[2025-08-20 03:31:22,950] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.444
[2025-08-20 03:31:22,950] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.444
[2025-08-20 03:31:22,950] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 21, 值: 6.444
[2025-08-20 03:31:22,950] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[21] = 6.444
[2025-08-20 03:31:22,950] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 20 (当前索引: 21, 回溯周期: 1)
[2025-08-20 03:31:22,950] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.152 (from index 20)
[2025-08-20 03:31:22,950] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,950] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=15:22, 当前值=7.3800
[2025-08-20 03:31:22,950] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.331428571428572
[2025-08-20 03:31:22,950] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.331428571428572
[2025-08-20 03:31:22,950] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 21, 值: 6.331428571428572
[2025-08-20 03:31:22,950] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[21] = 6.331428571428572
[2025-08-20 03:31:22,950] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 20 (当前索引: 21, 回溯周期: 1)
[2025-08-20 03:31:22,951] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.251428571428571 (from index 20)
[2025-08-20 03:31:22,951] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:31:22,951] [DEBUG] [backtesting:322] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 03:31:22,952] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:22,952] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,952] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=18:23, 当前值=7.2700
[2025-08-20 03:31:22,952] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.709999999999999
[2025-08-20 03:31:22,952] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.709999999999999
[2025-08-20 03:31:22,952] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 22, 值: 6.709999999999999
[2025-08-20 03:31:22,952] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[22] = 6.709999999999999
[2025-08-20 03:31:22,952] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:31:22,953] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.444 (from index 21)
[2025-08-20 03:31:22,953] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,953] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=16:23, 当前值=7.2700
[2025-08-20 03:31:22,953] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.487142857142857
[2025-08-20 03:31:22,953] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.487142857142857
[2025-08-20 03:31:22,953] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 22, 值: 6.487142857142857
[2025-08-20 03:31:22,953] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[22] = 6.487142857142857
[2025-08-20 03:31:22,953] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:31:22,953] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.331428571428572 (from index 21)
[2025-08-20 03:31:22,954] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,954] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:31:22,954] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,954] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:31:22,955] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,955] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=19:24, 当前值=7.3200
[2025-08-20 03:31:22,955] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.956
[2025-08-20 03:31:22,955] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=6.956
[2025-08-20 03:31:22,955] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 23, 值: 6.956
[2025-08-20 03:31:22,956] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[23] = 6.956
[2025-08-20 03:31:22,956] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:31:22,956] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.709999999999999 (from index 22)
[2025-08-20 03:31:22,956] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,956] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=17:24, 当前值=7.3200
[2025-08-20 03:31:22,956] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.687142857142858
[2025-08-20 03:31:22,956] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.687142857142858
[2025-08-20 03:31:22,956] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 23, 值: 6.687142857142858
[2025-08-20 03:31:22,956] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[23] = 6.687142857142858
[2025-08-20 03:31:22,956] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:31:22,956] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.487142857142857 (from index 22)
[2025-08-20 03:31:22,957] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,957] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:31:22,957] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,957] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:31:22,958] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,958] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=20:25, 当前值=7.4700
[2025-08-20 03:31:22,958] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=7.2299999999999995
[2025-08-20 03:31:22,959] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=7.2299999999999995
[2025-08-20 03:31:22,959] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 24, 值: 7.2299999999999995
[2025-08-20 03:31:22,959] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[24] = 7.2299999999999995
[2025-08-20 03:31:22,959] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:31:22,959] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.956 (from index 23)
[2025-08-20 03:31:22,959] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,959] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=18:25, 当前值=7.4700
[2025-08-20 03:31:22,959] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=6.905714285714287
[2025-08-20 03:31:22,959] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=6.905714285714287
[2025-08-20 03:31:22,959] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 24, 值: 6.905714285714287
[2025-08-20 03:31:22,959] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[24] = 6.905714285714287
[2025-08-20 03:31:22,959] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:31:22,960] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.687142857142858 (from index 23)
[2025-08-20 03:31:22,960] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,960] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:31:22,960] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,961] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:31:22,961] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,961] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=21:26, 当前值=7.3300
[2025-08-20 03:31:22,961] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=7.354000000000001
[2025-08-20 03:31:22,961] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=7.354000000000001
[2025-08-20 03:31:22,962] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 25, 值: 7.354000000000001
[2025-08-20 03:31:22,962] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[25] = 7.354000000000001
[2025-08-20 03:31:22,962] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:31:22,962] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.2299999999999995 (from index 24)
[2025-08-20 03:31:22,962] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,962] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=19:26, 当前值=7.3300
[2025-08-20 03:31:22,962] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=7.082857142857143
[2025-08-20 03:31:22,962] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=7.082857142857143
[2025-08-20 03:31:22,962] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 25, 值: 7.082857142857143
[2025-08-20 03:31:22,962] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[25] = 7.082857142857143
[2025-08-20 03:31:22,963] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:31:22,963] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.905714285714287 (from index 24)
[2025-08-20 03:31:22,963] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,964] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:31:22,964] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,965] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:31:22,965] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,966] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=22:27, 当前值=7.6600
[2025-08-20 03:31:22,966] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=7.409999999999999
[2025-08-20 03:31:22,966] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=7.409999999999999
[2025-08-20 03:31:22,966] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 26, 值: 7.409999999999999
[2025-08-20 03:31:22,966] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[26] = 7.409999999999999
[2025-08-20 03:31:22,966] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:31:22,966] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.354000000000001 (from index 25)
[2025-08-20 03:31:22,966] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,966] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=20:27, 当前值=7.6600
[2025-08-20 03:31:22,966] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=7.305714285714286
[2025-08-20 03:31:22,966] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=7.305714285714286
[2025-08-20 03:31:22,966] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 26, 值: 7.305714285714286
[2025-08-20 03:31:22,967] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[26] = 7.305714285714286
[2025-08-20 03:31:22,967] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:31:22,967] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.082857142857143 (from index 25)
[2025-08-20 03:31:22,967] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,967] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:31:22,968] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,968] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:31:22,969] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,969] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=23:28, 当前值=7.7500
[2025-08-20 03:31:22,969] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=7.506
[2025-08-20 03:31:22,969] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=7.506
[2025-08-20 03:31:22,970] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 27, 值: 7.506
[2025-08-20 03:31:22,970] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[27] = 7.506
[2025-08-20 03:31:22,970] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:31:22,970] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.409999999999999 (from index 26)
[2025-08-20 03:31:22,970] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,970] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=21:28, 当前值=7.7500
[2025-08-20 03:31:22,970] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=7.454285714285715
[2025-08-20 03:31:22,970] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=7.454285714285715
[2025-08-20 03:31:22,970] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 27, 值: 7.454285714285715
[2025-08-20 03:31:22,970] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[27] = 7.454285714285715
[2025-08-20 03:31:22,970] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:31:22,971] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.305714285714286 (from index 26)
[2025-08-20 03:31:22,971] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,971] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:31:22,971] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,972] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:31:22,972] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,972] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=24:29, 当前值=7.6400
[2025-08-20 03:31:22,972] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=7.57
[2025-08-20 03:31:22,972] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=7.57
[2025-08-20 03:31:22,972] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 28, 值: 7.57
[2025-08-20 03:31:22,973] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[28] = 7.57
[2025-08-20 03:31:22,973] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:31:22,973] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.506 (from index 27)
[2025-08-20 03:31:22,973] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,973] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=22:29, 当前值=7.6400
[2025-08-20 03:31:22,973] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=7.491428571428571
[2025-08-20 03:31:22,973] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=7.491428571428571
[2025-08-20 03:31:22,973] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 28, 值: 7.491428571428571
[2025-08-20 03:31:22,973] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[28] = 7.491428571428571
[2025-08-20 03:31:22,974] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:31:22,974] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.454285714285715 (from index 27)
[2025-08-20 03:31:22,974] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,974] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:31:22,975] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,975] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:31:22,975] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,976] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=25:30, 当前值=7.9700
[2025-08-20 03:31:22,976] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=7.67
[2025-08-20 03:31:22,976] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=7.67
[2025-08-20 03:31:22,976] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 29, 值: 7.67
[2025-08-20 03:31:22,976] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[29] = 7.67
[2025-08-20 03:31:22,976] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:31:22,976] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.57 (from index 28)
[2025-08-20 03:31:22,976] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,976] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=23:30, 当前值=7.9700
[2025-08-20 03:31:22,976] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=7.591428571428572
[2025-08-20 03:31:22,977] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=7.591428571428572
[2025-08-20 03:31:22,977] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 29, 值: 7.591428571428572
[2025-08-20 03:31:22,977] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[29] = 7.591428571428572
[2025-08-20 03:31:22,977] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:31:22,977] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.491428571428571 (from index 28)
[2025-08-20 03:31:22,978] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,978] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:31:22,978] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,978] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:31:22,979] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,979] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=26:31, 当前值=8.0800
[2025-08-20 03:31:22,979] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=7.82
[2025-08-20 03:31:22,979] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=7.82
[2025-08-20 03:31:22,980] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 30, 值: 7.82
[2025-08-20 03:31:22,980] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[30] = 7.82
[2025-08-20 03:31:22,980] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:31:22,980] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.67 (from index 29)
[2025-08-20 03:31:22,980] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,980] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=24:31, 当前值=8.0800
[2025-08-20 03:31:22,980] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=7.7
[2025-08-20 03:31:22,980] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=7.7
[2025-08-20 03:31:22,980] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 30, 值: 7.7
[2025-08-20 03:31:22,980] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[30] = 7.7
[2025-08-20 03:31:22,981] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:31:22,981] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.591428571428572 (from index 29)
[2025-08-20 03:31:22,981] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,981] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:31:22,981] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,982] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:31:22,982] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,983] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=27:32, 当前值=8.8900
[2025-08-20 03:31:22,983] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=8.065999999999999
[2025-08-20 03:31:22,983] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=8.065999999999999
[2025-08-20 03:31:22,983] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 31, 值: 8.065999999999999
[2025-08-20 03:31:22,983] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[31] = 8.065999999999999
[2025-08-20 03:31:22,983] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:31:22,983] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.82 (from index 30)
[2025-08-20 03:31:22,983] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,983] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=25:32, 当前值=8.8900
[2025-08-20 03:31:22,983] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=7.902857142857143
[2025-08-20 03:31:22,983] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=7.902857142857143
[2025-08-20 03:31:22,983] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 31, 值: 7.902857142857143
[2025-08-20 03:31:22,984] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[31] = 7.902857142857143
[2025-08-20 03:31:22,984] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:31:22,984] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.7 (from index 30)
[2025-08-20 03:31:22,985] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,985] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:31:22,985] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,985] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:31:22,986] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,986] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=28:33, 当前值=9.7800
[2025-08-20 03:31:22,986] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=8.472
[2025-08-20 03:31:22,986] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=8.472
[2025-08-20 03:31:22,986] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 32, 值: 8.472
[2025-08-20 03:31:22,986] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[32] = 8.472
[2025-08-20 03:31:22,986] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:31:22,987] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.065999999999999 (from index 31)
[2025-08-20 03:31:22,987] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,987] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=26:33, 当前值=9.7800
[2025-08-20 03:31:22,987] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=8.252857142857144
[2025-08-20 03:31:22,987] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=8.252857142857144
[2025-08-20 03:31:22,987] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 32, 值: 8.252857142857144
[2025-08-20 03:31:22,987] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[32] = 8.252857142857144
[2025-08-20 03:31:22,987] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:31:22,988] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.902857142857143 (from index 31)
[2025-08-20 03:31:22,988] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,989] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:31:22,989] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,989] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:31:22,990] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,990] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=29:34, 当前值=10.7600
[2025-08-20 03:31:22,990] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.096
[2025-08-20 03:31:22,990] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=9.096
[2025-08-20 03:31:22,990] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 33, 值: 9.096
[2025-08-20 03:31:22,990] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[33] = 9.096
[2025-08-20 03:31:22,990] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:31:22,990] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.472 (from index 32)
[2025-08-20 03:31:22,990] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,991] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=27:34, 当前值=10.7600
[2025-08-20 03:31:22,991] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=8.695714285714285
[2025-08-20 03:31:22,991] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=8.695714285714285
[2025-08-20 03:31:22,991] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 33, 值: 8.695714285714285
[2025-08-20 03:31:22,991] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[33] = 8.695714285714285
[2025-08-20 03:31:22,991] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:31:22,991] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.252857142857144 (from index 32)
[2025-08-20 03:31:22,992] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,992] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:31:22,992] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,992] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:31:22,993] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,994] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=30:35, 当前值=11.4500
[2025-08-20 03:31:22,994] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.792
[2025-08-20 03:31:22,994] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=9.792
[2025-08-20 03:31:22,994] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 34, 值: 9.792
[2025-08-20 03:31:22,994] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[34] = 9.792
[2025-08-20 03:31:22,994] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:31:22,994] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.096 (from index 33)
[2025-08-20 03:31:22,994] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,995] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=28:35, 当前值=11.4500
[2025-08-20 03:31:22,995] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.224285714285713
[2025-08-20 03:31:22,995] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=9.224285714285713
[2025-08-20 03:31:22,995] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 34, 值: 9.224285714285713
[2025-08-20 03:31:22,995] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[34] = 9.224285714285713
[2025-08-20 03:31:22,995] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:31:22,995] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.695714285714285 (from index 33)
[2025-08-20 03:31:22,996] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,996] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:31:22,996] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,996] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:31:22,998] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:22,998] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=31:36, 当前值=12.6000
[2025-08-20 03:31:22,998] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.696
[2025-08-20 03:31:22,998] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=10.696
[2025-08-20 03:31:22,998] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 35, 值: 10.696
[2025-08-20 03:31:22,998] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[35] = 10.696
[2025-08-20 03:31:22,998] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:31:22,998] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.792 (from index 34)
[2025-08-20 03:31:22,999] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:22,999] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=29:36, 当前值=12.6000
[2025-08-20 03:31:22,999] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.932857142857143
[2025-08-20 03:31:22,999] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=9.932857142857143
[2025-08-20 03:31:22,999] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 35, 值: 9.932857142857143
[2025-08-20 03:31:22,999] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[35] = 9.932857142857143
[2025-08-20 03:31:22,999] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:31:23,000] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.224285714285713 (from index 34)
[2025-08-20 03:31:23,000] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,001] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:31:23,001] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,001] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:31:23,002] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,002] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=32:37, 当前值=13.8600
[2025-08-20 03:31:23,002] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.690000000000001
[2025-08-20 03:31:23,002] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.690000000000001
[2025-08-20 03:31:23,002] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 36, 值: 11.690000000000001
[2025-08-20 03:31:23,002] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[36] = 11.690000000000001
[2025-08-20 03:31:23,002] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:31:23,003] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.696 (from index 35)
[2025-08-20 03:31:23,003] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,003] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=30:37, 当前值=13.8600
[2025-08-20 03:31:23,003] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.774285714285714
[2025-08-20 03:31:23,003] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=10.774285714285714
[2025-08-20 03:31:23,003] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 36, 值: 10.774285714285714
[2025-08-20 03:31:23,003] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[36] = 10.774285714285714
[2025-08-20 03:31:23,003] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:31:23,003] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.932857142857143 (from index 35)
[2025-08-20 03:31:23,004] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,004] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:31:23,004] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,005] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:31:23,005] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,006] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=33:38, 当前值=13.5000
[2025-08-20 03:31:23,006] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.434000000000001
[2025-08-20 03:31:23,006] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=12.434000000000001
[2025-08-20 03:31:23,006] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 37, 值: 12.434000000000001
[2025-08-20 03:31:23,006] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[37] = 12.434000000000001
[2025-08-20 03:31:23,006] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:31:23,006] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.690000000000001 (from index 36)
[2025-08-20 03:31:23,006] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,007] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=31:38, 当前值=13.5000
[2025-08-20 03:31:23,007] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.54857142857143
[2025-08-20 03:31:23,007] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.54857142857143
[2025-08-20 03:31:23,007] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 37, 值: 11.54857142857143
[2025-08-20 03:31:23,007] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[37] = 11.54857142857143
[2025-08-20 03:31:23,007] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:31:23,007] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.774285714285714 (from index 36)
[2025-08-20 03:31:23,008] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,008] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:31:23,008] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,008] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:31:23,009] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,009] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=34:39, 当前值=12.1500
[2025-08-20 03:31:23,009] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.712
[2025-08-20 03:31:23,009] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=12.712
[2025-08-20 03:31:23,009] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 38, 值: 12.712
[2025-08-20 03:31:23,009] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[38] = 12.712
[2025-08-20 03:31:23,010] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:31:23,010] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.434000000000001 (from index 37)
[2025-08-20 03:31:23,010] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,010] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=32:39, 当前值=12.1500
[2025-08-20 03:31:23,010] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.014285714285714
[2025-08-20 03:31:23,010] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=12.014285714285714
[2025-08-20 03:31:23,010] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 38, 值: 12.014285714285714
[2025-08-20 03:31:23,010] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[38] = 12.014285714285714
[2025-08-20 03:31:23,010] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:31:23,010] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.54857142857143 (from index 37)
[2025-08-20 03:31:23,011] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,011] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:31:23,011] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,011] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:31:23,012] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,012] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=35:40, 当前值=11.2600
[2025-08-20 03:31:23,012] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.674
[2025-08-20 03:31:23,013] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=12.674
[2025-08-20 03:31:23,013] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 39, 值: 12.674
[2025-08-20 03:31:23,013] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[39] = 12.674
[2025-08-20 03:31:23,013] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:31:23,013] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.712 (from index 38)
[2025-08-20 03:31:23,013] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,013] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=33:40, 当前值=11.2600
[2025-08-20 03:31:23,013] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.225714285714286
[2025-08-20 03:31:23,013] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=12.225714285714286
[2025-08-20 03:31:23,013] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 39, 值: 12.225714285714286
[2025-08-20 03:31:23,013] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[39] = 12.225714285714286
[2025-08-20 03:31:23,014] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:31:23,014] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.014285714285714 (from index 38)
[2025-08-20 03:31:23,015] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,015] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:31:23,015] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,015] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:31:23,016] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,016] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=36:41, 当前值=11.8500
[2025-08-20 03:31:23,016] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.524
[2025-08-20 03:31:23,016] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=12.524
[2025-08-20 03:31:23,016] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 40, 值: 12.524
[2025-08-20 03:31:23,016] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[40] = 12.524
[2025-08-20 03:31:23,016] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:31:23,017] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.674 (from index 39)
[2025-08-20 03:31:23,017] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,017] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=34:41, 当前值=11.8500
[2025-08-20 03:31:23,017] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.381428571428572
[2025-08-20 03:31:23,017] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=12.381428571428572
[2025-08-20 03:31:23,017] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 40, 值: 12.381428571428572
[2025-08-20 03:31:23,017] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[40] = 12.381428571428572
[2025-08-20 03:31:23,017] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:31:23,018] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.225714285714286 (from index 39)
[2025-08-20 03:31:23,018] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,018] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:31:23,018] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,019] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:31:23,020] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,020] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=37:42, 当前值=13.0400
[2025-08-20 03:31:23,020] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.36
[2025-08-20 03:31:23,020] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=12.36
[2025-08-20 03:31:23,020] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 41, 值: 12.36
[2025-08-20 03:31:23,020] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[41] = 12.36
[2025-08-20 03:31:23,020] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:31:23,020] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.524 (from index 40)
[2025-08-20 03:31:23,021] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,021] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=35:42, 当前值=13.0400
[2025-08-20 03:31:23,021] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.608571428571429
[2025-08-20 03:31:23,021] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=12.608571428571429
[2025-08-20 03:31:23,021] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 41, 值: 12.608571428571429
[2025-08-20 03:31:23,021] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[41] = 12.608571428571429
[2025-08-20 03:31:23,021] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:31:23,021] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.381428571428572 (from index 40)
[2025-08-20 03:31:23,022] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,022] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:31:23,022] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,022] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:31:23,023] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:31:23,023] [DEBUG] [backtesting:322] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 03:31:23,024] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:23,024] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,024] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=38:43, 当前值=11.7400
[2025-08-20 03:31:23,024] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.008
[2025-08-20 03:31:23,024] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=12.008
[2025-08-20 03:31:23,024] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 42, 值: 12.008
[2025-08-20 03:31:23,024] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[42] = 12.008
[2025-08-20 03:31:23,024] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:31:23,025] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.36 (from index 41)
[2025-08-20 03:31:23,025] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,025] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=36:43, 当前值=11.7400
[2025-08-20 03:31:23,025] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.485714285714286
[2025-08-20 03:31:23,025] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=12.485714285714286
[2025-08-20 03:31:23,025] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 42, 值: 12.485714285714286
[2025-08-20 03:31:23,025] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[42] = 12.485714285714286
[2025-08-20 03:31:23,026] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:31:23,026] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.608571428571429 (from index 41)
[2025-08-20 03:31:23,026] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,027] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:31:23,027] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,027] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:31:23,028] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,028] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=39:44, 当前值=11.1000
[2025-08-20 03:31:23,028] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.798
[2025-08-20 03:31:23,028] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.798
[2025-08-20 03:31:23,028] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 43, 值: 11.798
[2025-08-20 03:31:23,028] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[43] = 11.798
[2025-08-20 03:31:23,028] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:31:23,028] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.008 (from index 42)
[2025-08-20 03:31:23,028] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,029] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=37:44, 当前值=11.1000
[2025-08-20 03:31:23,029] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.09142857142857
[2025-08-20 03:31:23,029] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=12.09142857142857
[2025-08-20 03:31:23,029] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 43, 值: 12.09142857142857
[2025-08-20 03:31:23,029] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[43] = 12.09142857142857
[2025-08-20 03:31:23,029] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:31:23,029] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.485714285714286 (from index 42)
[2025-08-20 03:31:23,029] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,030] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:31:23,030] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,030] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:31:23,031] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,031] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=40:45, 当前值=11.7300
[2025-08-20 03:31:23,031] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.892
[2025-08-20 03:31:23,031] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.892
[2025-08-20 03:31:23,031] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 44, 值: 11.892
[2025-08-20 03:31:23,031] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[44] = 11.892
[2025-08-20 03:31:23,031] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 43 (当前索引: 44, 回溯周期: 1)
[2025-08-20 03:31:23,032] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.798 (from index 43)
[2025-08-20 03:31:23,032] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,032] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=38:45, 当前值=11.7300
[2025-08-20 03:31:23,032] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.838571428571429
[2025-08-20 03:31:23,032] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.838571428571429
[2025-08-20 03:31:23,032] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 44, 值: 11.838571428571429
[2025-08-20 03:31:23,032] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[44] = 11.838571428571429
[2025-08-20 03:31:23,032] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 43 (当前索引: 44, 回溯周期: 1)
[2025-08-20 03:31:23,032] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.09142857142857 (from index 43)
[2025-08-20 03:31:23,033] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:31:23,033] [DEBUG] [backtesting:322] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 03:31:23,033] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:23,034] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,034] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=41:46, 当前值=11.8500
[2025-08-20 03:31:23,034] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.892
[2025-08-20 03:31:23,034] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.892
[2025-08-20 03:31:23,034] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 45, 值: 11.892
[2025-08-20 03:31:23,034] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[45] = 11.892
[2025-08-20 03:31:23,034] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:31:23,034] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 44)
[2025-08-20 03:31:23,034] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,035] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=39:46, 当前值=11.8500
[2025-08-20 03:31:23,035] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.795714285714284
[2025-08-20 03:31:23,035] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.795714285714284
[2025-08-20 03:31:23,035] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 45, 值: 11.795714285714284
[2025-08-20 03:31:23,035] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[45] = 11.795714285714284
[2025-08-20 03:31:23,035] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:31:23,035] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.838571428571429 (from index 44)
[2025-08-20 03:31:23,036] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,036] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:31:23,036] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,036] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:31:23,037] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,037] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=42:47, 当前值=12.2400
[2025-08-20 03:31:23,037] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.732
[2025-08-20 03:31:23,037] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.732
[2025-08-20 03:31:23,037] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 46, 值: 11.732
[2025-08-20 03:31:23,037] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[46] = 11.732
[2025-08-20 03:31:23,037] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:31:23,038] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 45)
[2025-08-20 03:31:23,038] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,038] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=40:47, 当前值=12.2400
[2025-08-20 03:31:23,038] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.935714285714285
[2025-08-20 03:31:23,038] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.935714285714285
[2025-08-20 03:31:23,038] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 46, 值: 11.935714285714285
[2025-08-20 03:31:23,038] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[46] = 11.935714285714285
[2025-08-20 03:31:23,038] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:31:23,038] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.795714285714284 (from index 45)
[2025-08-20 03:31:23,039] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,039] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:31:23,039] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,039] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:31:23,040] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:31:23,040] [DEBUG] [backtesting:322] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 03:31:23,040] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:23,041] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,041] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=43:48, 当前值=12.9700
[2025-08-20 03:31:23,041] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.978
[2025-08-20 03:31:23,041] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.978
[2025-08-20 03:31:23,041] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 47, 值: 11.978
[2025-08-20 03:31:23,041] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[47] = 11.978
[2025-08-20 03:31:23,041] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:31:23,041] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 46)
[2025-08-20 03:31:23,041] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,042] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=41:48, 当前值=12.9700
[2025-08-20 03:31:23,042] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.095714285714285
[2025-08-20 03:31:23,042] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=12.095714285714285
[2025-08-20 03:31:23,042] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 47, 值: 12.095714285714285
[2025-08-20 03:31:23,042] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[47] = 12.095714285714285
[2025-08-20 03:31:23,042] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:31:23,042] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.935714285714285 (from index 46)
[2025-08-20 03:31:23,043] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,043] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:31:23,043] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,043] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:31:23,044] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,044] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=44:49, 当前值=12.9700
[2025-08-20 03:31:23,044] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.352
[2025-08-20 03:31:23,044] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=12.352
[2025-08-20 03:31:23,044] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 48, 值: 12.352
[2025-08-20 03:31:23,044] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[48] = 12.352
[2025-08-20 03:31:23,044] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 47 (当前索引: 48, 回溯周期: 1)
[2025-08-20 03:31:23,045] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.978 (from index 47)
[2025-08-20 03:31:23,045] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,045] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=42:49, 当前值=12.9700
[2025-08-20 03:31:23,045] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.085714285714285
[2025-08-20 03:31:23,045] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=12.085714285714285
[2025-08-20 03:31:23,045] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 48, 值: 12.085714285714285
[2025-08-20 03:31:23,045] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[48] = 12.085714285714285
[2025-08-20 03:31:23,045] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 47 (当前索引: 48, 回溯周期: 1)
[2025-08-20 03:31:23,046] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.095714285714285 (from index 47)
[2025-08-20 03:31:23,046] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:31:23,046] [DEBUG] [backtesting:322] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 03:31:23,047] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:23,047] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,047] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=45:50, 当前值=12.8700
[2025-08-20 03:31:23,047] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.58
[2025-08-20 03:31:23,047] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=12.58
[2025-08-20 03:31:23,047] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 49, 值: 12.58
[2025-08-20 03:31:23,047] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[49] = 12.58
[2025-08-20 03:31:23,047] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:31:23,048] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.352 (from index 48)
[2025-08-20 03:31:23,048] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,048] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=43:50, 当前值=12.8700
[2025-08-20 03:31:23,048] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.247142857142858
[2025-08-20 03:31:23,048] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=12.247142857142858
[2025-08-20 03:31:23,048] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 49, 值: 12.247142857142858
[2025-08-20 03:31:23,048] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[49] = 12.247142857142858
[2025-08-20 03:31:23,048] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:31:23,048] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.085714285714285 (from index 48)
[2025-08-20 03:31:23,049] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,049] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:31:23,049] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,049] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:31:23,050] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,050] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=46:51, 当前值=12.3500
[2025-08-20 03:31:23,051] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.68
[2025-08-20 03:31:23,051] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=12.68
[2025-08-20 03:31:23,051] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 50, 值: 12.68
[2025-08-20 03:31:23,051] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[50] = 12.68
[2025-08-20 03:31:23,051] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:31:23,051] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.58 (from index 49)
[2025-08-20 03:31:23,051] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,051] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=44:51, 当前值=12.3500
[2025-08-20 03:31:23,051] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.425714285714287
[2025-08-20 03:31:23,051] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=12.425714285714287
[2025-08-20 03:31:23,051] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 50, 值: 12.425714285714287
[2025-08-20 03:31:23,051] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[50] = 12.425714285714287
[2025-08-20 03:31:23,052] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:31:23,052] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.247142857142858 (from index 49)
[2025-08-20 03:31:23,052] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,053] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:31:23,053] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,053] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:31:23,054] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,054] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=47:52, 当前值=12.1800
[2025-08-20 03:31:23,054] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.668000000000001
[2025-08-20 03:31:23,054] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=12.668000000000001
[2025-08-20 03:31:23,054] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 51, 值: 12.668000000000001
[2025-08-20 03:31:23,054] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[51] = 12.668000000000001
[2025-08-20 03:31:23,054] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:31:23,055] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.68 (from index 50)
[2025-08-20 03:31:23,055] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,055] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=45:52, 当前值=12.1800
[2025-08-20 03:31:23,055] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.49
[2025-08-20 03:31:23,055] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=12.49
[2025-08-20 03:31:23,055] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 51, 值: 12.49
[2025-08-20 03:31:23,055] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[51] = 12.49
[2025-08-20 03:31:23,055] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:31:23,056] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.425714285714287 (from index 50)
[2025-08-20 03:31:23,056] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,057] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:31:23,057] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,057] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:31:23,058] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,058] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=48:53, 当前值=11.6200
[2025-08-20 03:31:23,058] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.398
[2025-08-20 03:31:23,058] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=12.398
[2025-08-20 03:31:23,058] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 52, 值: 12.398
[2025-08-20 03:31:23,058] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[52] = 12.398
[2025-08-20 03:31:23,058] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:31:23,058] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.668000000000001 (from index 51)
[2025-08-20 03:31:23,059] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,059] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=46:53, 当前值=11.6200
[2025-08-20 03:31:23,059] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.457142857142857
[2025-08-20 03:31:23,059] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=12.457142857142857
[2025-08-20 03:31:23,059] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 52, 值: 12.457142857142857
[2025-08-20 03:31:23,059] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[52] = 12.457142857142857
[2025-08-20 03:31:23,059] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:31:23,059] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.49 (from index 51)
[2025-08-20 03:31:23,060] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,060] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:31:23,060] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,060] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:31:23,061] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:31:23,062] [DEBUG] [backtesting:322] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 03:31:23,062] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:23,062] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,062] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=49:54, 当前值=11.5100
[2025-08-20 03:31:23,062] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.106
[2025-08-20 03:31:23,062] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=12.106
[2025-08-20 03:31:23,062] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 53, 值: 12.106
[2025-08-20 03:31:23,062] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[53] = 12.106
[2025-08-20 03:31:23,063] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:31:23,063] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.398 (from index 52)
[2025-08-20 03:31:23,063] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,063] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=47:54, 当前值=11.5100
[2025-08-20 03:31:23,063] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.352857142857143
[2025-08-20 03:31:23,063] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=12.352857142857143
[2025-08-20 03:31:23,063] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 53, 值: 12.352857142857143
[2025-08-20 03:31:23,063] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[53] = 12.352857142857143
[2025-08-20 03:31:23,063] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:31:23,064] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.457142857142857 (from index 52)
[2025-08-20 03:31:23,064] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,064] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:31:23,064] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,065] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:31:23,066] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,066] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=50:55, 当前值=11.8200
[2025-08-20 03:31:23,066] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.895999999999999
[2025-08-20 03:31:23,066] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.895999999999999
[2025-08-20 03:31:23,066] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 54, 值: 11.895999999999999
[2025-08-20 03:31:23,066] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[54] = 11.895999999999999
[2025-08-20 03:31:23,066] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:31:23,066] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.106 (from index 53)
[2025-08-20 03:31:23,066] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,066] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=48:55, 当前值=11.8200
[2025-08-20 03:31:23,067] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=12.188571428571427
[2025-08-20 03:31:23,067] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=12.188571428571427
[2025-08-20 03:31:23,067] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 54, 值: 12.188571428571427
[2025-08-20 03:31:23,067] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[54] = 12.188571428571427
[2025-08-20 03:31:23,067] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:31:23,067] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.352857142857143 (from index 53)
[2025-08-20 03:31:23,067] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,068] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:31:23,068] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,068] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:31:23,068] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,069] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=51:56, 当前值=11.5300
[2025-08-20 03:31:23,069] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.732
[2025-08-20 03:31:23,069] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.732
[2025-08-20 03:31:23,069] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 55, 值: 11.732
[2025-08-20 03:31:23,069] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[55] = 11.732
[2025-08-20 03:31:23,069] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:31:23,069] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.895999999999999 (from index 54)
[2025-08-20 03:31:23,069] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,069] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=49:56, 当前值=11.5300
[2025-08-20 03:31:23,069] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.982857142857142
[2025-08-20 03:31:23,069] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.982857142857142
[2025-08-20 03:31:23,070] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 55, 值: 11.982857142857142
[2025-08-20 03:31:23,070] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[55] = 11.982857142857142
[2025-08-20 03:31:23,070] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:31:23,070] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.188571428571427 (from index 54)
[2025-08-20 03:31:23,071] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,071] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:31:23,071] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,071] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:31:23,072] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,072] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=52:57, 当前值=11.2400
[2025-08-20 03:31:23,072] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.544
[2025-08-20 03:31:23,072] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.544
[2025-08-20 03:31:23,072] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 56, 值: 11.544
[2025-08-20 03:31:23,072] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[56] = 11.544
[2025-08-20 03:31:23,072] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:31:23,072] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 55)
[2025-08-20 03:31:23,072] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,072] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=50:57, 当前值=11.2400
[2025-08-20 03:31:23,073] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.75
[2025-08-20 03:31:23,073] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.75
[2025-08-20 03:31:23,073] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 56, 值: 11.75
[2025-08-20 03:31:23,073] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[56] = 11.75
[2025-08-20 03:31:23,073] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:31:23,073] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.982857142857142 (from index 55)
[2025-08-20 03:31:23,073] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,074] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:31:23,074] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,074] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:31:23,074] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,075] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=53:58, 当前值=11.1200
[2025-08-20 03:31:23,075] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.443999999999999
[2025-08-20 03:31:23,075] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.443999999999999
[2025-08-20 03:31:23,075] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 57, 值: 11.443999999999999
[2025-08-20 03:31:23,075] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[57] = 11.443999999999999
[2025-08-20 03:31:23,075] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:31:23,075] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.544 (from index 56)
[2025-08-20 03:31:23,076] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,076] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=51:58, 当前值=11.1200
[2025-08-20 03:31:23,076] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.574285714285713
[2025-08-20 03:31:23,076] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.574285714285713
[2025-08-20 03:31:23,076] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 57, 值: 11.574285714285713
[2025-08-20 03:31:23,076] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[57] = 11.574285714285713
[2025-08-20 03:31:23,076] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:31:23,076] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.75 (from index 56)
[2025-08-20 03:31:23,077] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,077] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:31:23,077] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,077] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:31:23,078] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,078] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=54:59, 当前值=11.1500
[2025-08-20 03:31:23,078] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.372
[2025-08-20 03:31:23,078] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.372
[2025-08-20 03:31:23,078] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 58, 值: 11.372
[2025-08-20 03:31:23,078] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[58] = 11.372
[2025-08-20 03:31:23,078] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:31:23,078] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.443999999999999 (from index 57)
[2025-08-20 03:31:23,078] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,079] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=52:59, 当前值=11.1500
[2025-08-20 03:31:23,079] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.427142857142856
[2025-08-20 03:31:23,079] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.427142857142856
[2025-08-20 03:31:23,079] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 58, 值: 11.427142857142856
[2025-08-20 03:31:23,079] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[58] = 11.427142857142856
[2025-08-20 03:31:23,079] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:31:23,079] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.574285714285713 (from index 57)
[2025-08-20 03:31:23,080] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,080] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:31:23,080] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,080] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:31:23,081] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,081] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=55:60, 当前值=11.4000
[2025-08-20 03:31:23,081] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.288
[2025-08-20 03:31:23,081] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.288
[2025-08-20 03:31:23,081] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 59, 值: 11.288
[2025-08-20 03:31:23,082] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[59] = 11.288
[2025-08-20 03:31:23,082] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:31:23,082] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.372 (from index 58)
[2025-08-20 03:31:23,082] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,082] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=53:60, 当前值=11.4000
[2025-08-20 03:31:23,082] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.395714285714286
[2025-08-20 03:31:23,082] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.395714285714286
[2025-08-20 03:31:23,082] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 59, 值: 11.395714285714286
[2025-08-20 03:31:23,083] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[59] = 11.395714285714286
[2025-08-20 03:31:23,083] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:31:23,083] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.427142857142856 (from index 58)
[2025-08-20 03:31:23,084] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,084] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:31:23,084] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,084] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:31:23,085] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,085] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=56:61, 当前值=11.4600
[2025-08-20 03:31:23,085] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.274
[2025-08-20 03:31:23,085] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.274
[2025-08-20 03:31:23,085] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 60, 值: 11.274
[2025-08-20 03:31:23,085] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[60] = 11.274
[2025-08-20 03:31:23,086] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:31:23,086] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.288 (from index 59)
[2025-08-20 03:31:23,086] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,086] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=54:61, 当前值=11.4600
[2025-08-20 03:31:23,086] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.388571428571428
[2025-08-20 03:31:23,086] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.388571428571428
[2025-08-20 03:31:23,086] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 60, 值: 11.388571428571428
[2025-08-20 03:31:23,086] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[60] = 11.388571428571428
[2025-08-20 03:31:23,086] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:31:23,086] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.395714285714286 (from index 59)
[2025-08-20 03:31:23,087] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,087] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:31:23,087] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,087] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:31:23,088] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,088] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=57:62, 当前值=11.3000
[2025-08-20 03:31:23,088] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.286
[2025-08-20 03:31:23,088] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.286
[2025-08-20 03:31:23,088] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 61, 值: 11.286
[2025-08-20 03:31:23,088] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[61] = 11.286
[2025-08-20 03:31:23,088] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:31:23,089] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.274 (from index 60)
[2025-08-20 03:31:23,089] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,089] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=55:62, 当前值=11.3000
[2025-08-20 03:31:23,089] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.314285714285715
[2025-08-20 03:31:23,089] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.314285714285715
[2025-08-20 03:31:23,089] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 61, 值: 11.314285714285715
[2025-08-20 03:31:23,089] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[61] = 11.314285714285715
[2025-08-20 03:31:23,089] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:31:23,089] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.388571428571428 (from index 60)
[2025-08-20 03:31:23,090] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,090] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:31:23,090] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,090] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:31:23,091] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,091] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=58:63, 当前值=11.2600
[2025-08-20 03:31:23,091] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.314
[2025-08-20 03:31:23,091] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.314
[2025-08-20 03:31:23,091] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 62, 值: 11.314
[2025-08-20 03:31:23,091] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[62] = 11.314
[2025-08-20 03:31:23,091] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 61 (当前索引: 62, 回溯周期: 1)
[2025-08-20 03:31:23,092] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.286 (from index 61)
[2025-08-20 03:31:23,092] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,092] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=56:63, 当前值=11.2600
[2025-08-20 03:31:23,092] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.275714285714287
[2025-08-20 03:31:23,092] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.275714285714287
[2025-08-20 03:31:23,092] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 62, 值: 11.275714285714287
[2025-08-20 03:31:23,092] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[62] = 11.275714285714287
[2025-08-20 03:31:23,092] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 61 (当前索引: 62, 回溯周期: 1)
[2025-08-20 03:31:23,092] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.314285714285715 (from index 61)
[2025-08-20 03:31:23,093] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:31:23,093] [DEBUG] [backtesting:322] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 03:31:23,093] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:23,094] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,094] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=59:64, 当前值=10.8600
[2025-08-20 03:31:23,094] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.256
[2025-08-20 03:31:23,094] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.256
[2025-08-20 03:31:23,094] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 63, 值: 11.256
[2025-08-20 03:31:23,094] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[63] = 11.256
[2025-08-20 03:31:23,094] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:31:23,094] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.314 (from index 62)
[2025-08-20 03:31:23,094] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,094] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=57:64, 当前值=10.8600
[2025-08-20 03:31:23,095] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.221428571428572
[2025-08-20 03:31:23,095] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.221428571428572
[2025-08-20 03:31:23,095] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 63, 值: 11.221428571428572
[2025-08-20 03:31:23,095] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[63] = 11.221428571428572
[2025-08-20 03:31:23,095] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:31:23,095] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.275714285714287 (from index 62)
[2025-08-20 03:31:23,096] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,096] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:31:23,096] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,097] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:31:23,097] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,097] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=60:65, 当前值=11.1900
[2025-08-20 03:31:23,097] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.214
[2025-08-20 03:31:23,097] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.214
[2025-08-20 03:31:23,097] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 64, 值: 11.214
[2025-08-20 03:31:23,098] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[64] = 11.214
[2025-08-20 03:31:23,098] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:31:23,098] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.256 (from index 63)
[2025-08-20 03:31:23,098] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,098] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=58:65, 当前值=11.1900
[2025-08-20 03:31:23,098] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.231428571428571
[2025-08-20 03:31:23,098] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.231428571428571
[2025-08-20 03:31:23,098] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 64, 值: 11.231428571428571
[2025-08-20 03:31:23,098] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[64] = 11.231428571428571
[2025-08-20 03:31:23,098] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:31:23,098] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.221428571428572 (from index 63)
[2025-08-20 03:31:23,099] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,099] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:31:23,099] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,099] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:31:23,100] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:31:23,100] [DEBUG] [backtesting:322] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 03:31:23,100] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:23,101] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,101] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=61:66, 当前值=11.3700
[2025-08-20 03:31:23,101] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.196
[2025-08-20 03:31:23,101] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.196
[2025-08-20 03:31:23,101] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 65, 值: 11.196
[2025-08-20 03:31:23,101] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[65] = 11.196
[2025-08-20 03:31:23,102] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:31:23,102] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 64)
[2025-08-20 03:31:23,102] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,102] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=59:66, 当前值=11.3700
[2025-08-20 03:31:23,102] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.262857142857143
[2025-08-20 03:31:23,102] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.262857142857143
[2025-08-20 03:31:23,102] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 65, 值: 11.262857142857143
[2025-08-20 03:31:23,102] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[65] = 11.262857142857143
[2025-08-20 03:31:23,102] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:31:23,102] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.231428571428571 (from index 64)
[2025-08-20 03:31:23,103] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,103] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:31:23,103] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,103] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:31:23,104] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,104] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=62:67, 当前值=11.4200
[2025-08-20 03:31:23,104] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.22
[2025-08-20 03:31:23,104] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.22
[2025-08-20 03:31:23,104] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 66, 值: 11.22
[2025-08-20 03:31:23,105] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[66] = 11.22
[2025-08-20 03:31:23,105] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:31:23,105] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.196 (from index 65)
[2025-08-20 03:31:23,105] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,105] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=60:67, 当前值=11.4200
[2025-08-20 03:31:23,105] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.265714285714285
[2025-08-20 03:31:23,105] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.265714285714285
[2025-08-20 03:31:23,105] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 66, 值: 11.265714285714285
[2025-08-20 03:31:23,105] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[66] = 11.265714285714285
[2025-08-20 03:31:23,105] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:31:23,106] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.262857142857143 (from index 65)
[2025-08-20 03:31:23,106] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,106] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:31:23,106] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,107] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:31:23,107] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,108] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=63:68, 当前值=11.2300
[2025-08-20 03:31:23,108] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.214
[2025-08-20 03:31:23,108] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.214
[2025-08-20 03:31:23,108] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 67, 值: 11.214
[2025-08-20 03:31:23,108] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[67] = 11.214
[2025-08-20 03:31:23,108] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:31:23,108] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.22 (from index 66)
[2025-08-20 03:31:23,108] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,108] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=61:68, 当前值=11.2300
[2025-08-20 03:31:23,108] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.232857142857142
[2025-08-20 03:31:23,108] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.232857142857142
[2025-08-20 03:31:23,108] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 67, 值: 11.232857142857142
[2025-08-20 03:31:23,108] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[67] = 11.232857142857142
[2025-08-20 03:31:23,108] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:31:23,109] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.265714285714285 (from index 66)
[2025-08-20 03:31:23,109] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,109] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:31:23,109] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,110] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:31:23,110] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,111] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=64:69, 当前值=11.3000
[2025-08-20 03:31:23,111] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.302
[2025-08-20 03:31:23,111] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.302
[2025-08-20 03:31:23,111] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 68, 值: 11.302
[2025-08-20 03:31:23,111] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[68] = 11.302
[2025-08-20 03:31:23,111] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 67 (当前索引: 68, 回溯周期: 1)
[2025-08-20 03:31:23,111] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 67)
[2025-08-20 03:31:23,111] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,111] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=62:69, 当前值=11.3000
[2025-08-20 03:31:23,111] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.232857142857142
[2025-08-20 03:31:23,111] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.232857142857142
[2025-08-20 03:31:23,111] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 68, 值: 11.232857142857142
[2025-08-20 03:31:23,112] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[68] = 11.232857142857142
[2025-08-20 03:31:23,112] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 67 (当前索引: 68, 回溯周期: 1)
[2025-08-20 03:31:23,112] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 67)
[2025-08-20 03:31:23,113] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:31:23,113] [DEBUG] [backtesting:322] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 03:31:23,113] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:23,113] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,113] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=65:70, 当前值=11.8900
[2025-08-20 03:31:23,114] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.442
[2025-08-20 03:31:23,114] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.442
[2025-08-20 03:31:23,114] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 69, 值: 11.442
[2025-08-20 03:31:23,114] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[69] = 11.442
[2025-08-20 03:31:23,114] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:31:23,114] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.302 (from index 68)
[2025-08-20 03:31:23,114] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,114] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=63:70, 当前值=11.8900
[2025-08-20 03:31:23,114] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.322857142857144
[2025-08-20 03:31:23,114] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.322857142857144
[2025-08-20 03:31:23,114] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 69, 值: 11.322857142857144
[2025-08-20 03:31:23,115] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[69] = 11.322857142857144
[2025-08-20 03:31:23,115] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:31:23,115] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 68)
[2025-08-20 03:31:23,116] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,116] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:31:23,116] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,116] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:31:23,117] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,117] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=66:71, 当前值=10.7000
[2025-08-20 03:31:23,117] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.308
[2025-08-20 03:31:23,117] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.308
[2025-08-20 03:31:23,117] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 70, 值: 11.308
[2025-08-20 03:31:23,118] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[70] = 11.308
[2025-08-20 03:31:23,118] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:31:23,118] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.442 (from index 69)
[2025-08-20 03:31:23,118] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,118] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=64:71, 当前值=10.7000
[2025-08-20 03:31:23,118] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.299999999999999
[2025-08-20 03:31:23,118] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.299999999999999
[2025-08-20 03:31:23,118] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 70, 值: 11.299999999999999
[2025-08-20 03:31:23,118] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[70] = 11.299999999999999
[2025-08-20 03:31:23,118] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:31:23,119] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.322857142857144 (from index 69)
[2025-08-20 03:31:23,119] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,119] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:31:23,119] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,120] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:31:23,120] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,121] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=67:72, 当前值=9.9300
[2025-08-20 03:31:23,121] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.01
[2025-08-20 03:31:23,121] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=11.01
[2025-08-20 03:31:23,121] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 71, 值: 11.01
[2025-08-20 03:31:23,121] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[71] = 11.01
[2025-08-20 03:31:23,121] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:31:23,121] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.308 (from index 70)
[2025-08-20 03:31:23,121] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,121] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=65:72, 当前值=9.9300
[2025-08-20 03:31:23,122] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=11.120000000000001
[2025-08-20 03:31:23,122] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=11.120000000000001
[2025-08-20 03:31:23,122] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 71, 值: 11.120000000000001
[2025-08-20 03:31:23,122] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[71] = 11.120000000000001
[2025-08-20 03:31:23,122] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:31:23,122] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.299999999999999 (from index 70)
[2025-08-20 03:31:23,123] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,123] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:31:23,123] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,123] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:31:23,124] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:31:23,124] [DEBUG] [backtesting:322] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 03:31:23,124] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:23,124] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,125] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=68:73, 当前值=9.8900
[2025-08-20 03:31:23,125] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.742
[2025-08-20 03:31:23,125] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=10.742
[2025-08-20 03:31:23,125] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 72, 值: 10.742
[2025-08-20 03:31:23,125] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[72] = 10.742
[2025-08-20 03:31:23,125] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:31:23,125] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.01 (from index 71)
[2025-08-20 03:31:23,125] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,126] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=66:73, 当前值=9.8900
[2025-08-20 03:31:23,126] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.90857142857143
[2025-08-20 03:31:23,126] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=10.90857142857143
[2025-08-20 03:31:23,126] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 72, 值: 10.90857142857143
[2025-08-20 03:31:23,126] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[72] = 10.90857142857143
[2025-08-20 03:31:23,126] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:31:23,126] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.120000000000001 (from index 71)
[2025-08-20 03:31:23,127] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,127] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:31:23,127] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,127] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:31:23,128] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,128] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=69:74, 当前值=9.7500
[2025-08-20 03:31:23,128] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.431999999999999
[2025-08-20 03:31:23,128] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=10.431999999999999
[2025-08-20 03:31:23,128] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 73, 值: 10.431999999999999
[2025-08-20 03:31:23,129] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[73] = 10.431999999999999
[2025-08-20 03:31:23,129] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:31:23,129] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.742 (from index 72)
[2025-08-20 03:31:23,129] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,129] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=67:74, 当前值=9.7500
[2025-08-20 03:31:23,129] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.67
[2025-08-20 03:31:23,129] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=10.67
[2025-08-20 03:31:23,129] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 73, 值: 10.67
[2025-08-20 03:31:23,129] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[73] = 10.67
[2025-08-20 03:31:23,129] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:31:23,130] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.90857142857143 (from index 72)
[2025-08-20 03:31:23,130] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,131] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:31:23,131] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,131] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:31:23,132] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,132] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=70:75, 当前值=9.8500
[2025-08-20 03:31:23,132] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.024
[2025-08-20 03:31:23,132] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=10.024
[2025-08-20 03:31:23,132] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 74, 值: 10.024
[2025-08-20 03:31:23,132] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[74] = 10.024
[2025-08-20 03:31:23,132] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:31:23,132] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.431999999999999 (from index 73)
[2025-08-20 03:31:23,133] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,133] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=68:75, 当前值=9.8500
[2025-08-20 03:31:23,133] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.472857142857142
[2025-08-20 03:31:23,133] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=10.472857142857142
[2025-08-20 03:31:23,133] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 74, 值: 10.472857142857142
[2025-08-20 03:31:23,133] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[74] = 10.472857142857142
[2025-08-20 03:31:23,133] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:31:23,133] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.67 (from index 73)
[2025-08-20 03:31:23,134] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,134] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:31:23,134] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,134] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:31:23,135] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,135] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=71:76, 当前值=9.9400
[2025-08-20 03:31:23,135] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.872
[2025-08-20 03:31:23,135] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=9.872
[2025-08-20 03:31:23,136] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 75, 值: 9.872
[2025-08-20 03:31:23,136] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[75] = 9.872
[2025-08-20 03:31:23,136] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:31:23,136] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.024 (from index 74)
[2025-08-20 03:31:23,136] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,136] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=69:76, 当前值=9.9400
[2025-08-20 03:31:23,136] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.278571428571428
[2025-08-20 03:31:23,137] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=10.278571428571428
[2025-08-20 03:31:23,137] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 75, 值: 10.278571428571428
[2025-08-20 03:31:23,137] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[75] = 10.278571428571428
[2025-08-20 03:31:23,137] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:31:23,137] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.472857142857142 (from index 74)
[2025-08-20 03:31:23,137] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,138] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:31:23,138] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,138] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:31:23,138] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,139] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=72:77, 当前值=9.9300
[2025-08-20 03:31:23,139] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.872
[2025-08-20 03:31:23,139] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=9.872
[2025-08-20 03:31:23,139] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 76, 值: 9.872
[2025-08-20 03:31:23,139] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[76] = 9.872
[2025-08-20 03:31:23,139] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:31:23,139] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 75)
[2025-08-20 03:31:23,139] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,139] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=70:77, 当前值=9.9300
[2025-08-20 03:31:23,139] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.998571428571427
[2025-08-20 03:31:23,139] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=9.998571428571427
[2025-08-20 03:31:23,139] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 76, 值: 9.998571428571427
[2025-08-20 03:31:23,140] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[76] = 9.998571428571427
[2025-08-20 03:31:23,140] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:31:23,140] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.278571428571428 (from index 75)
[2025-08-20 03:31:23,140] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,140] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:31:23,140] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,141] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:31:23,142] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,142] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=73:78, 当前值=9.8100
[2025-08-20 03:31:23,142] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.856
[2025-08-20 03:31:23,142] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=9.856
[2025-08-20 03:31:23,142] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 77, 值: 9.856
[2025-08-20 03:31:23,142] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[77] = 9.856
[2025-08-20 03:31:23,142] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:31:23,142] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 76)
[2025-08-20 03:31:23,142] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,142] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=71:78, 当前值=9.8100
[2025-08-20 03:31:23,143] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.87142857142857
[2025-08-20 03:31:23,143] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=9.87142857142857
[2025-08-20 03:31:23,143] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 77, 值: 9.87142857142857
[2025-08-20 03:31:23,143] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[77] = 9.87142857142857
[2025-08-20 03:31:23,143] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:31:23,143] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.998571428571427 (from index 76)
[2025-08-20 03:31:23,143] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,144] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:31:23,144] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,144] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:31:23,144] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,145] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=74:79, 当前值=9.7700
[2025-08-20 03:31:23,145] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.86
[2025-08-20 03:31:23,145] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=9.86
[2025-08-20 03:31:23,145] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 78, 值: 9.86
[2025-08-20 03:31:23,145] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[78] = 9.86
[2025-08-20 03:31:23,145] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 77 (当前索引: 78, 回溯周期: 1)
[2025-08-20 03:31:23,145] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.856 (from index 77)
[2025-08-20 03:31:23,145] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,145] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=72:79, 当前值=9.7700
[2025-08-20 03:31:23,145] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.848571428571429
[2025-08-20 03:31:23,145] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=9.848571428571429
[2025-08-20 03:31:23,145] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 78, 值: 9.848571428571429
[2025-08-20 03:31:23,145] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[78] = 9.848571428571429
[2025-08-20 03:31:23,146] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 77 (当前索引: 78, 回溯周期: 1)
[2025-08-20 03:31:23,146] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.87142857142857 (from index 77)
[2025-08-20 03:31:23,146] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:31:23,147] [DEBUG] [backtesting:322] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 03:31:23,147] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:23,147] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,147] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=75:80, 当前值=9.8500
[2025-08-20 03:31:23,147] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.86
[2025-08-20 03:31:23,147] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=9.86
[2025-08-20 03:31:23,147] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 79, 值: 9.86
[2025-08-20 03:31:23,148] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[79] = 9.86
[2025-08-20 03:31:23,148] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:31:23,148] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 78)
[2025-08-20 03:31:23,148] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,148] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=73:80, 当前值=9.8500
[2025-08-20 03:31:23,148] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.842857142857143
[2025-08-20 03:31:23,148] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=9.842857142857143
[2025-08-20 03:31:23,148] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 79, 值: 9.842857142857143
[2025-08-20 03:31:23,148] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[79] = 9.842857142857143
[2025-08-20 03:31:23,148] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:31:23,148] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.848571428571429 (from index 78)
[2025-08-20 03:31:23,149] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,149] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:31:23,149] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,149] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:31:23,150] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,150] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=76:81, 当前值=9.7200
[2025-08-20 03:31:23,150] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.815999999999999
[2025-08-20 03:31:23,150] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=9.815999999999999
[2025-08-20 03:31:23,150] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 80, 值: 9.815999999999999
[2025-08-20 03:31:23,150] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[80] = 9.815999999999999
[2025-08-20 03:31:23,150] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:31:23,151] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 79)
[2025-08-20 03:31:23,151] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,151] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=74:81, 当前值=9.7200
[2025-08-20 03:31:23,151] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.838571428571429
[2025-08-20 03:31:23,151] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=9.838571428571429
[2025-08-20 03:31:23,151] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 80, 值: 9.838571428571429
[2025-08-20 03:31:23,151] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[80] = 9.838571428571429
[2025-08-20 03:31:23,151] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:31:23,151] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.842857142857143 (from index 79)
[2025-08-20 03:31:23,152] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,152] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:31:23,152] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,152] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:31:23,153] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:31:23,153] [DEBUG] [backtesting:322] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 03:31:23,153] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:23,153] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,153] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=77:82, 当前值=9.7100
[2025-08-20 03:31:23,154] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.772
[2025-08-20 03:31:23,154] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=9.772
[2025-08-20 03:31:23,154] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 81, 值: 9.772
[2025-08-20 03:31:23,154] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[81] = 9.772
[2025-08-20 03:31:23,154] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:31:23,154] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.815999999999999 (from index 80)
[2025-08-20 03:31:23,154] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,154] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=75:82, 当前值=9.7100
[2025-08-20 03:31:23,154] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.81857142857143
[2025-08-20 03:31:23,154] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=9.81857142857143
[2025-08-20 03:31:23,154] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 81, 值: 9.81857142857143
[2025-08-20 03:31:23,154] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[81] = 9.81857142857143
[2025-08-20 03:31:23,154] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:31:23,155] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.838571428571429 (from index 80)
[2025-08-20 03:31:23,155] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,155] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:31:23,155] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,155] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:31:23,156] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,157] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=78:83, 当前值=9.6000
[2025-08-20 03:31:23,157] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.73
[2025-08-20 03:31:23,157] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=9.73
[2025-08-20 03:31:23,157] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 82, 值: 9.73
[2025-08-20 03:31:23,157] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[82] = 9.73
[2025-08-20 03:31:23,157] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:31:23,157] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.772 (from index 81)
[2025-08-20 03:31:23,157] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,157] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=76:83, 当前值=9.6000
[2025-08-20 03:31:23,157] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.77
[2025-08-20 03:31:23,157] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=9.77
[2025-08-20 03:31:23,158] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 82, 值: 9.77
[2025-08-20 03:31:23,158] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[82] = 9.77
[2025-08-20 03:31:23,158] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:31:23,158] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.81857142857143 (from index 81)
[2025-08-20 03:31:23,158] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,159] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:31:23,159] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,159] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:31:23,159] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,160] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=79:84, 当前值=9.5900
[2025-08-20 03:31:23,160] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.693999999999999
[2025-08-20 03:31:23,160] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=9.693999999999999
[2025-08-20 03:31:23,160] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 83, 值: 9.693999999999999
[2025-08-20 03:31:23,160] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[83] = 9.693999999999999
[2025-08-20 03:31:23,160] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:31:23,160] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.73 (from index 82)
[2025-08-20 03:31:23,160] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,160] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=77:84, 当前值=9.5900
[2025-08-20 03:31:23,161] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.721428571428572
[2025-08-20 03:31:23,161] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=9.721428571428572
[2025-08-20 03:31:23,161] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 83, 值: 9.721428571428572
[2025-08-20 03:31:23,161] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[83] = 9.721428571428572
[2025-08-20 03:31:23,161] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:31:23,161] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.77 (from index 82)
[2025-08-20 03:31:23,161] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,162] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:31:23,162] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,162] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:31:23,163] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,163] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=80:85, 当前值=9.9400
[2025-08-20 03:31:23,163] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.712
[2025-08-20 03:31:23,163] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=9.712
[2025-08-20 03:31:23,163] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 84, 值: 9.712
[2025-08-20 03:31:23,163] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[84] = 9.712
[2025-08-20 03:31:23,163] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:31:23,163] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.693999999999999 (from index 83)
[2025-08-20 03:31:23,164] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,164] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=78:85, 当前值=9.9400
[2025-08-20 03:31:23,164] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.74
[2025-08-20 03:31:23,164] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=9.74
[2025-08-20 03:31:23,164] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 84, 值: 9.74
[2025-08-20 03:31:23,164] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[84] = 9.74
[2025-08-20 03:31:23,164] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:31:23,164] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.721428571428572 (from index 83)
[2025-08-20 03:31:23,165] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,165] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:31:23,165] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,165] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:31:23,166] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,166] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=81:86, 当前值=9.8000
[2025-08-20 03:31:23,166] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.728
[2025-08-20 03:31:23,166] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=9.728
[2025-08-20 03:31:23,166] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 85, 值: 9.728
[2025-08-20 03:31:23,166] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[85] = 9.728
[2025-08-20 03:31:23,166] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:31:23,167] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.712 (from index 84)
[2025-08-20 03:31:23,167] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,167] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=79:86, 当前值=9.8000
[2025-08-20 03:31:23,167] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.744285714285713
[2025-08-20 03:31:23,167] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=9.744285714285713
[2025-08-20 03:31:23,167] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 85, 值: 9.744285714285713
[2025-08-20 03:31:23,167] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[85] = 9.744285714285713
[2025-08-20 03:31:23,168] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:31:23,168] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.74 (from index 84)
[2025-08-20 03:31:23,168] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,168] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:31:23,168] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,169] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:31:23,169] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,169] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=82:87, 当前值=9.8800
[2025-08-20 03:31:23,170] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.762
[2025-08-20 03:31:23,170] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=9.762
[2025-08-20 03:31:23,170] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 86, 值: 9.762
[2025-08-20 03:31:23,170] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[86] = 9.762
[2025-08-20 03:31:23,170] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 85 (当前索引: 86, 回溯周期: 1)
[2025-08-20 03:31:23,170] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.728 (from index 85)
[2025-08-20 03:31:23,170] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,170] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=80:87, 当前值=9.8800
[2025-08-20 03:31:23,170] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.748571428571427
[2025-08-20 03:31:23,170] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=9.748571428571427
[2025-08-20 03:31:23,170] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 86, 值: 9.748571428571427
[2025-08-20 03:31:23,170] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[86] = 9.748571428571427
[2025-08-20 03:31:23,171] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 85 (当前索引: 86, 回溯周期: 1)
[2025-08-20 03:31:23,171] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.744285714285713 (from index 85)
[2025-08-20 03:31:23,171] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:31:23,172] [DEBUG] [backtesting:322] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 03:31:23,172] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:23,172] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,172] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=83:88, 当前值=10.8700
[2025-08-20 03:31:23,172] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.016
[2025-08-20 03:31:23,173] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=10.016
[2025-08-20 03:31:23,173] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 87, 值: 10.016
[2025-08-20 03:31:23,173] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[87] = 10.016
[2025-08-20 03:31:23,173] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:31:23,173] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.762 (from index 86)
[2025-08-20 03:31:23,173] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,173] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=81:88, 当前值=10.8700
[2025-08-20 03:31:23,173] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=9.912857142857144
[2025-08-20 03:31:23,173] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=9.912857142857144
[2025-08-20 03:31:23,174] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 87, 值: 9.912857142857144
[2025-08-20 03:31:23,174] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[87] = 9.912857142857144
[2025-08-20 03:31:23,174] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:31:23,174] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.748571428571427 (from index 86)
[2025-08-20 03:31:23,174] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,175] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:31:23,175] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,175] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:31:23,176] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,176] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=84:89, 当前值=11.2400
[2025-08-20 03:31:23,176] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.346
[2025-08-20 03:31:23,176] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=10.346
[2025-08-20 03:31:23,176] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 88, 值: 10.346
[2025-08-20 03:31:23,176] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[88] = 10.346
[2025-08-20 03:31:23,176] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:31:23,177] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.016 (from index 87)
[2025-08-20 03:31:23,177] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,177] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=82:89, 当前值=11.2400
[2025-08-20 03:31:23,177] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.131428571428572
[2025-08-20 03:31:23,177] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=10.131428571428572
[2025-08-20 03:31:23,177] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 88, 值: 10.131428571428572
[2025-08-20 03:31:23,177] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[88] = 10.131428571428572
[2025-08-20 03:31:23,177] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:31:23,178] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.912857142857144 (from index 87)
[2025-08-20 03:31:23,178] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,179] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:31:23,179] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,179] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:31:23,180] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,180] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=85:90, 当前值=10.8900
[2025-08-20 03:31:23,180] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.536
[2025-08-20 03:31:23,180] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=10.536
[2025-08-20 03:31:23,180] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 89, 值: 10.536
[2025-08-20 03:31:23,180] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[89] = 10.536
[2025-08-20 03:31:23,180] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:31:23,181] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.346 (from index 88)
[2025-08-20 03:31:23,181] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,181] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=83:90, 当前值=10.8900
[2025-08-20 03:31:23,181] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.315714285714284
[2025-08-20 03:31:23,181] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=10.315714285714284
[2025-08-20 03:31:23,181] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 89, 值: 10.315714285714284
[2025-08-20 03:31:23,181] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[89] = 10.315714285714284
[2025-08-20 03:31:23,181] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:31:23,182] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.131428571428572 (from index 88)
[2025-08-20 03:31:23,182] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,182] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:31:23,183] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,183] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:31:23,183] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,184] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=86:91, 当前值=10.9600
[2025-08-20 03:31:23,184] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.768
[2025-08-20 03:31:23,184] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=10.768
[2025-08-20 03:31:23,184] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 90, 值: 10.768
[2025-08-20 03:31:23,184] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[90] = 10.768
[2025-08-20 03:31:23,184] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:31:23,184] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.536 (from index 89)
[2025-08-20 03:31:23,184] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,184] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=84:91, 当前值=10.9600
[2025-08-20 03:31:23,185] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.51142857142857
[2025-08-20 03:31:23,185] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=10.51142857142857
[2025-08-20 03:31:23,185] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 90, 值: 10.51142857142857
[2025-08-20 03:31:23,185] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[90] = 10.51142857142857
[2025-08-20 03:31:23,185] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:31:23,185] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.315714285714284 (from index 89)
[2025-08-20 03:31:23,186] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,186] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:31:23,186] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,186] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:31:23,187] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,187] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=87:92, 当前值=10.6400
[2025-08-20 03:31:23,187] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.92
[2025-08-20 03:31:23,187] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=10.92
[2025-08-20 03:31:23,187] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 91, 值: 10.92
[2025-08-20 03:31:23,187] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[91] = 10.92
[2025-08-20 03:31:23,188] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:31:23,188] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.768 (from index 90)
[2025-08-20 03:31:23,188] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,188] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=85:92, 当前值=10.6400
[2025-08-20 03:31:23,188] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.611428571428572
[2025-08-20 03:31:23,188] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=10.611428571428572
[2025-08-20 03:31:23,188] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 91, 值: 10.611428571428572
[2025-08-20 03:31:23,188] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[91] = 10.611428571428572
[2025-08-20 03:31:23,188] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:31:23,189] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.51142857142857 (from index 90)
[2025-08-20 03:31:23,189] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,189] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:31:23,190] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,190] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:31:23,191] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,191] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=88:93, 当前值=10.2700
[2025-08-20 03:31:23,191] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.8
[2025-08-20 03:31:23,191] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=10.8
[2025-08-20 03:31:23,191] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 92, 值: 10.8
[2025-08-20 03:31:23,191] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[92] = 10.8
[2025-08-20 03:31:23,191] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:31:23,191] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.92 (from index 91)
[2025-08-20 03:31:23,191] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,191] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=86:93, 当前值=10.2700
[2025-08-20 03:31:23,192] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.678571428571429
[2025-08-20 03:31:23,192] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=10.678571428571429
[2025-08-20 03:31:23,192] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 92, 值: 10.678571428571429
[2025-08-20 03:31:23,192] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[92] = 10.678571428571429
[2025-08-20 03:31:23,192] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:31:23,192] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.611428571428572 (from index 91)
[2025-08-20 03:31:23,193] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,193] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:31:23,193] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,193] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:31:23,194] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,194] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=89:94, 当前值=10.3000
[2025-08-20 03:31:23,194] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.612
[2025-08-20 03:31:23,194] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=10.612
[2025-08-20 03:31:23,195] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 93, 值: 10.612
[2025-08-20 03:31:23,195] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[93] = 10.612
[2025-08-20 03:31:23,195] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:31:23,195] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.8 (from index 92)
[2025-08-20 03:31:23,195] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,195] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=87:94, 当前值=10.3000
[2025-08-20 03:31:23,195] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.73857142857143
[2025-08-20 03:31:23,195] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=10.73857142857143
[2025-08-20 03:31:23,195] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 93, 值: 10.73857142857143
[2025-08-20 03:31:23,195] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[93] = 10.73857142857143
[2025-08-20 03:31:23,195] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:31:23,196] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.678571428571429 (from index 92)
[2025-08-20 03:31:23,196] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,196] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:31:23,196] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,197] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:31:23,198] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:31:23,198] [DEBUG] [backtesting:322] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 03:31:23,198] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:31:23,199] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,199] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=90:95, 当前值=10.2800
[2025-08-20 03:31:23,199] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.49
[2025-08-20 03:31:23,199] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,5=10.49
[2025-08-20 03:31:23,199] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,5) 到索引 94, 值: 10.49
[2025-08-20 03:31:23,199] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,5)[94] = 10.49
[2025-08-20 03:31:23,199] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:31:23,199] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.612 (from index 93)
[2025-08-20 03:31:23,199] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,200] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=88:95, 当前值=10.2800
[2025-08-20 03:31:23,200] [DEBUG] [rule_parser:355] [conn:N/A] 指标计算结果: SMA=10.654285714285715
[2025-08-20 03:31:23,200] [DEBUG] [rule_parser:357] [conn:N/A] SMA计算详情: close,7=10.654285714285715
[2025-08-20 03:31:23,200] [DEBUG] [rule_parser:384] [conn:N/A] 准备存储指标 SMA(close,7) 到索引 94, 值: 10.654285714285715
[2025-08-20 03:31:23,200] [DEBUG] [rule_parser:401] [conn:N/A] 存储指标 SMA(close,7)[94] = 10.654285714285715
[2025-08-20 03:31:23,200] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:31:23,200] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.73857142857143 (from index 93)
[2025-08-20 03:31:23,201] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:31:23,201] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:31:23,201] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:31:23,201] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:31:23,202] [DEBUG] [backtesting:278] [conn:N/A] 回测完成
[2025-08-20 03:31:23,203] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 03:32:26,207] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:32:26,207] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 03:32:26,207] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:32:26,234] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 03:32:26,246] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 03:32:26,298] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 03:32:26,308] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:32:26,309] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 03:32:26,309] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 03:32:26,311] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:32:26,311] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:32:26,312] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:32:26,312] [DEBUG] [backtesting:548] [conn:N/A] 注册策略调度处理器: 53ed04f7-0ed8-402b-ac84-684215d63553
[2025-08-20 03:32:26,312] [INFO] [backtesting:551] [conn:N/A] 策略注册成功 | ID: 53ed04f7-0ed8-402b-ac84-684215d63553 | 名称: 自定义规则策略
[2025-08-20 03:32:26,312] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 03:32:26,313] [DEBUG] [backtesting:225] [conn:N/A] 识别数据频率为：日线
[2025-08-20 03:32:26,315] [DEBUG] [backtesting:251] [conn:N/A] 开始回测...
[2025-08-20 03:32:26,315] [INFO] [backtesting:598] [conn:N/A] 回测系统初始化开始
[2025-08-20 03:32:26,315] [INFO] [backtesting:610] [conn:N/A] 策略初始化完成: 53ed04f7-0ed8-402b-ac84-684215d63553
[2025-08-20 03:32:26,315] [INFO] [backtesting:628] [conn:N/A] 回测系统初始化完成
[2025-08-20 03:32:26,316] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,316] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:32:26,316] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 03:32:26,317] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,317] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:32:26,317] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 03:32:26,318] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,318] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:32:26,318] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,318] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 0, 回溯周期: 1)
[2025-08-20 03:32:26,319] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,319] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:32:26,319] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 03:32:26,319] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,320] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:32:26,320] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 03:32:26,321] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,321] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:32:26,321] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,321] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 0 (当前索引: 1, 回溯周期: 1)
[2025-08-20 03:32:26,322] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,322] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:32:26,322] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 1)
[2025-08-20 03:32:26,322] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,323] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:32:26,323] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 1)
[2025-08-20 03:32:26,324] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,324] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:32:26,324] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,324] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 1 (当前索引: 2, 回溯周期: 1)
[2025-08-20 03:32:26,325] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,325] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:32:26,325] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 2)
[2025-08-20 03:32:26,325] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,326] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:32:26,326] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 2)
[2025-08-20 03:32:26,326] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,326] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:32:26,326] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,327] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 2 (当前索引: 3, 回溯周期: 1)
[2025-08-20 03:32:26,327] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,327] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:32:26,328] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 3)
[2025-08-20 03:32:26,328] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,328] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:32:26,328] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 3)
[2025-08-20 03:32:26,328] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,328] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:32:26,329] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,329] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 3 (当前索引: 4, 回溯周期: 1)
[2025-08-20 03:32:26,329] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,329] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=1:6, 当前值=5.6700
[2025-08-20 03:32:26,330] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:32:26,330] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 4)
[2025-08-20 03:32:26,330] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,330] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:32:26,330] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 4)
[2025-08-20 03:32:26,331] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,332] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:32:26,332] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,332] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 4 (当前索引: 5, 回溯周期: 1)
[2025-08-20 03:32:26,333] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,333] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=2:7, 当前值=5.9700
[2025-08-20 03:32:26,334] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:32:26,334] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.093999999999999 (from index 5)
[2025-08-20 03:32:26,334] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,334] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:32:26,334] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 5)
[2025-08-20 03:32:26,335] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,335] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:32:26,335] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,335] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 5 (当前索引: 6, 回溯周期: 1)
[2025-08-20 03:32:26,336] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,336] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=3:8, 当前值=6.0600
[2025-08-20 03:32:26,336] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:32:26,337] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.964 (from index 6)
[2025-08-20 03:32:26,337] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,337] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=1:8, 当前值=6.0600
[2025-08-20 03:32:26,337] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:32:26,337] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 6)
[2025-08-20 03:32:26,338] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,338] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:32:26,338] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,338] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 6 (当前索引: 7, 回溯周期: 1)
[2025-08-20 03:32:26,338] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:32:26,339] [DEBUG] [backtesting:322] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 03:32:26,339] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,339] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,339] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=4:9, 当前值=6.2200
[2025-08-20 03:32:26,339] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:32:26,339] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.848 (from index 7)
[2025-08-20 03:32:26,339] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,340] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=2:9, 当前值=6.2200
[2025-08-20 03:32:26,340] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:32:26,340] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.071428571428571 (from index 7)
[2025-08-20 03:32:26,340] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,341] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:32:26,341] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,341] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 7 (当前索引: 8, 回溯周期: 1)
[2025-08-20 03:32:26,342] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,342] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=5:10, 当前值=6.2300
[2025-08-20 03:32:26,342] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 8 (当前索引: 9, 回溯周期: 1)
[2025-08-20 03:32:26,342] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.896 (from index 8)
[2025-08-20 03:32:26,342] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,342] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=3:10, 当前值=6.2300
[2025-08-20 03:32:26,342] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 8 (当前索引: 9, 回溯周期: 1)
[2025-08-20 03:32:26,342] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.014285714285714 (from index 8)
[2025-08-20 03:32:26,343] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:32:26,355] [DEBUG] [backtesting:322] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 03:32:26,355] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,357] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,357] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=6:11, 当前值=6.1700
[2025-08-20 03:32:26,357] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:32:26,357] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.029999999999999 (from index 9)
[2025-08-20 03:32:26,358] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,358] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=4:11, 当前值=6.1700
[2025-08-20 03:32:26,358] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:32:26,358] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.9557142857142855 (from index 9)
[2025-08-20 03:32:26,359] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,359] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:32:26,359] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,359] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 9 (当前索引: 10, 回溯周期: 1)
[2025-08-20 03:32:26,360] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,361] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=7:12, 当前值=6.7900
[2025-08-20 03:32:26,361] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:32:26,361] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.13 (from index 10)
[2025-08-20 03:32:26,361] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,361] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=5:12, 当前值=6.7900
[2025-08-20 03:32:26,361] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:32:26,362] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.982857142857143 (from index 10)
[2025-08-20 03:32:26,362] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,362] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:32:26,362] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,363] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 10 (当前索引: 11, 回溯周期: 1)
[2025-08-20 03:32:26,364] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,364] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=8:13, 当前值=6.3400
[2025-08-20 03:32:26,365] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:32:26,365] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.294 (from index 11)
[2025-08-20 03:32:26,365] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,365] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=6:13, 当前值=6.3400
[2025-08-20 03:32:26,365] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:32:26,366] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.158571428571428 (from index 11)
[2025-08-20 03:32:26,366] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,366] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:32:26,366] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,366] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 11 (当前索引: 12, 回溯周期: 1)
[2025-08-20 03:32:26,367] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,367] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=9:14, 当前值=6.9700
[2025-08-20 03:32:26,367] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:32:26,368] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.35 (from index 12)
[2025-08-20 03:32:26,368] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,368] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=7:14, 当前值=6.9700
[2025-08-20 03:32:26,368] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:32:26,368] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.2542857142857144 (from index 12)
[2025-08-20 03:32:26,368] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,368] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:32:26,368] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,369] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 12 (当前索引: 13, 回溯周期: 1)
[2025-08-20 03:32:26,369] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,369] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=10:15, 当前值=6.8200
[2025-08-20 03:32:26,369] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:32:26,369] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.5 (from index 13)
[2025-08-20 03:32:26,370] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,370] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=8:15, 当前值=6.8200
[2025-08-20 03:32:26,370] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:32:26,370] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.397142857142858 (from index 13)
[2025-08-20 03:32:26,370] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,370] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:32:26,370] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,371] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 13 (当前索引: 14, 回溯周期: 1)
[2025-08-20 03:32:26,371] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,371] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=11:16, 当前值=6.1800
[2025-08-20 03:32:26,372] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:32:26,372] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.618 (from index 14)
[2025-08-20 03:32:26,372] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,372] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=9:16, 当前值=6.1800
[2025-08-20 03:32:26,372] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:32:26,372] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.505714285714285 (from index 14)
[2025-08-20 03:32:26,372] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,373] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:32:26,373] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,373] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 14 (当前索引: 15, 回溯周期: 1)
[2025-08-20 03:32:26,373] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,374] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=12:17, 当前值=5.9200
[2025-08-20 03:32:26,374] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:32:26,374] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.62 (from index 15)
[2025-08-20 03:32:26,374] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,374] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=10:17, 当前值=5.9200
[2025-08-20 03:32:26,374] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:32:26,374] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.5 (from index 15)
[2025-08-20 03:32:26,375] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,375] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:32:26,375] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,375] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 15 (当前索引: 16, 回溯周期: 1)
[2025-08-20 03:32:26,375] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:32:26,376] [DEBUG] [backtesting:322] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 03:32:26,376] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,376] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,376] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=13:18, 当前值=5.9400
[2025-08-20 03:32:26,376] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:32:26,376] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.446 (from index 16)
[2025-08-20 03:32:26,377] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,377] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=11:18, 当前值=5.9400
[2025-08-20 03:32:26,377] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:32:26,377] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.4557142857142855 (from index 16)
[2025-08-20 03:32:26,377] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,377] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:32:26,378] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,378] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 16 (当前索引: 17, 回溯周期: 1)
[2025-08-20 03:32:26,378] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,378] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=14:19, 当前值=6.0900
[2025-08-20 03:32:26,378] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:32:26,379] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.366 (from index 17)
[2025-08-20 03:32:26,379] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,379] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=12:19, 当前值=6.0900
[2025-08-20 03:32:26,379] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:32:26,379] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.422857142857143 (from index 17)
[2025-08-20 03:32:26,379] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,380] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:32:26,380] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,380] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 17 (当前索引: 18, 回溯周期: 1)
[2025-08-20 03:32:26,381] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,381] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=15:20, 当前值=6.1000
[2025-08-20 03:32:26,381] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:32:26,381] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.1899999999999995 (from index 18)
[2025-08-20 03:32:26,381] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,382] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=13:20, 当前值=6.1000
[2025-08-20 03:32:26,382] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:32:26,382] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.322857142857143 (from index 18)
[2025-08-20 03:32:26,382] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,382] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:32:26,383] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,383] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 18 (当前索引: 19, 回溯周期: 1)
[2025-08-20 03:32:26,383] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,383] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=16:21, 当前值=6.7100
[2025-08-20 03:32:26,383] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:32:26,384] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.046 (from index 19)
[2025-08-20 03:32:26,384] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,384] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=14:21, 当前值=6.7100
[2025-08-20 03:32:26,384] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:32:26,384] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.288571428571429 (from index 19)
[2025-08-20 03:32:26,384] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,385] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:32:26,385] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,385] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 19 (当前索引: 20, 回溯周期: 1)
[2025-08-20 03:32:26,385] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,385] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=17:22, 当前值=7.3800
[2025-08-20 03:32:26,386] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 20 (当前索引: 21, 回溯周期: 1)
[2025-08-20 03:32:26,386] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.152 (from index 20)
[2025-08-20 03:32:26,386] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,386] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=15:22, 当前值=7.3800
[2025-08-20 03:32:26,386] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 20 (当前索引: 21, 回溯周期: 1)
[2025-08-20 03:32:26,386] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.251428571428571 (from index 20)
[2025-08-20 03:32:26,387] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:32:26,387] [DEBUG] [backtesting:322] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 03:32:26,387] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,387] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,388] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=18:23, 当前值=7.2700
[2025-08-20 03:32:26,388] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:32:26,388] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.444 (from index 21)
[2025-08-20 03:32:26,388] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,388] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=16:23, 当前值=7.2700
[2025-08-20 03:32:26,388] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:32:26,388] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.331428571428572 (from index 21)
[2025-08-20 03:32:26,389] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,389] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:32:26,389] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,389] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 21 (当前索引: 22, 回溯周期: 1)
[2025-08-20 03:32:26,389] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,390] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=19:24, 当前值=7.3200
[2025-08-20 03:32:26,390] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:32:26,390] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.709999999999999 (from index 22)
[2025-08-20 03:32:26,390] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,390] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=17:24, 当前值=7.3200
[2025-08-20 03:32:26,390] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:32:26,390] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.487142857142857 (from index 22)
[2025-08-20 03:32:26,391] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,391] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:32:26,391] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,391] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 22 (当前索引: 23, 回溯周期: 1)
[2025-08-20 03:32:26,392] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,392] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=20:25, 当前值=7.4700
[2025-08-20 03:32:26,392] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:32:26,392] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.956 (from index 23)
[2025-08-20 03:32:26,392] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,392] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=18:25, 当前值=7.4700
[2025-08-20 03:32:26,392] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:32:26,392] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.687142857142858 (from index 23)
[2025-08-20 03:32:26,393] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,393] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:32:26,393] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,393] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 23 (当前索引: 24, 回溯周期: 1)
[2025-08-20 03:32:26,394] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,394] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=21:26, 当前值=7.3300
[2025-08-20 03:32:26,394] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:32:26,394] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.2299999999999995 (from index 24)
[2025-08-20 03:32:26,394] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,394] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=19:26, 当前值=7.3300
[2025-08-20 03:32:26,394] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:32:26,395] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.905714285714287 (from index 24)
[2025-08-20 03:32:26,395] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,395] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:32:26,395] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,395] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 24 (当前索引: 25, 回溯周期: 1)
[2025-08-20 03:32:26,396] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,396] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=22:27, 当前值=7.6600
[2025-08-20 03:32:26,396] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:32:26,397] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.354000000000001 (from index 25)
[2025-08-20 03:32:26,397] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,397] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=20:27, 当前值=7.6600
[2025-08-20 03:32:26,397] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:32:26,397] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.082857142857143 (from index 25)
[2025-08-20 03:32:26,397] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,398] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:32:26,398] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,398] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 25 (当前索引: 26, 回溯周期: 1)
[2025-08-20 03:32:26,398] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,398] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=23:28, 当前值=7.7500
[2025-08-20 03:32:26,399] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:32:26,399] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.409999999999999 (from index 26)
[2025-08-20 03:32:26,399] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,399] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=21:28, 当前值=7.7500
[2025-08-20 03:32:26,399] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:32:26,399] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.305714285714286 (from index 26)
[2025-08-20 03:32:26,399] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,400] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:32:26,400] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,400] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 26 (当前索引: 27, 回溯周期: 1)
[2025-08-20 03:32:26,401] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,401] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=24:29, 当前值=7.6400
[2025-08-20 03:32:26,401] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:32:26,401] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.506 (from index 27)
[2025-08-20 03:32:26,401] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,401] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=22:29, 当前值=7.6400
[2025-08-20 03:32:26,401] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:32:26,401] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.454285714285715 (from index 27)
[2025-08-20 03:32:26,402] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,402] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:32:26,402] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,402] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 27 (当前索引: 28, 回溯周期: 1)
[2025-08-20 03:32:26,403] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,403] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=25:30, 当前值=7.9700
[2025-08-20 03:32:26,403] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:32:26,403] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.57 (from index 28)
[2025-08-20 03:32:26,403] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,403] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=23:30, 当前值=7.9700
[2025-08-20 03:32:26,403] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:32:26,403] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.491428571428571 (from index 28)
[2025-08-20 03:32:26,404] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,404] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:32:26,404] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,404] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 28 (当前索引: 29, 回溯周期: 1)
[2025-08-20 03:32:26,405] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,405] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=26:31, 当前值=8.0800
[2025-08-20 03:32:26,405] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:32:26,405] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.67 (from index 29)
[2025-08-20 03:32:26,405] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,405] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=24:31, 当前值=8.0800
[2025-08-20 03:32:26,405] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:32:26,405] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.591428571428572 (from index 29)
[2025-08-20 03:32:26,406] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,406] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:32:26,406] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,406] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 29 (当前索引: 30, 回溯周期: 1)
[2025-08-20 03:32:26,407] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,407] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=27:32, 当前值=8.8900
[2025-08-20 03:32:26,407] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:32:26,407] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.82 (from index 30)
[2025-08-20 03:32:26,407] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,407] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=25:32, 当前值=8.8900
[2025-08-20 03:32:26,407] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:32:26,407] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.7 (from index 30)
[2025-08-20 03:32:26,408] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,408] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:32:26,408] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,408] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 30 (当前索引: 31, 回溯周期: 1)
[2025-08-20 03:32:26,409] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,409] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=28:33, 当前值=9.7800
[2025-08-20 03:32:26,409] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:32:26,409] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.065999999999999 (from index 31)
[2025-08-20 03:32:26,409] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,409] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=26:33, 当前值=9.7800
[2025-08-20 03:32:26,409] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:32:26,409] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.902857142857143 (from index 31)
[2025-08-20 03:32:26,410] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,410] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:32:26,410] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,410] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 31 (当前索引: 32, 回溯周期: 1)
[2025-08-20 03:32:26,410] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,410] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=29:34, 当前值=10.7600
[2025-08-20 03:32:26,411] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:32:26,411] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.472 (from index 32)
[2025-08-20 03:32:26,411] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,412] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=27:34, 当前值=10.7600
[2025-08-20 03:32:26,412] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:32:26,412] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.252857142857144 (from index 32)
[2025-08-20 03:32:26,412] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,413] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:32:26,413] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,413] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 32 (当前索引: 33, 回溯周期: 1)
[2025-08-20 03:32:26,414] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,414] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=30:35, 当前值=11.4500
[2025-08-20 03:32:26,414] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:32:26,414] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.096 (from index 33)
[2025-08-20 03:32:26,414] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,414] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=28:35, 当前值=11.4500
[2025-08-20 03:32:26,414] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:32:26,415] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.695714285714285 (from index 33)
[2025-08-20 03:32:26,415] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,415] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:32:26,415] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,415] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 33 (当前索引: 34, 回溯周期: 1)
[2025-08-20 03:32:26,416] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,416] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=31:36, 当前值=12.6000
[2025-08-20 03:32:26,416] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:32:26,416] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.792 (from index 34)
[2025-08-20 03:32:26,417] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,417] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=29:36, 当前值=12.6000
[2025-08-20 03:32:26,417] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:32:26,417] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.224285714285713 (from index 34)
[2025-08-20 03:32:26,417] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,417] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:32:26,417] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,418] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 34 (当前索引: 35, 回溯周期: 1)
[2025-08-20 03:32:26,418] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,418] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=32:37, 当前值=13.8600
[2025-08-20 03:32:26,418] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:32:26,418] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.696 (from index 35)
[2025-08-20 03:32:26,419] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,419] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=30:37, 当前值=13.8600
[2025-08-20 03:32:26,419] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:32:26,419] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.932857142857143 (from index 35)
[2025-08-20 03:32:26,419] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,419] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:32:26,419] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,420] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 35 (当前索引: 36, 回溯周期: 1)
[2025-08-20 03:32:26,420] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,420] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=33:38, 当前值=13.5000
[2025-08-20 03:32:26,420] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:32:26,420] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.690000000000001 (from index 36)
[2025-08-20 03:32:26,420] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,421] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=31:38, 当前值=13.5000
[2025-08-20 03:32:26,421] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:32:26,421] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.774285714285714 (from index 36)
[2025-08-20 03:32:26,422] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,422] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:32:26,422] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,422] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 36 (当前索引: 37, 回溯周期: 1)
[2025-08-20 03:32:26,423] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,423] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=34:39, 当前值=12.1500
[2025-08-20 03:32:26,423] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:32:26,423] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.434000000000001 (from index 37)
[2025-08-20 03:32:26,423] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,423] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=32:39, 当前值=12.1500
[2025-08-20 03:32:26,423] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:32:26,423] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.54857142857143 (from index 37)
[2025-08-20 03:32:26,424] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,424] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:32:26,424] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,424] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 37 (当前索引: 38, 回溯周期: 1)
[2025-08-20 03:32:26,425] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,425] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=35:40, 当前值=11.2600
[2025-08-20 03:32:26,425] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:32:26,425] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.712 (from index 38)
[2025-08-20 03:32:26,425] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,425] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=33:40, 当前值=11.2600
[2025-08-20 03:32:26,425] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:32:26,425] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.014285714285714 (from index 38)
[2025-08-20 03:32:26,426] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,426] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:32:26,426] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,426] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 38 (当前索引: 39, 回溯周期: 1)
[2025-08-20 03:32:26,427] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,427] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=36:41, 当前值=11.8500
[2025-08-20 03:32:26,427] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:32:26,427] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.674 (from index 39)
[2025-08-20 03:32:26,427] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,427] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=34:41, 当前值=11.8500
[2025-08-20 03:32:26,427] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:32:26,427] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.225714285714286 (from index 39)
[2025-08-20 03:32:26,428] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,428] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:32:26,428] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,428] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 39 (当前索引: 40, 回溯周期: 1)
[2025-08-20 03:32:26,428] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,429] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=37:42, 当前值=13.0400
[2025-08-20 03:32:26,429] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:32:26,429] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.524 (from index 40)
[2025-08-20 03:32:26,429] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,429] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=35:42, 当前值=13.0400
[2025-08-20 03:32:26,429] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:32:26,429] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.381428571428572 (from index 40)
[2025-08-20 03:32:26,430] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,430] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:32:26,430] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,430] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 40 (当前索引: 41, 回溯周期: 1)
[2025-08-20 03:32:26,431] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:32:26,431] [DEBUG] [backtesting:322] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 03:32:26,431] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,431] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,431] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=38:43, 当前值=11.7400
[2025-08-20 03:32:26,432] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:32:26,432] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.36 (from index 41)
[2025-08-20 03:32:26,432] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,432] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=36:43, 当前值=11.7400
[2025-08-20 03:32:26,432] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:32:26,432] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.608571428571429 (from index 41)
[2025-08-20 03:32:26,433] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,433] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:32:26,433] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,433] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 41 (当前索引: 42, 回溯周期: 1)
[2025-08-20 03:32:26,433] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,433] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=39:44, 当前值=11.1000
[2025-08-20 03:32:26,434] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:32:26,434] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.008 (from index 42)
[2025-08-20 03:32:26,434] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,434] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=37:44, 当前值=11.1000
[2025-08-20 03:32:26,434] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:32:26,434] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.485714285714286 (from index 42)
[2025-08-20 03:32:26,434] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,435] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:32:26,435] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,435] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 42 (当前索引: 43, 回溯周期: 1)
[2025-08-20 03:32:26,435] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,435] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=40:45, 当前值=11.7300
[2025-08-20 03:32:26,435] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 43 (当前索引: 44, 回溯周期: 1)
[2025-08-20 03:32:26,436] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.798 (from index 43)
[2025-08-20 03:32:26,436] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,436] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=38:45, 当前值=11.7300
[2025-08-20 03:32:26,436] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 43 (当前索引: 44, 回溯周期: 1)
[2025-08-20 03:32:26,436] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.09142857142857 (from index 43)
[2025-08-20 03:32:26,437] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:32:26,438] [DEBUG] [backtesting:322] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 03:32:26,438] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,438] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,438] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=41:46, 当前值=11.8500
[2025-08-20 03:32:26,438] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:32:26,438] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 44)
[2025-08-20 03:32:26,438] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,438] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=39:46, 当前值=11.8500
[2025-08-20 03:32:26,438] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:32:26,439] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.838571428571429 (from index 44)
[2025-08-20 03:32:26,439] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,439] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:32:26,439] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,439] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 44 (当前索引: 45, 回溯周期: 1)
[2025-08-20 03:32:26,440] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,440] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=42:47, 当前值=12.2400
[2025-08-20 03:32:26,440] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:32:26,440] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 45)
[2025-08-20 03:32:26,440] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,440] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=40:47, 当前值=12.2400
[2025-08-20 03:32:26,440] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:32:26,441] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.795714285714284 (from index 45)
[2025-08-20 03:32:26,441] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,441] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:32:26,441] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,442] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 45 (当前索引: 46, 回溯周期: 1)
[2025-08-20 03:32:26,442] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:32:26,442] [DEBUG] [backtesting:322] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 03:32:26,442] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,443] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,443] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=43:48, 当前值=12.9700
[2025-08-20 03:32:26,443] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:32:26,443] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 46)
[2025-08-20 03:32:26,443] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,443] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=41:48, 当前值=12.9700
[2025-08-20 03:32:26,443] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:32:26,443] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.935714285714285 (from index 46)
[2025-08-20 03:32:26,444] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,444] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:32:26,444] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,444] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 46 (当前索引: 47, 回溯周期: 1)
[2025-08-20 03:32:26,444] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,445] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=44:49, 当前值=12.9700
[2025-08-20 03:32:26,445] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 47 (当前索引: 48, 回溯周期: 1)
[2025-08-20 03:32:26,445] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.978 (from index 47)
[2025-08-20 03:32:26,445] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,445] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=42:49, 当前值=12.9700
[2025-08-20 03:32:26,445] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 47 (当前索引: 48, 回溯周期: 1)
[2025-08-20 03:32:26,445] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.095714285714285 (from index 47)
[2025-08-20 03:32:26,445] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:32:26,446] [DEBUG] [backtesting:322] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 03:32:26,446] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,446] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,446] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=45:50, 当前值=12.8700
[2025-08-20 03:32:26,446] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:32:26,447] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.352 (from index 48)
[2025-08-20 03:32:26,447] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,447] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=43:50, 当前值=12.8700
[2025-08-20 03:32:26,447] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:32:26,447] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.085714285714285 (from index 48)
[2025-08-20 03:32:26,447] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,447] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:32:26,447] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,448] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 48 (当前索引: 49, 回溯周期: 1)
[2025-08-20 03:32:26,448] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,448] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=46:51, 当前值=12.3500
[2025-08-20 03:32:26,449] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:32:26,449] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.58 (from index 49)
[2025-08-20 03:32:26,449] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,449] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=44:51, 当前值=12.3500
[2025-08-20 03:32:26,449] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:32:26,449] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.247142857142858 (from index 49)
[2025-08-20 03:32:26,449] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,450] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:32:26,450] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,450] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 49 (当前索引: 50, 回溯周期: 1)
[2025-08-20 03:32:26,450] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,450] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=47:52, 当前值=12.1800
[2025-08-20 03:32:26,451] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:32:26,451] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.68 (from index 50)
[2025-08-20 03:32:26,451] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,451] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=45:52, 当前值=12.1800
[2025-08-20 03:32:26,451] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:32:26,451] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.425714285714287 (from index 50)
[2025-08-20 03:32:26,452] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,452] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:32:26,452] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,452] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 50 (当前索引: 51, 回溯周期: 1)
[2025-08-20 03:32:26,453] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,453] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=48:53, 当前值=11.6200
[2025-08-20 03:32:26,453] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:32:26,453] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.668000000000001 (from index 51)
[2025-08-20 03:32:26,453] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,453] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=46:53, 当前值=11.6200
[2025-08-20 03:32:26,453] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:32:26,453] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.49 (from index 51)
[2025-08-20 03:32:26,454] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,454] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:32:26,454] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,454] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 51 (当前索引: 52, 回溯周期: 1)
[2025-08-20 03:32:26,455] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:32:26,455] [DEBUG] [backtesting:322] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 03:32:26,455] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,455] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,455] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=49:54, 当前值=11.5100
[2025-08-20 03:32:26,455] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:32:26,455] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.398 (from index 52)
[2025-08-20 03:32:26,456] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,456] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=47:54, 当前值=11.5100
[2025-08-20 03:32:26,456] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:32:26,456] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.457142857142857 (from index 52)
[2025-08-20 03:32:26,457] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,457] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:32:26,457] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,457] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 52 (当前索引: 53, 回溯周期: 1)
[2025-08-20 03:32:26,457] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,458] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=50:55, 当前值=11.8200
[2025-08-20 03:32:26,458] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:32:26,458] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.106 (from index 53)
[2025-08-20 03:32:26,458] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,458] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=48:55, 当前值=11.8200
[2025-08-20 03:32:26,458] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:32:26,458] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.352857142857143 (from index 53)
[2025-08-20 03:32:26,459] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,459] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:32:26,459] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,459] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 53 (当前索引: 54, 回溯周期: 1)
[2025-08-20 03:32:26,460] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,460] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=51:56, 当前值=11.5300
[2025-08-20 03:32:26,460] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:32:26,460] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.895999999999999 (from index 54)
[2025-08-20 03:32:26,460] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,460] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=49:56, 当前值=11.5300
[2025-08-20 03:32:26,460] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:32:26,460] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.188571428571427 (from index 54)
[2025-08-20 03:32:26,461] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,461] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:32:26,461] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,461] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 54 (当前索引: 55, 回溯周期: 1)
[2025-08-20 03:32:26,463] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,463] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=52:57, 当前值=11.2400
[2025-08-20 03:32:26,463] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:32:26,463] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 55)
[2025-08-20 03:32:26,463] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,463] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=50:57, 当前值=11.2400
[2025-08-20 03:32:26,463] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:32:26,463] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.982857142857142 (from index 55)
[2025-08-20 03:32:26,464] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,464] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:32:26,464] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,464] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 55 (当前索引: 56, 回溯周期: 1)
[2025-08-20 03:32:26,465] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,465] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=53:58, 当前值=11.1200
[2025-08-20 03:32:26,465] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:32:26,465] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.544 (from index 56)
[2025-08-20 03:32:26,465] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,465] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=51:58, 当前值=11.1200
[2025-08-20 03:32:26,465] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:32:26,465] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.75 (from index 56)
[2025-08-20 03:32:26,466] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,466] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:32:26,466] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,466] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 56 (当前索引: 57, 回溯周期: 1)
[2025-08-20 03:32:26,467] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,467] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=54:59, 当前值=11.1500
[2025-08-20 03:32:26,467] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:32:26,467] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.443999999999999 (from index 57)
[2025-08-20 03:32:26,467] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,467] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=52:59, 当前值=11.1500
[2025-08-20 03:32:26,467] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:32:26,467] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.574285714285713 (from index 57)
[2025-08-20 03:32:26,468] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,468] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:32:26,468] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,468] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 57 (当前索引: 58, 回溯周期: 1)
[2025-08-20 03:32:26,469] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,469] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=55:60, 当前值=11.4000
[2025-08-20 03:32:26,469] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:32:26,469] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.372 (from index 58)
[2025-08-20 03:32:26,469] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,469] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=53:60, 当前值=11.4000
[2025-08-20 03:32:26,469] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:32:26,469] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.427142857142856 (from index 58)
[2025-08-20 03:32:26,470] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,470] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:32:26,470] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,470] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 58 (当前索引: 59, 回溯周期: 1)
[2025-08-20 03:32:26,470] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,470] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=56:61, 当前值=11.4600
[2025-08-20 03:32:26,471] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:32:26,471] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.288 (from index 59)
[2025-08-20 03:32:26,471] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,471] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=54:61, 当前值=11.4600
[2025-08-20 03:32:26,471] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:32:26,471] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.395714285714286 (from index 59)
[2025-08-20 03:32:26,472] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,472] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:32:26,473] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,473] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 59 (当前索引: 60, 回溯周期: 1)
[2025-08-20 03:32:26,473] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,473] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=57:62, 当前值=11.3000
[2025-08-20 03:32:26,473] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:32:26,474] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.274 (from index 60)
[2025-08-20 03:32:26,474] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,474] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=55:62, 当前值=11.3000
[2025-08-20 03:32:26,474] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:32:26,474] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.388571428571428 (from index 60)
[2025-08-20 03:32:26,474] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,475] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:32:26,475] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,475] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 60 (当前索引: 61, 回溯周期: 1)
[2025-08-20 03:32:26,475] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,475] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=58:63, 当前值=11.2600
[2025-08-20 03:32:26,475] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 61 (当前索引: 62, 回溯周期: 1)
[2025-08-20 03:32:26,476] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.286 (from index 61)
[2025-08-20 03:32:26,476] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,476] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=56:63, 当前值=11.2600
[2025-08-20 03:32:26,476] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 61 (当前索引: 62, 回溯周期: 1)
[2025-08-20 03:32:26,476] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.314285714285715 (from index 61)
[2025-08-20 03:32:26,477] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:32:26,477] [DEBUG] [backtesting:322] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 03:32:26,477] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,477] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,477] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=59:64, 当前值=10.8600
[2025-08-20 03:32:26,477] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:32:26,478] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.314 (from index 62)
[2025-08-20 03:32:26,478] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,478] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=57:64, 当前值=10.8600
[2025-08-20 03:32:26,478] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:32:26,478] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.275714285714287 (from index 62)
[2025-08-20 03:32:26,478] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,479] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:32:26,479] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,479] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 62 (当前索引: 63, 回溯周期: 1)
[2025-08-20 03:32:26,479] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,479] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=60:65, 当前值=11.1900
[2025-08-20 03:32:26,480] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:32:26,480] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.256 (from index 63)
[2025-08-20 03:32:26,480] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,480] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=58:65, 当前值=11.1900
[2025-08-20 03:32:26,480] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:32:26,480] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.221428571428572 (from index 63)
[2025-08-20 03:32:26,481] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,481] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:32:26,481] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,481] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 63 (当前索引: 64, 回溯周期: 1)
[2025-08-20 03:32:26,482] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:32:26,483] [DEBUG] [backtesting:322] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 03:32:26,483] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,483] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,483] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=61:66, 当前值=11.3700
[2025-08-20 03:32:26,483] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:32:26,483] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 64)
[2025-08-20 03:32:26,484] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,484] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=59:66, 当前值=11.3700
[2025-08-20 03:32:26,484] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:32:26,484] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.231428571428571 (from index 64)
[2025-08-20 03:32:26,484] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,484] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:32:26,485] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,485] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 64 (当前索引: 65, 回溯周期: 1)
[2025-08-20 03:32:26,485] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,485] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=62:67, 当前值=11.4200
[2025-08-20 03:32:26,485] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:32:26,486] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.196 (from index 65)
[2025-08-20 03:32:26,486] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,486] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=60:67, 当前值=11.4200
[2025-08-20 03:32:26,486] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:32:26,486] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.262857142857143 (from index 65)
[2025-08-20 03:32:26,486] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,486] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:32:26,487] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,487] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 65 (当前索引: 66, 回溯周期: 1)
[2025-08-20 03:32:26,487] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,487] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=63:68, 当前值=11.2300
[2025-08-20 03:32:26,487] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:32:26,487] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.22 (from index 66)
[2025-08-20 03:32:26,488] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,488] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=61:68, 当前值=11.2300
[2025-08-20 03:32:26,488] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:32:26,488] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.265714285714285 (from index 66)
[2025-08-20 03:32:26,488] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,488] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:32:26,489] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,489] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 66 (当前索引: 67, 回溯周期: 1)
[2025-08-20 03:32:26,489] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,489] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=64:69, 当前值=11.3000
[2025-08-20 03:32:26,489] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 67 (当前索引: 68, 回溯周期: 1)
[2025-08-20 03:32:26,490] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 67)
[2025-08-20 03:32:26,490] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,490] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=62:69, 当前值=11.3000
[2025-08-20 03:32:26,490] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 67 (当前索引: 68, 回溯周期: 1)
[2025-08-20 03:32:26,490] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 67)
[2025-08-20 03:32:26,490] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:32:26,491] [DEBUG] [backtesting:322] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 03:32:26,491] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,491] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,491] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=65:70, 当前值=11.8900
[2025-08-20 03:32:26,491] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:32:26,491] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.302 (from index 68)
[2025-08-20 03:32:26,491] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,492] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=63:70, 当前值=11.8900
[2025-08-20 03:32:26,492] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:32:26,492] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 68)
[2025-08-20 03:32:26,492] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,492] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:32:26,492] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,492] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 68 (当前索引: 69, 回溯周期: 1)
[2025-08-20 03:32:26,493] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,493] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=66:71, 当前值=10.7000
[2025-08-20 03:32:26,493] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:32:26,494] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.442 (from index 69)
[2025-08-20 03:32:26,494] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,494] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=64:71, 当前值=10.7000
[2025-08-20 03:32:26,494] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:32:26,494] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.322857142857144 (from index 69)
[2025-08-20 03:32:26,495] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,495] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:32:26,495] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,495] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 69 (当前索引: 70, 回溯周期: 1)
[2025-08-20 03:32:26,496] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,496] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=67:72, 当前值=9.9300
[2025-08-20 03:32:26,496] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:32:26,496] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.308 (from index 70)
[2025-08-20 03:32:26,496] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,497] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=65:72, 当前值=9.9300
[2025-08-20 03:32:26,497] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:32:26,497] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.299999999999999 (from index 70)
[2025-08-20 03:32:26,498] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,498] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:32:26,498] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,498] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 70 (当前索引: 71, 回溯周期: 1)
[2025-08-20 03:32:26,499] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:32:26,499] [DEBUG] [backtesting:322] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 03:32:26,500] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,500] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,500] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=68:73, 当前值=9.8900
[2025-08-20 03:32:26,500] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:32:26,500] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.01 (from index 71)
[2025-08-20 03:32:26,500] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,500] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=66:73, 当前值=9.8900
[2025-08-20 03:32:26,500] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:32:26,501] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.120000000000001 (from index 71)
[2025-08-20 03:32:26,501] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,501] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:32:26,501] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,502] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 71 (当前索引: 72, 回溯周期: 1)
[2025-08-20 03:32:26,502] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,502] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=69:74, 当前值=9.7500
[2025-08-20 03:32:26,502] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:32:26,503] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.742 (from index 72)
[2025-08-20 03:32:26,503] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,503] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=67:74, 当前值=9.7500
[2025-08-20 03:32:26,503] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:32:26,503] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.90857142857143 (from index 72)
[2025-08-20 03:32:26,503] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,503] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:32:26,504] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,504] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 72 (当前索引: 73, 回溯周期: 1)
[2025-08-20 03:32:26,504] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,504] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=70:75, 当前值=9.8500
[2025-08-20 03:32:26,505] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:32:26,505] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.431999999999999 (from index 73)
[2025-08-20 03:32:26,505] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,505] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=68:75, 当前值=9.8500
[2025-08-20 03:32:26,505] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:32:26,505] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.67 (from index 73)
[2025-08-20 03:32:26,506] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,506] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:32:26,506] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,506] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 73 (当前索引: 74, 回溯周期: 1)
[2025-08-20 03:32:26,507] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,507] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=71:76, 当前值=9.9400
[2025-08-20 03:32:26,507] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:32:26,507] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.024 (from index 74)
[2025-08-20 03:32:26,507] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,507] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=69:76, 当前值=9.9400
[2025-08-20 03:32:26,507] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:32:26,508] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.472857142857142 (from index 74)
[2025-08-20 03:32:26,508] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,508] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:32:26,508] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,508] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 74 (当前索引: 75, 回溯周期: 1)
[2025-08-20 03:32:26,509] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,509] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=72:77, 当前值=9.9300
[2025-08-20 03:32:26,509] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:32:26,509] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 75)
[2025-08-20 03:32:26,509] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,509] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=70:77, 当前值=9.9300
[2025-08-20 03:32:26,509] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:32:26,510] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.278571428571428 (from index 75)
[2025-08-20 03:32:26,510] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,510] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:32:26,510] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,510] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 75 (当前索引: 76, 回溯周期: 1)
[2025-08-20 03:32:26,511] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,511] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=73:78, 当前值=9.8100
[2025-08-20 03:32:26,511] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:32:26,512] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 76)
[2025-08-20 03:32:26,512] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,512] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=71:78, 当前值=9.8100
[2025-08-20 03:32:26,512] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:32:26,512] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.998571428571427 (from index 76)
[2025-08-20 03:32:26,513] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,513] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:32:26,513] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,513] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 76 (当前索引: 77, 回溯周期: 1)
[2025-08-20 03:32:26,514] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,514] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=74:79, 当前值=9.7700
[2025-08-20 03:32:26,514] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 77 (当前索引: 78, 回溯周期: 1)
[2025-08-20 03:32:26,514] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.856 (from index 77)
[2025-08-20 03:32:26,514] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,514] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=72:79, 当前值=9.7700
[2025-08-20 03:32:26,514] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 77 (当前索引: 78, 回溯周期: 1)
[2025-08-20 03:32:26,515] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.87142857142857 (from index 77)
[2025-08-20 03:32:26,515] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:32:26,515] [DEBUG] [backtesting:322] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 03:32:26,516] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,516] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,516] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=75:80, 当前值=9.8500
[2025-08-20 03:32:26,516] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:32:26,516] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 78)
[2025-08-20 03:32:26,516] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,516] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=73:80, 当前值=9.8500
[2025-08-20 03:32:26,517] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:32:26,517] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.848571428571429 (from index 78)
[2025-08-20 03:32:26,517] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,517] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:32:26,517] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,517] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 78 (当前索引: 79, 回溯周期: 1)
[2025-08-20 03:32:26,518] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,518] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=76:81, 当前值=9.7200
[2025-08-20 03:32:26,518] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:32:26,518] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 79)
[2025-08-20 03:32:26,518] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,518] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=74:81, 当前值=9.7200
[2025-08-20 03:32:26,519] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:32:26,519] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.842857142857143 (from index 79)
[2025-08-20 03:32:26,519] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,519] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:32:26,519] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,519] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 79 (当前索引: 80, 回溯周期: 1)
[2025-08-20 03:32:26,520] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:32:26,520] [DEBUG] [backtesting:322] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 03:32:26,520] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,520] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,521] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=77:82, 当前值=9.7100
[2025-08-20 03:32:26,521] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:32:26,521] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.815999999999999 (from index 80)
[2025-08-20 03:32:26,521] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,521] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=75:82, 当前值=9.7100
[2025-08-20 03:32:26,521] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:32:26,521] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.838571428571429 (from index 80)
[2025-08-20 03:32:26,522] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,522] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:32:26,522] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,522] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 80 (当前索引: 81, 回溯周期: 1)
[2025-08-20 03:32:26,522] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,523] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=78:83, 当前值=9.6000
[2025-08-20 03:32:26,523] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:32:26,523] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.772 (from index 81)
[2025-08-20 03:32:26,523] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,523] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=76:83, 当前值=9.6000
[2025-08-20 03:32:26,523] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:32:26,523] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.81857142857143 (from index 81)
[2025-08-20 03:32:26,524] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,524] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:32:26,524] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,524] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 81 (当前索引: 82, 回溯周期: 1)
[2025-08-20 03:32:26,524] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,525] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=79:84, 当前值=9.5900
[2025-08-20 03:32:26,525] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:32:26,525] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.73 (from index 82)
[2025-08-20 03:32:26,525] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,525] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=77:84, 当前值=9.5900
[2025-08-20 03:32:26,525] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:32:26,525] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.77 (from index 82)
[2025-08-20 03:32:26,526] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,526] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:32:26,526] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,526] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 82 (当前索引: 83, 回溯周期: 1)
[2025-08-20 03:32:26,527] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,527] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=80:85, 当前值=9.9400
[2025-08-20 03:32:26,527] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:32:26,527] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.693999999999999 (from index 83)
[2025-08-20 03:32:26,528] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,528] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=78:85, 当前值=9.9400
[2025-08-20 03:32:26,528] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:32:26,528] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.721428571428572 (from index 83)
[2025-08-20 03:32:26,528] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,528] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:32:26,528] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,529] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 83 (当前索引: 84, 回溯周期: 1)
[2025-08-20 03:32:26,529] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,529] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=81:86, 当前值=9.8000
[2025-08-20 03:32:26,529] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:32:26,530] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.712 (from index 84)
[2025-08-20 03:32:26,530] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,530] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=79:86, 当前值=9.8000
[2025-08-20 03:32:26,530] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:32:26,530] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.74 (from index 84)
[2025-08-20 03:32:26,531] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,532] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:32:26,533] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,533] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 84 (当前索引: 85, 回溯周期: 1)
[2025-08-20 03:32:26,534] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,534] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=82:87, 当前值=9.8800
[2025-08-20 03:32:26,534] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 85 (当前索引: 86, 回溯周期: 1)
[2025-08-20 03:32:26,534] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.728 (from index 85)
[2025-08-20 03:32:26,534] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,535] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=80:87, 当前值=9.8800
[2025-08-20 03:32:26,535] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 85 (当前索引: 86, 回溯周期: 1)
[2025-08-20 03:32:26,535] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.744285714285713 (from index 85)
[2025-08-20 03:32:26,535] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:32:26,536] [DEBUG] [backtesting:322] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 03:32:26,536] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,536] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,536] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=83:88, 当前值=10.8700
[2025-08-20 03:32:26,537] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:32:26,537] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.762 (from index 86)
[2025-08-20 03:32:26,537] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,537] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=81:88, 当前值=10.8700
[2025-08-20 03:32:26,537] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:32:26,538] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.748571428571427 (from index 86)
[2025-08-20 03:32:26,538] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,538] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:32:26,538] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,538] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 86 (当前索引: 87, 回溯周期: 1)
[2025-08-20 03:32:26,539] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,539] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=84:89, 当前值=11.2400
[2025-08-20 03:32:26,539] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:32:26,540] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.016 (from index 87)
[2025-08-20 03:32:26,540] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,540] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=82:89, 当前值=11.2400
[2025-08-20 03:32:26,540] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:32:26,540] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.912857142857144 (from index 87)
[2025-08-20 03:32:26,540] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,540] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:32:26,541] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,541] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 87 (当前索引: 88, 回溯周期: 1)
[2025-08-20 03:32:26,541] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,542] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=85:90, 当前值=10.8900
[2025-08-20 03:32:26,542] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:32:26,542] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.346 (from index 88)
[2025-08-20 03:32:26,542] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,542] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=83:90, 当前值=10.8900
[2025-08-20 03:32:26,543] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:32:26,543] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.131428571428572 (from index 88)
[2025-08-20 03:32:26,543] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,543] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:32:26,543] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,543] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 88 (当前索引: 89, 回溯周期: 1)
[2025-08-20 03:32:26,544] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,544] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=86:91, 当前值=10.9600
[2025-08-20 03:32:26,544] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:32:26,544] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.536 (from index 89)
[2025-08-20 03:32:26,544] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,544] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=84:91, 当前值=10.9600
[2025-08-20 03:32:26,545] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:32:26,545] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.315714285714284 (from index 89)
[2025-08-20 03:32:26,545] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,545] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:32:26,545] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,545] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 89 (当前索引: 90, 回溯周期: 1)
[2025-08-20 03:32:26,546] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,546] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=87:92, 当前值=10.6400
[2025-08-20 03:32:26,546] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:32:26,547] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.768 (from index 90)
[2025-08-20 03:32:26,547] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,547] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=85:92, 当前值=10.6400
[2025-08-20 03:32:26,547] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:32:26,548] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.51142857142857 (from index 90)
[2025-08-20 03:32:26,548] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,548] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:32:26,548] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,548] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 90 (当前索引: 91, 回溯周期: 1)
[2025-08-20 03:32:26,549] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,549] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=88:93, 当前值=10.2700
[2025-08-20 03:32:26,549] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:32:26,550] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.92 (from index 91)
[2025-08-20 03:32:26,550] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,550] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=86:93, 当前值=10.2700
[2025-08-20 03:32:26,550] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:32:26,550] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.611428571428572 (from index 91)
[2025-08-20 03:32:26,550] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,550] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:32:26,551] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,551] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 91 (当前索引: 92, 回溯周期: 1)
[2025-08-20 03:32:26,551] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,551] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=89:94, 当前值=10.3000
[2025-08-20 03:32:26,551] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:32:26,552] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.8 (from index 92)
[2025-08-20 03:32:26,552] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,552] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=87:94, 当前值=10.3000
[2025-08-20 03:32:26,552] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:32:26,552] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.678571428571429 (from index 92)
[2025-08-20 03:32:26,553] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,553] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:32:26,553] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,553] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 92 (当前索引: 93, 回溯周期: 1)
[2025-08-20 03:32:26,554] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:32:26,554] [DEBUG] [backtesting:322] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 03:32:26,554] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:32:26,554] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,554] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=90:95, 当前值=10.2800
[2025-08-20 03:32:26,554] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:32:26,555] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.612 (from index 93)
[2025-08-20 03:32:26,555] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,555] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=88:95, 当前值=10.2800
[2025-08-20 03:32:26,555] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:32:26,555] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.73857142857143 (from index 93)
[2025-08-20 03:32:26,556] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,5), period=1)
[2025-08-20 03:32:26,556] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:32:26,556] [DEBUG] [rule_parser:494] [conn:N/A] [REF] 开始计算REF(expr=SMA(close,7), period=1)
[2025-08-20 03:32:26,556] [DEBUG] [rule_parser:519] [conn:N/A] [REF] 目标索引位置: 93 (当前索引: 94, 回溯周期: 1)
[2025-08-20 03:32:26,557] [DEBUG] [backtesting:278] [conn:N/A] 回测完成
[2025-08-20 03:32:26,558] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 03:33:11,703] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:33:11,704] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 03:33:11,704] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:33:11,734] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 03:33:11,738] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 03:33:11,772] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 03:33:11,791] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:33:11,791] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 03:33:11,791] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 03:33:11,793] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:33:11,793] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:33:11,793] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:33:11,793] [DEBUG] [backtesting:548] [conn:N/A] 注册策略调度处理器: 3b2437af-00f6-408a-bae4-c907c2785796
[2025-08-20 03:33:11,793] [INFO] [backtesting:551] [conn:N/A] 策略注册成功 | ID: 3b2437af-00f6-408a-bae4-c907c2785796 | 名称: 自定义规则策略
[2025-08-20 03:33:11,794] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 03:33:11,794] [DEBUG] [backtesting:225] [conn:N/A] 识别数据频率为：日线
[2025-08-20 03:33:11,795] [DEBUG] [backtesting:251] [conn:N/A] 开始回测...
[2025-08-20 03:33:11,795] [INFO] [backtesting:598] [conn:N/A] 回测系统初始化开始
[2025-08-20 03:33:11,795] [INFO] [backtesting:610] [conn:N/A] 策略初始化完成: 3b2437af-00f6-408a-bae4-c907c2785796
[2025-08-20 03:33:11,795] [INFO] [backtesting:628] [conn:N/A] 回测系统初始化完成
[2025-08-20 03:33:11,797] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 03:33:11,800] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 03:33:11,806] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 0)
[2025-08-20 03:33:11,807] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 0)
[2025-08-20 03:33:11,808] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 1)
[2025-08-20 03:33:11,808] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 1)
[2025-08-20 03:33:11,811] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 2)
[2025-08-20 03:33:11,811] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 2)
[2025-08-20 03:33:11,815] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 3)
[2025-08-20 03:33:11,816] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 3)
[2025-08-20 03:33:11,819] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=1:6, 当前值=5.6700
[2025-08-20 03:33:11,829] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=0.0 (from index 4)
[2025-08-20 03:33:11,830] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 4)
[2025-08-20 03:33:11,836] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=2:7, 当前值=5.9700
[2025-08-20 03:33:11,837] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.093999999999999 (from index 5)
[2025-08-20 03:33:11,838] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 5)
[2025-08-20 03:33:11,839] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=3:8, 当前值=6.0600
[2025-08-20 03:33:11,839] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.964 (from index 6)
[2025-08-20 03:33:11,839] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=1:8, 当前值=6.0600
[2025-08-20 03:33:11,840] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=0.0 (from index 6)
[2025-08-20 03:33:11,840] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:11,841] [DEBUG] [backtesting:322] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 03:33:11,841] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:11,841] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=4:9, 当前值=6.2200
[2025-08-20 03:33:11,841] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.848 (from index 7)
[2025-08-20 03:33:11,841] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=2:9, 当前值=6.2200
[2025-08-20 03:33:11,841] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.071428571428571 (from index 7)
[2025-08-20 03:33:11,842] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=5:10, 当前值=6.2300
[2025-08-20 03:33:11,843] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=5.896 (from index 8)
[2025-08-20 03:33:11,843] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=3:10, 当前值=6.2300
[2025-08-20 03:33:11,843] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.014285714285714 (from index 8)
[2025-08-20 03:33:11,843] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:11,844] [DEBUG] [backtesting:322] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 03:33:11,844] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:11,844] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=6:11, 当前值=6.1700
[2025-08-20 03:33:11,844] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.029999999999999 (from index 9)
[2025-08-20 03:33:11,844] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=4:11, 当前值=6.1700
[2025-08-20 03:33:11,844] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.9557142857142855 (from index 9)
[2025-08-20 03:33:11,845] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=7:12, 当前值=6.7900
[2025-08-20 03:33:11,845] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.13 (from index 10)
[2025-08-20 03:33:11,845] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=5:12, 当前值=6.7900
[2025-08-20 03:33:11,846] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=5.982857142857143 (from index 10)
[2025-08-20 03:33:11,849] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=8:13, 当前值=6.3400
[2025-08-20 03:33:11,850] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.294 (from index 11)
[2025-08-20 03:33:11,850] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=6:13, 当前值=6.3400
[2025-08-20 03:33:11,850] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.158571428571428 (from index 11)
[2025-08-20 03:33:11,851] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=9:14, 当前值=6.9700
[2025-08-20 03:33:11,851] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.35 (from index 12)
[2025-08-20 03:33:11,852] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=7:14, 当前值=6.9700
[2025-08-20 03:33:11,852] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.2542857142857144 (from index 12)
[2025-08-20 03:33:11,853] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=10:15, 当前值=6.8200
[2025-08-20 03:33:11,853] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.5 (from index 13)
[2025-08-20 03:33:11,853] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=8:15, 当前值=6.8200
[2025-08-20 03:33:11,853] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.397142857142858 (from index 13)
[2025-08-20 03:33:11,854] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=11:16, 当前值=6.1800
[2025-08-20 03:33:11,854] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.618 (from index 14)
[2025-08-20 03:33:11,854] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=9:16, 当前值=6.1800
[2025-08-20 03:33:11,855] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.505714285714285 (from index 14)
[2025-08-20 03:33:11,856] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=12:17, 当前值=5.9200
[2025-08-20 03:33:11,856] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.62 (from index 15)
[2025-08-20 03:33:11,856] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=10:17, 当前值=5.9200
[2025-08-20 03:33:11,856] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.5 (from index 15)
[2025-08-20 03:33:11,857] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:11,857] [DEBUG] [backtesting:322] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 03:33:11,857] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:11,858] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=13:18, 当前值=5.9400
[2025-08-20 03:33:11,858] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.446 (from index 16)
[2025-08-20 03:33:11,858] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=11:18, 当前值=5.9400
[2025-08-20 03:33:11,858] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.4557142857142855 (from index 16)
[2025-08-20 03:33:11,859] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=14:19, 当前值=6.0900
[2025-08-20 03:33:11,859] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.366 (from index 17)
[2025-08-20 03:33:11,859] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=12:19, 当前值=6.0900
[2025-08-20 03:33:11,860] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.422857142857143 (from index 17)
[2025-08-20 03:33:11,861] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=15:20, 当前值=6.1000
[2025-08-20 03:33:11,861] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.1899999999999995 (from index 18)
[2025-08-20 03:33:11,861] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=13:20, 当前值=6.1000
[2025-08-20 03:33:11,861] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.322857142857143 (from index 18)
[2025-08-20 03:33:11,862] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=16:21, 当前值=6.7100
[2025-08-20 03:33:11,863] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.046 (from index 19)
[2025-08-20 03:33:11,863] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=14:21, 当前值=6.7100
[2025-08-20 03:33:11,863] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.288571428571429 (from index 19)
[2025-08-20 03:33:11,866] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=17:22, 当前值=7.3800
[2025-08-20 03:33:11,866] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.152 (from index 20)
[2025-08-20 03:33:11,866] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=15:22, 当前值=7.3800
[2025-08-20 03:33:11,866] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.251428571428571 (from index 20)
[2025-08-20 03:33:11,867] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:11,868] [DEBUG] [backtesting:322] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 03:33:11,868] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:11,868] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=18:23, 当前值=7.2700
[2025-08-20 03:33:11,868] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.444 (from index 21)
[2025-08-20 03:33:11,868] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=16:23, 当前值=7.2700
[2025-08-20 03:33:11,869] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.331428571428572 (from index 21)
[2025-08-20 03:33:11,870] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=19:24, 当前值=7.3200
[2025-08-20 03:33:11,870] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.709999999999999 (from index 22)
[2025-08-20 03:33:11,870] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=17:24, 当前值=7.3200
[2025-08-20 03:33:11,870] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.487142857142857 (from index 22)
[2025-08-20 03:33:11,871] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=20:25, 当前值=7.4700
[2025-08-20 03:33:11,871] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=6.956 (from index 23)
[2025-08-20 03:33:11,871] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=18:25, 当前值=7.4700
[2025-08-20 03:33:11,872] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.687142857142858 (from index 23)
[2025-08-20 03:33:11,872] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=21:26, 当前值=7.3300
[2025-08-20 03:33:11,873] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.2299999999999995 (from index 24)
[2025-08-20 03:33:11,873] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=19:26, 当前值=7.3300
[2025-08-20 03:33:11,873] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=6.905714285714287 (from index 24)
[2025-08-20 03:33:11,874] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=22:27, 当前值=7.6600
[2025-08-20 03:33:11,874] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.354000000000001 (from index 25)
[2025-08-20 03:33:11,874] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=20:27, 当前值=7.6600
[2025-08-20 03:33:11,875] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.082857142857143 (from index 25)
[2025-08-20 03:33:11,876] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=23:28, 当前值=7.7500
[2025-08-20 03:33:11,876] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.409999999999999 (from index 26)
[2025-08-20 03:33:11,876] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=21:28, 当前值=7.7500
[2025-08-20 03:33:11,876] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.305714285714286 (from index 26)
[2025-08-20 03:33:11,877] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=24:29, 当前值=7.6400
[2025-08-20 03:33:11,877] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.506 (from index 27)
[2025-08-20 03:33:11,877] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=22:29, 当前值=7.6400
[2025-08-20 03:33:11,878] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.454285714285715 (from index 27)
[2025-08-20 03:33:11,878] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=25:30, 当前值=7.9700
[2025-08-20 03:33:11,879] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.57 (from index 28)
[2025-08-20 03:33:11,879] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=23:30, 当前值=7.9700
[2025-08-20 03:33:11,879] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.491428571428571 (from index 28)
[2025-08-20 03:33:11,881] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=26:31, 当前值=8.0800
[2025-08-20 03:33:11,882] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.67 (from index 29)
[2025-08-20 03:33:11,882] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=24:31, 当前值=8.0800
[2025-08-20 03:33:11,883] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.591428571428572 (from index 29)
[2025-08-20 03:33:11,884] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=27:32, 当前值=8.8900
[2025-08-20 03:33:11,884] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=7.82 (from index 30)
[2025-08-20 03:33:11,884] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=25:32, 当前值=8.8900
[2025-08-20 03:33:11,885] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.7 (from index 30)
[2025-08-20 03:33:11,886] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=28:33, 当前值=9.7800
[2025-08-20 03:33:11,886] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.065999999999999 (from index 31)
[2025-08-20 03:33:11,886] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=26:33, 当前值=9.7800
[2025-08-20 03:33:11,886] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=7.902857142857143 (from index 31)
[2025-08-20 03:33:11,887] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=29:34, 当前值=10.7600
[2025-08-20 03:33:11,887] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=8.472 (from index 32)
[2025-08-20 03:33:11,888] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=27:34, 当前值=10.7600
[2025-08-20 03:33:11,888] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.252857142857144 (from index 32)
[2025-08-20 03:33:11,889] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=30:35, 当前值=11.4500
[2025-08-20 03:33:11,889] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.096 (from index 33)
[2025-08-20 03:33:11,889] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=28:35, 当前值=11.4500
[2025-08-20 03:33:11,889] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=8.695714285714285 (from index 33)
[2025-08-20 03:33:11,890] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=31:36, 当前值=12.6000
[2025-08-20 03:33:11,890] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.792 (from index 34)
[2025-08-20 03:33:11,891] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=29:36, 当前值=12.6000
[2025-08-20 03:33:11,891] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.224285714285713 (from index 34)
[2025-08-20 03:33:11,892] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=32:37, 当前值=13.8600
[2025-08-20 03:33:11,892] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.696 (from index 35)
[2025-08-20 03:33:11,892] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=30:37, 当前值=13.8600
[2025-08-20 03:33:11,892] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.932857142857143 (from index 35)
[2025-08-20 03:33:11,893] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=33:38, 当前值=13.5000
[2025-08-20 03:33:11,894] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.690000000000001 (from index 36)
[2025-08-20 03:33:11,894] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=31:38, 当前值=13.5000
[2025-08-20 03:33:11,894] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.774285714285714 (from index 36)
[2025-08-20 03:33:11,895] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=34:39, 当前值=12.1500
[2025-08-20 03:33:11,895] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.434000000000001 (from index 37)
[2025-08-20 03:33:11,895] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=32:39, 当前值=12.1500
[2025-08-20 03:33:11,895] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.54857142857143 (from index 37)
[2025-08-20 03:33:11,898] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=35:40, 当前值=11.2600
[2025-08-20 03:33:11,898] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.712 (from index 38)
[2025-08-20 03:33:11,898] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=33:40, 当前值=11.2600
[2025-08-20 03:33:11,898] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.014285714285714 (from index 38)
[2025-08-20 03:33:11,900] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=36:41, 当前值=11.8500
[2025-08-20 03:33:11,901] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.674 (from index 39)
[2025-08-20 03:33:11,901] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=34:41, 当前值=11.8500
[2025-08-20 03:33:11,901] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.225714285714286 (from index 39)
[2025-08-20 03:33:11,902] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=37:42, 当前值=13.0400
[2025-08-20 03:33:11,902] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.524 (from index 40)
[2025-08-20 03:33:11,902] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=35:42, 当前值=13.0400
[2025-08-20 03:33:11,903] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.381428571428572 (from index 40)
[2025-08-20 03:33:11,903] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:11,904] [DEBUG] [backtesting:322] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 03:33:11,904] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:11,905] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=38:43, 当前值=11.7400
[2025-08-20 03:33:11,905] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.36 (from index 41)
[2025-08-20 03:33:11,905] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=36:43, 当前值=11.7400
[2025-08-20 03:33:11,905] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.608571428571429 (from index 41)
[2025-08-20 03:33:11,906] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=39:44, 当前值=11.1000
[2025-08-20 03:33:11,907] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.008 (from index 42)
[2025-08-20 03:33:11,907] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=37:44, 当前值=11.1000
[2025-08-20 03:33:11,907] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.485714285714286 (from index 42)
[2025-08-20 03:33:11,908] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=40:45, 当前值=11.7300
[2025-08-20 03:33:11,908] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.798 (from index 43)
[2025-08-20 03:33:11,908] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=38:45, 当前值=11.7300
[2025-08-20 03:33:11,908] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.09142857142857 (from index 43)
[2025-08-20 03:33:11,909] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:11,909] [DEBUG] [backtesting:322] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 03:33:11,909] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:11,910] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=41:46, 当前值=11.8500
[2025-08-20 03:33:11,910] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 44)
[2025-08-20 03:33:11,910] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=39:46, 当前值=11.8500
[2025-08-20 03:33:11,910] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.838571428571429 (from index 44)
[2025-08-20 03:33:11,912] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=42:47, 当前值=12.2400
[2025-08-20 03:33:11,912] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.892 (from index 45)
[2025-08-20 03:33:11,912] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=40:47, 当前值=12.2400
[2025-08-20 03:33:11,912] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.795714285714284 (from index 45)
[2025-08-20 03:33:11,915] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:11,915] [DEBUG] [backtesting:322] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 03:33:11,916] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:11,916] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=43:48, 当前值=12.9700
[2025-08-20 03:33:11,916] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 46)
[2025-08-20 03:33:11,917] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=41:48, 当前值=12.9700
[2025-08-20 03:33:11,917] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.935714285714285 (from index 46)
[2025-08-20 03:33:11,918] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=44:49, 当前值=12.9700
[2025-08-20 03:33:11,918] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.978 (from index 47)
[2025-08-20 03:33:11,918] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=42:49, 当前值=12.9700
[2025-08-20 03:33:11,919] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.095714285714285 (from index 47)
[2025-08-20 03:33:11,919] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:11,919] [DEBUG] [backtesting:322] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 03:33:11,919] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:11,920] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=45:50, 当前值=12.8700
[2025-08-20 03:33:11,920] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.352 (from index 48)
[2025-08-20 03:33:11,920] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=43:50, 当前值=12.8700
[2025-08-20 03:33:11,920] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.085714285714285 (from index 48)
[2025-08-20 03:33:11,922] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=46:51, 当前值=12.3500
[2025-08-20 03:33:11,922] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.58 (from index 49)
[2025-08-20 03:33:11,922] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=44:51, 当前值=12.3500
[2025-08-20 03:33:11,922] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.247142857142858 (from index 49)
[2025-08-20 03:33:11,923] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=47:52, 当前值=12.1800
[2025-08-20 03:33:11,923] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.68 (from index 50)
[2025-08-20 03:33:11,924] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=45:52, 当前值=12.1800
[2025-08-20 03:33:11,924] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.425714285714287 (from index 50)
[2025-08-20 03:33:11,925] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=48:53, 当前值=11.6200
[2025-08-20 03:33:11,925] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.668000000000001 (from index 51)
[2025-08-20 03:33:11,925] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=46:53, 当前值=11.6200
[2025-08-20 03:33:11,925] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.49 (from index 51)
[2025-08-20 03:33:11,926] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:11,926] [DEBUG] [backtesting:322] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 03:33:11,927] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:11,927] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=49:54, 当前值=11.5100
[2025-08-20 03:33:11,927] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.398 (from index 52)
[2025-08-20 03:33:11,927] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=47:54, 当前值=11.5100
[2025-08-20 03:33:11,927] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.457142857142857 (from index 52)
[2025-08-20 03:33:11,929] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=50:55, 当前值=11.8200
[2025-08-20 03:33:11,930] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=12.106 (from index 53)
[2025-08-20 03:33:11,930] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=48:55, 当前值=11.8200
[2025-08-20 03:33:11,931] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.352857142857143 (from index 53)
[2025-08-20 03:33:11,934] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=51:56, 当前值=11.5300
[2025-08-20 03:33:11,934] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.895999999999999 (from index 54)
[2025-08-20 03:33:11,934] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=49:56, 当前值=11.5300
[2025-08-20 03:33:11,935] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=12.188571428571427 (from index 54)
[2025-08-20 03:33:11,936] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=52:57, 当前值=11.2400
[2025-08-20 03:33:11,936] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.732 (from index 55)
[2025-08-20 03:33:11,936] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=50:57, 当前值=11.2400
[2025-08-20 03:33:11,936] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.982857142857142 (from index 55)
[2025-08-20 03:33:11,937] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=53:58, 当前值=11.1200
[2025-08-20 03:33:11,937] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.544 (from index 56)
[2025-08-20 03:33:11,937] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=51:58, 当前值=11.1200
[2025-08-20 03:33:11,938] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.75 (from index 56)
[2025-08-20 03:33:11,939] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=54:59, 当前值=11.1500
[2025-08-20 03:33:11,939] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.443999999999999 (from index 57)
[2025-08-20 03:33:11,939] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=52:59, 当前值=11.1500
[2025-08-20 03:33:11,939] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.574285714285713 (from index 57)
[2025-08-20 03:33:11,940] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=55:60, 当前值=11.4000
[2025-08-20 03:33:11,940] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.372 (from index 58)
[2025-08-20 03:33:11,941] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=53:60, 当前值=11.4000
[2025-08-20 03:33:11,941] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.427142857142856 (from index 58)
[2025-08-20 03:33:11,942] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=56:61, 当前值=11.4600
[2025-08-20 03:33:11,942] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.288 (from index 59)
[2025-08-20 03:33:11,942] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=54:61, 当前值=11.4600
[2025-08-20 03:33:11,942] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.395714285714286 (from index 59)
[2025-08-20 03:33:11,943] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=57:62, 当前值=11.3000
[2025-08-20 03:33:11,944] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.274 (from index 60)
[2025-08-20 03:33:11,944] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=55:62, 当前值=11.3000
[2025-08-20 03:33:11,944] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.388571428571428 (from index 60)
[2025-08-20 03:33:11,945] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=58:63, 当前值=11.2600
[2025-08-20 03:33:11,946] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.286 (from index 61)
[2025-08-20 03:33:11,946] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=56:63, 当前值=11.2600
[2025-08-20 03:33:11,946] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.314285714285715 (from index 61)
[2025-08-20 03:33:11,949] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:11,951] [DEBUG] [backtesting:322] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 03:33:11,951] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:11,952] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=59:64, 当前值=10.8600
[2025-08-20 03:33:11,953] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.314 (from index 62)
[2025-08-20 03:33:11,953] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=57:64, 当前值=10.8600
[2025-08-20 03:33:11,953] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.275714285714287 (from index 62)
[2025-08-20 03:33:11,954] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=60:65, 当前值=11.1900
[2025-08-20 03:33:11,955] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.256 (from index 63)
[2025-08-20 03:33:11,955] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=58:65, 当前值=11.1900
[2025-08-20 03:33:11,955] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.221428571428572 (from index 63)
[2025-08-20 03:33:11,956] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:11,957] [DEBUG] [backtesting:322] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 03:33:11,957] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:11,957] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=61:66, 当前值=11.3700
[2025-08-20 03:33:11,958] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 64)
[2025-08-20 03:33:11,958] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=59:66, 当前值=11.3700
[2025-08-20 03:33:11,958] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.231428571428571 (from index 64)
[2025-08-20 03:33:11,959] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=62:67, 当前值=11.4200
[2025-08-20 03:33:11,959] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.196 (from index 65)
[2025-08-20 03:33:11,959] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=60:67, 当前值=11.4200
[2025-08-20 03:33:11,960] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.262857142857143 (from index 65)
[2025-08-20 03:33:11,961] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=63:68, 当前值=11.2300
[2025-08-20 03:33:11,961] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.22 (from index 66)
[2025-08-20 03:33:11,962] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=61:68, 当前值=11.2300
[2025-08-20 03:33:11,962] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.265714285714285 (from index 66)
[2025-08-20 03:33:11,966] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=64:69, 当前值=11.3000
[2025-08-20 03:33:11,967] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.214 (from index 67)
[2025-08-20 03:33:11,967] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=62:69, 当前值=11.3000
[2025-08-20 03:33:11,967] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 67)
[2025-08-20 03:33:11,969] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:11,969] [DEBUG] [backtesting:322] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 03:33:11,969] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:11,970] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=65:70, 当前值=11.8900
[2025-08-20 03:33:11,970] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.302 (from index 68)
[2025-08-20 03:33:11,970] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=63:70, 当前值=11.8900
[2025-08-20 03:33:11,970] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.232857142857142 (from index 68)
[2025-08-20 03:33:11,971] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=66:71, 当前值=10.7000
[2025-08-20 03:33:11,972] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.442 (from index 69)
[2025-08-20 03:33:11,972] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=64:71, 当前值=10.7000
[2025-08-20 03:33:11,972] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.322857142857144 (from index 69)
[2025-08-20 03:33:11,973] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=67:72, 当前值=9.9300
[2025-08-20 03:33:11,974] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.308 (from index 70)
[2025-08-20 03:33:11,974] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=65:72, 当前值=9.9300
[2025-08-20 03:33:11,974] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.299999999999999 (from index 70)
[2025-08-20 03:33:11,975] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:11,976] [DEBUG] [backtesting:322] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 03:33:11,976] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:11,976] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=68:73, 当前值=9.8900
[2025-08-20 03:33:11,977] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=11.01 (from index 71)
[2025-08-20 03:33:11,977] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=66:73, 当前值=9.8900
[2025-08-20 03:33:11,977] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=11.120000000000001 (from index 71)
[2025-08-20 03:33:11,978] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=69:74, 当前值=9.7500
[2025-08-20 03:33:11,978] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.742 (from index 72)
[2025-08-20 03:33:11,979] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=67:74, 当前值=9.7500
[2025-08-20 03:33:11,979] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.90857142857143 (from index 72)
[2025-08-20 03:33:11,983] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=70:75, 当前值=9.8500
[2025-08-20 03:33:11,984] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.431999999999999 (from index 73)
[2025-08-20 03:33:11,984] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=68:75, 当前值=9.8500
[2025-08-20 03:33:11,984] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.67 (from index 73)
[2025-08-20 03:33:11,986] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=71:76, 当前值=9.9400
[2025-08-20 03:33:11,986] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.024 (from index 74)
[2025-08-20 03:33:11,986] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=69:76, 当前值=9.9400
[2025-08-20 03:33:11,987] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.472857142857142 (from index 74)
[2025-08-20 03:33:11,989] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=72:77, 当前值=9.9300
[2025-08-20 03:33:11,989] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 75)
[2025-08-20 03:33:11,989] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=70:77, 当前值=9.9300
[2025-08-20 03:33:11,990] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.278571428571428 (from index 75)
[2025-08-20 03:33:11,992] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=73:78, 当前值=9.8100
[2025-08-20 03:33:11,993] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.872 (from index 76)
[2025-08-20 03:33:11,993] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=71:78, 当前值=9.8100
[2025-08-20 03:33:11,993] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.998571428571427 (from index 76)
[2025-08-20 03:33:11,994] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=74:79, 当前值=9.7700
[2025-08-20 03:33:11,995] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.856 (from index 77)
[2025-08-20 03:33:11,995] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=72:79, 当前值=9.7700
[2025-08-20 03:33:11,995] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.87142857142857 (from index 77)
[2025-08-20 03:33:11,996] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:11,996] [DEBUG] [backtesting:322] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 03:33:11,997] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:11,998] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=75:80, 当前值=9.8500
[2025-08-20 03:33:11,998] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 78)
[2025-08-20 03:33:11,999] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=73:80, 当前值=9.8500
[2025-08-20 03:33:11,999] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.848571428571429 (from index 78)
[2025-08-20 03:33:12,001] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=76:81, 当前值=9.7200
[2025-08-20 03:33:12,002] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.86 (from index 79)
[2025-08-20 03:33:12,002] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=74:81, 当前值=9.7200
[2025-08-20 03:33:12,002] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.842857142857143 (from index 79)
[2025-08-20 03:33:12,003] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:12,004] [DEBUG] [backtesting:322] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 03:33:12,004] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:12,004] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=77:82, 当前值=9.7100
[2025-08-20 03:33:12,004] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.815999999999999 (from index 80)
[2025-08-20 03:33:12,005] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=75:82, 当前值=9.7100
[2025-08-20 03:33:12,005] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.838571428571429 (from index 80)
[2025-08-20 03:33:12,006] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=78:83, 当前值=9.6000
[2025-08-20 03:33:12,006] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.772 (from index 81)
[2025-08-20 03:33:12,006] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=76:83, 当前值=9.6000
[2025-08-20 03:33:12,006] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.81857142857143 (from index 81)
[2025-08-20 03:33:12,007] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=79:84, 当前值=9.5900
[2025-08-20 03:33:12,008] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.73 (from index 82)
[2025-08-20 03:33:12,008] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=77:84, 当前值=9.5900
[2025-08-20 03:33:12,008] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.77 (from index 82)
[2025-08-20 03:33:12,009] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=80:85, 当前值=9.9400
[2025-08-20 03:33:12,010] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.693999999999999 (from index 83)
[2025-08-20 03:33:12,010] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=78:85, 当前值=9.9400
[2025-08-20 03:33:12,010] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.721428571428572 (from index 83)
[2025-08-20 03:33:12,011] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=81:86, 当前值=9.8000
[2025-08-20 03:33:12,011] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.712 (from index 84)
[2025-08-20 03:33:12,011] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=79:86, 当前值=9.8000
[2025-08-20 03:33:12,012] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.74 (from index 84)
[2025-08-20 03:33:12,014] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=82:87, 当前值=9.8800
[2025-08-20 03:33:12,015] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.728 (from index 85)
[2025-08-20 03:33:12,015] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=80:87, 当前值=9.8800
[2025-08-20 03:33:12,015] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.744285714285713 (from index 85)
[2025-08-20 03:33:12,017] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:12,018] [DEBUG] [backtesting:322] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 03:33:12,018] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:12,020] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=83:88, 当前值=10.8700
[2025-08-20 03:33:12,020] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=9.762 (from index 86)
[2025-08-20 03:33:12,020] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=81:88, 当前值=10.8700
[2025-08-20 03:33:12,020] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.748571428571427 (from index 86)
[2025-08-20 03:33:12,021] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=84:89, 当前值=11.2400
[2025-08-20 03:33:12,022] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.016 (from index 87)
[2025-08-20 03:33:12,022] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=82:89, 当前值=11.2400
[2025-08-20 03:33:12,022] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=9.912857142857144 (from index 87)
[2025-08-20 03:33:12,023] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=85:90, 当前值=10.8900
[2025-08-20 03:33:12,024] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.346 (from index 88)
[2025-08-20 03:33:12,024] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=83:90, 当前值=10.8900
[2025-08-20 03:33:12,024] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.131428571428572 (from index 88)
[2025-08-20 03:33:12,025] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=86:91, 当前值=10.9600
[2025-08-20 03:33:12,026] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.536 (from index 89)
[2025-08-20 03:33:12,026] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=84:91, 当前值=10.9600
[2025-08-20 03:33:12,026] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.315714285714284 (from index 89)
[2025-08-20 03:33:12,027] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=87:92, 当前值=10.6400
[2025-08-20 03:33:12,027] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.768 (from index 90)
[2025-08-20 03:33:12,028] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=85:92, 当前值=10.6400
[2025-08-20 03:33:12,028] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.51142857142857 (from index 90)
[2025-08-20 03:33:12,029] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=88:93, 当前值=10.2700
[2025-08-20 03:33:12,030] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.92 (from index 91)
[2025-08-20 03:33:12,030] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=86:93, 当前值=10.2700
[2025-08-20 03:33:12,031] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.611428571428572 (from index 91)
[2025-08-20 03:33:12,034] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=89:94, 当前值=10.3000
[2025-08-20 03:33:12,035] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.8 (from index 92)
[2025-08-20 03:33:12,035] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=87:94, 当前值=10.3000
[2025-08-20 03:33:12,035] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.678571428571429 (from index 92)
[2025-08-20 03:33:12,036] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:12,037] [DEBUG] [backtesting:322] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 03:33:12,037] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:12,037] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=5, 数据范围=90:95, 当前值=10.2800
[2025-08-20 03:33:12,037] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,5),1)=10.612 (from index 93)
[2025-08-20 03:33:12,037] [DEBUG] [rule_parser:338] [conn:N/A] SMA计算详情: 周期=7, 数据范围=88:95, 当前值=10.2800
[2025-08-20 03:33:12,038] [INFO] [rule_parser:546] [conn:N/A] [REF_RESULT] REF(SMA(close,7),1)=10.73857142857143 (from index 93)
[2025-08-20 03:33:12,038] [DEBUG] [backtesting:278] [conn:N/A] 回测完成
[2025-08-20 03:33:12,040] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 03:33:52,236] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:33:52,237] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 03:33:52,237] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:33:52,260] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 03:33:52,266] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 03:33:52,299] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 03:33:52,309] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:33:52,309] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 03:33:52,309] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 03:33:52,311] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:33:52,311] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:33:52,312] [DEBUG] [backtesting:523] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:33:52,312] [DEBUG] [backtesting:548] [conn:N/A] 注册策略调度处理器: f99b387d-9a21-4065-afee-caa2e0e7801c
[2025-08-20 03:33:52,312] [INFO] [backtesting:551] [conn:N/A] 策略注册成功 | ID: f99b387d-9a21-4065-afee-caa2e0e7801c | 名称: 自定义规则策略
[2025-08-20 03:33:52,312] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 03:33:52,313] [DEBUG] [backtesting:225] [conn:N/A] 识别数据频率为：日线
[2025-08-20 03:33:52,315] [DEBUG] [backtesting:251] [conn:N/A] 开始回测...
[2025-08-20 03:33:52,315] [INFO] [backtesting:598] [conn:N/A] 回测系统初始化开始
[2025-08-20 03:33:52,315] [INFO] [backtesting:610] [conn:N/A] 策略初始化完成: f99b387d-9a21-4065-afee-caa2e0e7801c
[2025-08-20 03:33:52,315] [INFO] [backtesting:628] [conn:N/A] 回测系统初始化完成
[2025-08-20 03:33:52,327] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:52,327] [DEBUG] [backtesting:322] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 03:33:52,328] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,330] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:52,331] [DEBUG] [backtesting:322] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 03:33:52,331] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,343] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:52,344] [DEBUG] [backtesting:322] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 03:33:52,344] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,368] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:52,368] [DEBUG] [backtesting:322] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 03:33:52,368] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,395] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:52,395] [DEBUG] [backtesting:322] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 03:33:52,395] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,399] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:52,399] [DEBUG] [backtesting:322] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 03:33:52,399] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,401] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:52,402] [DEBUG] [backtesting:322] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 03:33:52,402] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,405] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:52,405] [DEBUG] [backtesting:322] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 03:33:52,405] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,411] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:52,411] [DEBUG] [backtesting:322] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 03:33:52,411] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,425] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:52,425] [DEBUG] [backtesting:322] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 03:33:52,425] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,428] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:52,428] [DEBUG] [backtesting:322] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 03:33:52,428] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,433] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:52,434] [DEBUG] [backtesting:322] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 03:33:52,434] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,437] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:52,438] [DEBUG] [backtesting:322] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 03:33:52,438] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,449] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:52,450] [DEBUG] [backtesting:322] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 03:33:52,450] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,452] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:52,452] [DEBUG] [backtesting:322] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 03:33:52,453] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,460] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:33:52,460] [DEBUG] [backtesting:322] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 03:33:52,460] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,474] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:33:52,474] [DEBUG] [backtesting:322] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 03:33:52,474] [ERROR] [backtesting:510] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:33:52,476] [DEBUG] [backtesting:278] [conn:N/A] 回测完成
[2025-08-20 03:33:52,476] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 03:41:56,107] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:41:56,108] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 03:41:56,108] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:41:56,302] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 03:41:56,306] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 03:41:56,354] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 03:41:56,369] [DEBUG] [backtesting:532] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:41:56,369] [DEBUG] [backtesting:532] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 03:41:56,369] [DEBUG] [backtesting:532] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 03:41:56,373] [DEBUG] [backtesting:532] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:41:56,373] [DEBUG] [backtesting:532] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:41:56,376] [DEBUG] [backtesting:532] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:41:56,376] [DEBUG] [backtesting:557] [conn:N/A] 注册策略调度处理器: 6e4e47d0-844d-416b-820c-6c5d1b2a476e
[2025-08-20 03:41:56,376] [INFO] [backtesting:560] [conn:N/A] 策略注册成功 | ID: 6e4e47d0-844d-416b-820c-6c5d1b2a476e | 名称: 自定义规则策略
[2025-08-20 03:41:56,376] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 03:41:56,377] [DEBUG] [backtesting:225] [conn:N/A] 识别数据频率为：日线
[2025-08-20 03:41:56,392] [DEBUG] [backtesting:251] [conn:N/A] 开始回测...
[2025-08-20 03:41:56,392] [INFO] [backtesting:607] [conn:N/A] 回测系统初始化开始
[2025-08-20 03:41:56,393] [INFO] [backtesting:619] [conn:N/A] 策略初始化完成: 6e4e47d0-844d-416b-820c-6c5d1b2a476e
[2025-08-20 03:41:56,393] [INFO] [backtesting:637] [conn:N/A] 回测系统初始化完成
[2025-08-20 03:41:56,461] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,463] [DEBUG] [backtesting:322] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 03:41:56,464] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,464] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,464] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,464] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,464] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,469] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,469] [DEBUG] [backtesting:322] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 03:41:56,469] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,469] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,470] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,470] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,470] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,485] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,486] [DEBUG] [backtesting:322] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 03:41:56,486] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,486] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,486] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,486] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,486] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,495] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,496] [DEBUG] [backtesting:322] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 03:41:56,496] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,497] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,497] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,497] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,497] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,599] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,600] [DEBUG] [backtesting:322] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 03:41:56,600] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,601] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,601] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,601] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,601] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,610] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,610] [DEBUG] [backtesting:322] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 03:41:56,610] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,610] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,611] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,611] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,611] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,625] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,627] [DEBUG] [backtesting:322] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 03:41:56,629] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,630] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,630] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,630] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,631] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,640] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,641] [DEBUG] [backtesting:322] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 03:41:56,641] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,641] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,642] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,642] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,643] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,681] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,682] [DEBUG] [backtesting:322] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 03:41:56,682] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,682] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,682] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,682] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,682] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,709] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,709] [DEBUG] [backtesting:322] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 03:41:56,709] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,709] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,709] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,709] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,710] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,715] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,716] [DEBUG] [backtesting:322] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 03:41:56,716] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,717] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,717] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,717] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,717] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,728] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,731] [DEBUG] [backtesting:322] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 03:41:56,731] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,731] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,731] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,731] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,732] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,741] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,742] [DEBUG] [backtesting:322] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 03:41:56,742] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,742] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,742] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,742] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,742] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,757] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,758] [DEBUG] [backtesting:322] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 03:41:56,758] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,758] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,758] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,758] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,758] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,762] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,763] [DEBUG] [backtesting:322] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 03:41:56,763] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,763] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,763] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,764] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,764] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,774] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,774] [DEBUG] [backtesting:322] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 03:41:56,774] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:41:56,774] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,774] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,774] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,774] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,788] [DEBUG] [backtesting:313] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,789] [DEBUG] [backtesting:322] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 03:41:56,789] [DEBUG] [backtesting:332] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:41:56,789] [DEBUG] [backtesting:336] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:41:56,789] [DEBUG] [backtesting:340] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:41:56,789] [DEBUG] [backtesting:351] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6e4e47d0-844d-416b-820c-6c5d1b2a476e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:41:56,789] [ERROR] [backtesting:519] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:41:56,791] [DEBUG] [backtesting:278] [conn:N/A] 回测完成
[2025-08-20 03:41:56,792] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 03:51:49,908] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:51:49,908] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 03:51:49,908] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 03:51:50,098] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 03:51:50,103] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 03:51:50,148] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 03:51:50,159] [DEBUG] [backtesting:540] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:51:50,159] [DEBUG] [backtesting:540] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 03:51:50,159] [DEBUG] [backtesting:540] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 03:51:50,162] [DEBUG] [backtesting:540] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:51:50,163] [DEBUG] [backtesting:540] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 03:51:50,164] [DEBUG] [backtesting:540] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 03:51:50,164] [DEBUG] [backtesting:565] [conn:N/A] 注册策略调度处理器: f467eb0f-e721-4b16-bf72-be37be82f3b7
[2025-08-20 03:51:50,164] [INFO] [backtesting:568] [conn:N/A] 策略注册成功 | ID: f467eb0f-e721-4b16-bf72-be37be82f3b7 | 名称: 自定义规则策略
[2025-08-20 03:51:50,164] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 03:51:50,165] [DEBUG] [backtesting:227] [conn:N/A] 识别数据频率为：日线
[2025-08-20 03:51:50,166] [DEBUG] [backtesting:253] [conn:N/A] 开始回测...
[2025-08-20 03:51:50,166] [INFO] [backtesting:615] [conn:N/A] 回测系统初始化开始
[2025-08-20 03:51:50,166] [INFO] [backtesting:627] [conn:N/A] 策略初始化完成: f467eb0f-e721-4b16-bf72-be37be82f3b7
[2025-08-20 03:51:50,166] [INFO] [backtesting:645] [conn:N/A] 回测系统初始化完成
[2025-08-20 03:51:50,177] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,178] [DEBUG] [backtesting:324] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 03:51:50,178] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,178] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,178] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,178] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,178] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,182] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,183] [DEBUG] [backtesting:324] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 03:51:50,183] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,183] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,183] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,183] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,183] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,222] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,223] [DEBUG] [backtesting:324] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 03:51:50,223] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,223] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,223] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,223] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,223] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,231] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,231] [DEBUG] [backtesting:324] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 03:51:50,231] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,231] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,231] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,232] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,232] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,266] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,266] [DEBUG] [backtesting:324] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 03:51:50,266] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,266] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,266] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,266] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,266] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,270] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,271] [DEBUG] [backtesting:324] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 03:51:50,271] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,271] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,271] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,271] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,271] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,274] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,275] [DEBUG] [backtesting:324] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 03:51:50,275] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,275] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,275] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,275] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,275] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,280] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,280] [DEBUG] [backtesting:324] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 03:51:50,280] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,280] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,280] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,280] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,280] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,287] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,287] [DEBUG] [backtesting:324] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 03:51:50,287] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,287] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,287] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,287] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,287] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,306] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,306] [DEBUG] [backtesting:324] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 03:51:50,307] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,307] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,307] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,307] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,307] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,310] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,310] [DEBUG] [backtesting:324] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 03:51:50,310] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,310] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,310] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,311] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,311] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,319] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,320] [DEBUG] [backtesting:324] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 03:51:50,320] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,320] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,320] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,320] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,320] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,325] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,326] [DEBUG] [backtesting:324] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 03:51:50,326] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,326] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,326] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,326] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,326] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,348] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,348] [DEBUG] [backtesting:324] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 03:51:50,349] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,349] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,349] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,349] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,349] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,352] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,352] [DEBUG] [backtesting:324] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 03:51:50,352] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,353] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,353] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,353] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,353] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,364] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,365] [DEBUG] [backtesting:324] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 03:51:50,365] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 03:51:50,365] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,365] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,365] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,365] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,376] [DEBUG] [backtesting:315] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,377] [DEBUG] [backtesting:324] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 03:51:50,377] [DEBUG] [backtesting:334] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 03:51:50,377] [DEBUG] [backtesting:338] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 03:51:50,377] [DEBUG] [backtesting:342] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 03:51:50,377] [DEBUG] [backtesting:353] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f467eb0f-e721-4b16-bf72-be37be82f3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 03:51:50,377] [ERROR] [backtesting:527] [conn:N/A] ERROR | 创建订单失败: 'PortfolioManager' object has no attribute 'available_cash'
[2025-08-20 03:51:50,379] [DEBUG] [backtesting:280] [conn:N/A] 回测完成
[2025-08-20 03:51:50,381] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:06:25,128] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:06:25,129] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:06:25,129] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:06:25,270] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 04:06:25,274] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:06:25,324] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 04:06:25,334] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:06:25,334] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:06:25,334] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:06:25,337] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:06:25,337] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:06:25,337] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:06:25,337] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: 71116a16-3638-473d-83dd-51c7da1fc95d
[2025-08-20 04:06:25,337] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: 71116a16-3638-473d-83dd-51c7da1fc95d | 名称: 自定义规则策略
[2025-08-20 04:06:25,337] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:06:25,338] [DEBUG] [backtesting:224] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:06:25,339] [DEBUG] [backtesting:250] [conn:N/A] 开始回测...
[2025-08-20 04:06:25,339] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:06:25,339] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: 71116a16-3638-473d-83dd-51c7da1fc95d
[2025-08-20 04:06:25,339] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:06:25,349] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,349] [DEBUG] [backtesting:321] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:06:25,349] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,349] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,349] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,349] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,349] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,351] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,351] [DEBUG] [backtesting:321] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:06:25,351] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,351] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,351] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,352] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,352] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,363] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,364] [DEBUG] [backtesting:321] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:06:25,364] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,364] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,364] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,364] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,364] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,390] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,390] [DEBUG] [backtesting:321] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:06:25,390] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,390] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,390] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,390] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,390] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,416] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,417] [DEBUG] [backtesting:321] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:06:25,417] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,417] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,417] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,417] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,417] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,421] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,421] [DEBUG] [backtesting:321] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:06:25,421] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,421] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,421] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,421] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,421] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,426] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,427] [DEBUG] [backtesting:321] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:06:25,427] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,427] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,427] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,427] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,427] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,430] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,430] [DEBUG] [backtesting:321] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:06:25,430] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,431] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,431] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,431] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,431] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,437] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,437] [DEBUG] [backtesting:321] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:06:25,437] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,437] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,437] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,437] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,437] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,449] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,450] [DEBUG] [backtesting:321] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:06:25,450] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,450] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,450] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,450] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,450] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,452] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,452] [DEBUG] [backtesting:321] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:06:25,452] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,452] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,452] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,452] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,452] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,457] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,457] [DEBUG] [backtesting:321] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:06:25,457] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,457] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,457] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,457] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,457] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,464] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,464] [DEBUG] [backtesting:321] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:06:25,464] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,464] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,464] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,464] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,465] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,474] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,475] [DEBUG] [backtesting:321] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:06:25,475] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,475] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,475] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,475] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,475] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,479] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,479] [DEBUG] [backtesting:321] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:06:25,479] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,479] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,479] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,479] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,479] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,487] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,487] [DEBUG] [backtesting:321] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:06:25,487] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:06:25,488] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,488] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,488] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,488] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,500] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,500] [DEBUG] [backtesting:321] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:06:25,500] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:06:25,500] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:06:25,500] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:06:25,500] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='71116a16-3638-473d-83dd-51c7da1fc95d', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:06:25,500] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'int' and 'NoneType'
[2025-08-20 04:06:25,501] [DEBUG] [backtesting:277] [conn:N/A] 回测完成
[2025-08-20 04:06:25,502] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:08:33,828] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:08:33,829] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:08:33,829] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:08:33,864] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 04:08:33,868] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:08:33,901] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 04:08:33,911] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:08:33,912] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:08:33,912] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:08:33,914] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:08:33,914] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:08:33,914] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:08:33,915] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: 2fef556a-bc18-4da2-bf07-c3bba92b5af8
[2025-08-20 04:08:33,915] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: 2fef556a-bc18-4da2-bf07-c3bba92b5af8 | 名称: 自定义规则策略
[2025-08-20 04:08:33,915] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:08:33,915] [DEBUG] [backtesting:224] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:08:33,916] [DEBUG] [backtesting:250] [conn:N/A] 开始回测...
[2025-08-20 04:08:50,263] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:08:50,263] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:08:50,263] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:08:50,312] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 04:08:50,316] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:08:50,350] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 04:08:50,361] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:08:50,361] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:08:50,362] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:08:50,364] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:08:50,364] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:08:50,365] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:08:50,365] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: 6d1bfb55-c1ea-481d-a915-70ec083ee926
[2025-08-20 04:08:50,365] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: 6d1bfb55-c1ea-481d-a915-70ec083ee926 | 名称: 自定义规则策略
[2025-08-20 04:08:50,365] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:08:50,365] [DEBUG] [backtesting:224] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:08:50,366] [DEBUG] [backtesting:250] [conn:N/A] 开始回测...
[2025-08-20 04:08:50,366] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:08:50,367] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: 6d1bfb55-c1ea-481d-a915-70ec083ee926
[2025-08-20 04:08:50,367] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:08:50,381] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,381] [DEBUG] [backtesting:321] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:08:50,381] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,381] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,381] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,381] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,382] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,384] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,385] [DEBUG] [backtesting:321] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:08:50,385] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,385] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,385] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,385] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,385] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,412] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,413] [DEBUG] [backtesting:321] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:08:50,413] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,413] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,413] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,413] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,413] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,419] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,419] [DEBUG] [backtesting:321] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:08:50,419] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,419] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,419] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,420] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,420] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,444] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,444] [DEBUG] [backtesting:321] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:08:50,444] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,445] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,445] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,445] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,445] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,448] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,448] [DEBUG] [backtesting:321] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:08:50,448] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,448] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,448] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,448] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,448] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,451] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,451] [DEBUG] [backtesting:321] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:08:50,451] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,451] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,451] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,451] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,451] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,453] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,453] [DEBUG] [backtesting:321] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:08:50,453] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,453] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,454] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,454] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,454] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,459] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,460] [DEBUG] [backtesting:321] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:08:50,460] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,460] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,460] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,460] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,460] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,471] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,471] [DEBUG] [backtesting:321] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:08:50,471] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,472] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,472] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,472] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,472] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,474] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,474] [DEBUG] [backtesting:321] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:08:50,474] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,474] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,474] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,474] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,474] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,480] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,480] [DEBUG] [backtesting:321] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:08:50,480] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,480] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,480] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,480] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,480] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,484] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,484] [DEBUG] [backtesting:321] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:08:50,484] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,484] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,484] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,484] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,484] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,494] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,495] [DEBUG] [backtesting:321] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:08:50,495] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,495] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,495] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,495] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,495] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,497] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,498] [DEBUG] [backtesting:321] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:08:50,498] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,498] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,498] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,498] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,498] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,544] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,545] [DEBUG] [backtesting:321] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:08:50,545] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:08:50,545] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,545] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,545] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,545] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,567] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,568] [DEBUG] [backtesting:321] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:08:50,569] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:08:50,569] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:08:50,569] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:08:50,569] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='6d1bfb55-c1ea-481d-a915-70ec083ee926', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:08:50,569] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:08:50,573] [DEBUG] [backtesting:277] [conn:N/A] 回测完成
[2025-08-20 04:08:50,576] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:10:03,996] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:10:03,997] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:10:03,997] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:10:04,030] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 04:10:04,036] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:10:04,075] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 04:10:04,087] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:10:04,087] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:10:04,087] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:10:04,089] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:10:04,090] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:10:04,090] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:10:04,090] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126
[2025-08-20 04:10:04,090] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126 | 名称: 自定义规则策略
[2025-08-20 04:10:04,090] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:10:04,091] [DEBUG] [backtesting:224] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:10:04,094] [DEBUG] [backtesting:250] [conn:N/A] 开始回测...
[2025-08-20 04:10:04,094] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:10:04,094] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126
[2025-08-20 04:10:04,094] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:10:04,107] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,107] [DEBUG] [backtesting:321] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:10:04,107] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,107] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,108] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,108] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,108] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,113] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,113] [DEBUG] [backtesting:321] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:10:04,113] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,113] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,113] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,114] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,114] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,123] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,124] [DEBUG] [backtesting:321] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:10:04,124] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,124] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,124] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,124] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,124] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,133] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,134] [DEBUG] [backtesting:321] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:10:04,134] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,134] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,134] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,134] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,134] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,165] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,165] [DEBUG] [backtesting:321] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:10:04,165] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,165] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,165] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,165] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,166] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,169] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,169] [DEBUG] [backtesting:321] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:10:04,169] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,169] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,169] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,169] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,169] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,172] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,173] [DEBUG] [backtesting:321] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:10:04,173] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,173] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,173] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,173] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,173] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,176] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,177] [DEBUG] [backtesting:321] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:10:04,177] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,177] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,177] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,177] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,177] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,183] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,183] [DEBUG] [backtesting:321] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:10:04,183] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,183] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,183] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,183] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,183] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,199] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,199] [DEBUG] [backtesting:321] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:10:04,199] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,199] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,199] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,199] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,199] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,202] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,203] [DEBUG] [backtesting:321] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:10:04,203] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,203] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,203] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,203] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,203] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,208] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,209] [DEBUG] [backtesting:321] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:10:04,209] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,209] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,209] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,210] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,210] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,215] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,216] [DEBUG] [backtesting:321] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:10:04,216] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,216] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,216] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,216] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,216] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,228] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,229] [DEBUG] [backtesting:321] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:10:04,229] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,229] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,229] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,229] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,229] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,249] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,249] [DEBUG] [backtesting:321] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:10:04,249] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,249] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,249] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,250] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,250] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,260] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,261] [DEBUG] [backtesting:321] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:10:04,261] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:04,261] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,261] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,261] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,261] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,271] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,272] [DEBUG] [backtesting:321] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:10:04,272] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:04,272] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:04,272] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:04,272] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='eaf3b8e6-1469-4c7a-bec1-7b97b4a8c126', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:04,272] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:04,273] [DEBUG] [backtesting:277] [conn:N/A] 回测完成
[2025-08-20 04:10:04,275] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:10:35,102] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:10:35,102] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:10:35,102] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:10:35,132] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 04:10:35,138] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:10:35,212] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 04:10:35,224] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:10:35,224] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:10:35,224] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:10:35,228] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:10:35,228] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:10:35,229] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:10:35,229] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: 3c7718d7-2725-4de3-984d-0215840c9a87
[2025-08-20 04:10:35,229] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: 3c7718d7-2725-4de3-984d-0215840c9a87 | 名称: 自定义规则策略
[2025-08-20 04:10:35,230] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:10:35,230] [DEBUG] [backtesting:224] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:10:35,231] [DEBUG] [backtesting:250] [conn:N/A] 开始回测...
[2025-08-20 04:10:35,232] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:10:35,232] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: 3c7718d7-2725-4de3-984d-0215840c9a87
[2025-08-20 04:10:35,232] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:10:35,249] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,250] [DEBUG] [backtesting:321] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:10:35,250] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,250] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,250] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,250] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,250] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,253] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,253] [DEBUG] [backtesting:321] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:10:35,253] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,253] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,253] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,254] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,254] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,285] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,285] [DEBUG] [backtesting:321] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:10:35,285] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,285] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,285] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,285] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,286] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,294] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,294] [DEBUG] [backtesting:321] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:10:35,295] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,295] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,295] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,295] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,295] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,329] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,330] [DEBUG] [backtesting:321] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:10:35,330] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,330] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,330] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,330] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,330] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,334] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,334] [DEBUG] [backtesting:321] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:10:35,334] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,334] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,334] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,334] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,334] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,338] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,338] [DEBUG] [backtesting:321] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:10:35,338] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,338] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,338] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,338] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,338] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,341] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,341] [DEBUG] [backtesting:321] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:10:35,341] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,341] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,341] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,341] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,341] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,352] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,353] [DEBUG] [backtesting:321] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:10:35,353] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,353] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,353] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,353] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,353] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,372] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,372] [DEBUG] [backtesting:321] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:10:35,372] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,372] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,372] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,372] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,372] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,377] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,377] [DEBUG] [backtesting:321] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:10:35,377] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,378] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,378] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,378] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,378] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,384] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,384] [DEBUG] [backtesting:321] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:10:35,384] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,384] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,384] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,384] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,384] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,389] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,389] [DEBUG] [backtesting:321] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:10:35,389] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,389] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,389] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,389] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,389] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,406] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,406] [DEBUG] [backtesting:321] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:10:35,406] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,406] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,406] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,406] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,407] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,414] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,414] [DEBUG] [backtesting:321] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:10:35,415] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,415] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,415] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,415] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,415] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,428] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,428] [DEBUG] [backtesting:321] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:10:35,428] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:10:35,428] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,428] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,428] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,428] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,439] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,439] [DEBUG] [backtesting:321] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:10:35,439] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:10:35,440] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:10:35,440] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:10:35,440] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3c7718d7-2725-4de3-984d-0215840c9a87', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:10:35,440] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'decimal.Decimal' and 'float'
[2025-08-20 04:10:35,441] [DEBUG] [backtesting:277] [conn:N/A] 回测完成
[2025-08-20 04:10:35,445] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:22:06,396] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-20
[2025-08-20 04:22:06,397] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:22:06,397] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-20
[2025-08-20 04:22:06,594] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-20 for sh.603900

[2025-08-20 04:22:06,608] [INFO] [database:270] [conn:N/A] Found 1 missing data ranges for sh.603900
[2025-08-20 04:22:06,623] [INFO] [database:300] [conn:N/A] missing_ranges [(datetime.date(2025, 8, 19), datetime.date(2025, 8, 19))]
[2025-08-20 04:22:06,624] [INFO] [database:301] [conn:N/A] Fetching missing data ranges for sh.603900
[2025-08-20 04:22:06,628] [INFO] [database:306] [conn:N/A] Fetching data from 2025-08-19 to 2025-08-19
[2025-08-20 04:22:06,810] [ERROR] [database:350] [conn:N/A] Failed to load stock data: 未获取到数据, symbol: sh.603900, start_date:2025-08-19, end_date:2025-08-19, frequency: d
[2025-08-20 04:22:13,653] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:22:13,654] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:22:13,654] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:22:13,668] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 04:22:13,671] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:22:13,716] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 04:22:13,727] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:22:13,727] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:22:13,728] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:22:13,730] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:22:13,730] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:22:13,731] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:22:13,731] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: 5ffdd0ca-db77-414c-a897-12917e76c8e1
[2025-08-20 04:22:13,731] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: 5ffdd0ca-db77-414c-a897-12917e76c8e1 | 名称: 自定义规则策略
[2025-08-20 04:22:13,731] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:22:13,731] [DEBUG] [backtesting:224] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:22:13,732] [DEBUG] [backtesting:250] [conn:N/A] 开始回测...
[2025-08-20 04:22:13,732] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:22:13,732] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: 5ffdd0ca-db77-414c-a897-12917e76c8e1
[2025-08-20 04:22:13,732] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:22:13,744] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,744] [DEBUG] [backtesting:321] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:22:13,744] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,744] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,744] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,744] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,745] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,748] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,748] [DEBUG] [backtesting:321] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:22:13,748] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,748] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,748] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,748] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,749] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,768] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,769] [DEBUG] [backtesting:321] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:22:13,769] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,769] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,769] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,769] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,769] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,773] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,774] [DEBUG] [backtesting:321] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:22:13,774] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,774] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,774] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,774] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,774] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,795] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,795] [DEBUG] [backtesting:321] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:22:13,795] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,795] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,795] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,795] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,795] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,798] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,798] [DEBUG] [backtesting:321] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:22:13,798] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,798] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,798] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,798] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,798] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,800] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,800] [DEBUG] [backtesting:321] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:22:13,800] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,800] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,800] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,801] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,801] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,802] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,803] [DEBUG] [backtesting:321] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:22:13,803] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,803] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,803] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,803] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,803] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,807] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,807] [DEBUG] [backtesting:321] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:22:13,807] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,807] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,807] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,807] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,807] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,818] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,818] [DEBUG] [backtesting:321] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:22:13,818] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,818] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,818] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,818] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,818] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,820] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,821] [DEBUG] [backtesting:321] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:22:13,821] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,821] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,821] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,821] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,821] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,824] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,824] [DEBUG] [backtesting:321] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:22:13,824] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,825] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,825] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,825] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,825] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,828] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,828] [DEBUG] [backtesting:321] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:22:13,828] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,828] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,828] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,828] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,828] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,835] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,835] [DEBUG] [backtesting:321] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:22:13,835] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,835] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,835] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,835] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,835] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,837] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,837] [DEBUG] [backtesting:321] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:22:13,837] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,837] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,837] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,837] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,837] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,843] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,843] [DEBUG] [backtesting:321] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:22:13,843] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:22:13,844] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,844] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,844] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,844] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,851] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,852] [DEBUG] [backtesting:321] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:22:13,852] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:22:13,852] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:22:13,852] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:22:13,852] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5ffdd0ca-db77-414c-a897-12917e76c8e1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:22:13,852] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:22:13,853] [DEBUG] [backtesting:277] [conn:N/A] 回测完成
[2025-08-20 04:22:13,853] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:30:51,081] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:30:51,082] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:30:51,082] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:30:51,265] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 04:30:51,275] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:30:51,322] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 04:30:51,334] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:30:51,334] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:30:51,334] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:30:51,341] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:30:51,341] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:30:51,342] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:30:51,342] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: f181cd61-6852-4a07-8c93-38ce21b213a7
[2025-08-20 04:30:51,343] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: f181cd61-6852-4a07-8c93-38ce21b213a7 | 名称: 自定义规则策略
[2025-08-20 04:30:51,343] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:30:51,343] [DEBUG] [backtesting:224] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:30:51,344] [DEBUG] [backtesting:250] [conn:N/A] 开始回测...
[2025-08-20 04:30:51,344] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:30:51,345] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: f181cd61-6852-4a07-8c93-38ce21b213a7
[2025-08-20 04:30:51,345] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:30:51,357] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,358] [DEBUG] [backtesting:321] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:30:51,358] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,358] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,358] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,358] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,358] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,360] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,361] [DEBUG] [backtesting:321] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:30:51,361] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,361] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,362] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,362] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,363] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,387] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,387] [DEBUG] [backtesting:321] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:30:51,387] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,388] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,388] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,388] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,388] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,392] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,393] [DEBUG] [backtesting:321] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:30:51,393] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,393] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,393] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,393] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,393] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,415] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,416] [DEBUG] [backtesting:321] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:30:51,416] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,416] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,416] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,416] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,416] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,418] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,418] [DEBUG] [backtesting:321] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:30:51,419] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,419] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,419] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,419] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,419] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,421] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,421] [DEBUG] [backtesting:321] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:30:51,421] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,421] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,421] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,421] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,421] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,423] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,423] [DEBUG] [backtesting:321] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:30:51,423] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,423] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,423] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,423] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,423] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,429] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,429] [DEBUG] [backtesting:321] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:30:51,430] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,430] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,430] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,430] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,430] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,439] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,440] [DEBUG] [backtesting:321] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:30:51,440] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,440] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,440] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,440] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,440] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,442] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,442] [DEBUG] [backtesting:321] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:30:51,442] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,442] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,442] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,442] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,442] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,447] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,448] [DEBUG] [backtesting:321] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:30:51,448] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,448] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,448] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,448] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,448] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,451] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,451] [DEBUG] [backtesting:321] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:30:51,451] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,451] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,451] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,451] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,451] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,457] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,458] [DEBUG] [backtesting:321] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:30:51,458] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,458] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,458] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,458] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,458] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,460] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,460] [DEBUG] [backtesting:321] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:30:51,460] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,460] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,460] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,460] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,460] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,467] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,467] [DEBUG] [backtesting:321] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:30:51,467] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:30:51,467] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,467] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,467] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,468] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,475] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,475] [DEBUG] [backtesting:321] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:30:51,475] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:30:51,475] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:30:51,475] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:30:51,475] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f181cd61-6852-4a07-8c93-38ce21b213a7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:30:51,475] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:30:51,476] [DEBUG] [backtesting:277] [conn:N/A] 回测完成
[2025-08-20 04:30:51,477] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:31:21,670] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:31:21,670] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:31:21,670] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:31:21,721] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 04:31:21,725] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:31:21,760] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 04:31:21,772] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:31:21,772] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:31:21,772] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:31:21,773] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:31:21,773] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:31:21,774] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:31:21,774] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: f1afb31e-f130-4763-a882-fefe669b88d1
[2025-08-20 04:31:21,774] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: f1afb31e-f130-4763-a882-fefe669b88d1 | 名称: 自定义规则策略
[2025-08-20 04:31:21,774] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:31:21,774] [DEBUG] [backtesting:224] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:31:21,775] [DEBUG] [backtesting:250] [conn:N/A] 开始回测...
[2025-08-20 04:31:21,775] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:31:21,775] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: f1afb31e-f130-4763-a882-fefe669b88d1
[2025-08-20 04:31:21,775] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:31:21,786] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,787] [DEBUG] [backtesting:321] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:31:21,787] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,787] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,787] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,787] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,787] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,789] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,789] [DEBUG] [backtesting:321] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:31:21,789] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,789] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,789] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,789] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,789] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,801] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,802] [DEBUG] [backtesting:321] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:31:21,802] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,802] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,802] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,802] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,802] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,809] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,809] [DEBUG] [backtesting:321] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:31:21,809] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,809] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,809] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,809] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,810] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,831] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,831] [DEBUG] [backtesting:321] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:31:21,831] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,831] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,831] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,831] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,831] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,834] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,834] [DEBUG] [backtesting:321] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:31:21,834] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,834] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,834] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,834] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,834] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,836] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,836] [DEBUG] [backtesting:321] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:31:21,836] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,836] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,836] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,836] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,836] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,838] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,838] [DEBUG] [backtesting:321] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:31:21,838] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,838] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,838] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,838] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,838] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,843] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,843] [DEBUG] [backtesting:321] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:31:21,843] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,843] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,843] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,843] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,843] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,857] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,857] [DEBUG] [backtesting:321] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:31:21,857] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,858] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,858] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,858] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,858] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,860] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,860] [DEBUG] [backtesting:321] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:31:21,861] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,861] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,861] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,861] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,861] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,867] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,867] [DEBUG] [backtesting:321] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:31:21,867] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,867] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,867] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,867] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,867] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,870] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,870] [DEBUG] [backtesting:321] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:31:21,870] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,870] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,870] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,870] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,870] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,877] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,877] [DEBUG] [backtesting:321] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:31:21,877] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,877] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,877] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,877] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,877] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,880] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,881] [DEBUG] [backtesting:321] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:31:21,881] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,881] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,881] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,881] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,881] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,887] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,887] [DEBUG] [backtesting:321] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:31:21,887] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:31:21,887] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,887] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,887] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,887] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,895] [DEBUG] [backtesting:312] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,895] [DEBUG] [backtesting:321] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:31:21,895] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:31:21,895] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:31:21,895] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:31:21,896] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1afb31e-f130-4763-a882-fefe669b88d1', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:31:21,896] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:31:21,897] [DEBUG] [backtesting:277] [conn:N/A] 回测完成
[2025-08-20 04:31:21,897] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:36:21,665] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:36:21,665] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:36:21,665] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:36:21,754] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 04:36:21,763] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:36:21,806] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 04:36:21,853] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:36:21,854] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:36:21,854] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:36:21,857] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:36:21,857] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:36:21,866] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:36:21,866] [DEBUG] [backtesting:575] [conn:N/A] 注册策略调度处理器: f1b94af3-a7c4-405f-9b28-2881e2b4c5a8
[2025-08-20 04:36:21,866] [INFO] [backtesting:578] [conn:N/A] 策略注册成功 | ID: f1b94af3-a7c4-405f-9b28-2881e2b4c5a8 | 名称: 自定义规则策略
[2025-08-20 04:36:21,866] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:36:21,866] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:36:21,868] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 04:36:21,868] [INFO] [backtesting:625] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:36:21,868] [INFO] [backtesting:637] [conn:N/A] 策略初始化完成: f1b94af3-a7c4-405f-9b28-2881e2b4c5a8
[2025-08-20 04:36:21,868] [INFO] [backtesting:655] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:36:21,883] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,884] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:36:21,884] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,884] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,885] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,885] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,885] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,887] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,887] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:36:21,887] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,887] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,888] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,888] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,888] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,902] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,902] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:36:21,902] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,903] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,903] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,903] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,903] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,907] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,907] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:36:21,907] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,907] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,907] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,907] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,907] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,940] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,940] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:36:21,940] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,940] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,940] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,940] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,940] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,944] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,945] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:36:21,945] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,945] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,946] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,946] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,946] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,949] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,950] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:36:21,950] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,950] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,950] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,950] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,950] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,952] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,953] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:36:21,953] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,953] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,953] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,953] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,953] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,957] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,957] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:36:21,957] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,957] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,957] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,957] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,957] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,968] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,969] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:36:21,969] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,969] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,969] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,969] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,969] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,971] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,971] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:36:21,971] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,971] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,971] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,971] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,971] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,975] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,975] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:36:21,975] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,975] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,975] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,975] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,975] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,981] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,982] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:36:21,982] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,982] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,982] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,982] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,982] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,989] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,989] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:36:21,989] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,989] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,989] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,989] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,989] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,991] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,991] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:36:21,992] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:21,992] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,992] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,992] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,992] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:21,998] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,998] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:36:21,998] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:21,999] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:21,999] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:21,999] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:21,999] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:22,006] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:22,007] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:36:22,007] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:22,007] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:22,007] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:22,007] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f1b94af3-a7c4-405f-9b28-2881e2b4c5a8', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:22,007] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:22,008] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 04:36:22,008] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:36:45,330] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:36:45,331] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:36:45,331] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:36:45,366] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 04:36:45,371] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:36:45,407] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 04:36:45,420] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:36:45,420] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:36:45,420] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:36:45,422] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:36:45,422] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:36:45,423] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:36:45,423] [DEBUG] [backtesting:575] [conn:N/A] 注册策略调度处理器: b5b7c0fb-2570-4b54-aa43-9eb8f7322acb
[2025-08-20 04:36:45,423] [INFO] [backtesting:578] [conn:N/A] 策略注册成功 | ID: b5b7c0fb-2570-4b54-aa43-9eb8f7322acb | 名称: 自定义规则策略
[2025-08-20 04:36:45,423] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:36:45,423] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:36:45,424] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 04:36:45,424] [INFO] [backtesting:625] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:36:45,424] [INFO] [backtesting:637] [conn:N/A] 策略初始化完成: b5b7c0fb-2570-4b54-aa43-9eb8f7322acb
[2025-08-20 04:36:45,424] [INFO] [backtesting:655] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:36:45,434] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,435] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:36:45,435] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,435] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,435] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,435] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,435] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,436] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,437] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:36:45,437] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,437] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,437] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,437] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,437] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,446] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,446] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:36:45,446] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,446] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,446] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,447] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,447] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,453] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,454] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:36:45,454] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,455] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,455] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,455] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,455] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,484] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,484] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:36:45,484] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,484] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,484] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,484] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,484] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,487] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,487] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:36:45,487] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,487] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,487] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,487] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,487] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,489] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,489] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:36:45,489] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,490] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,490] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,490] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,490] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,491] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,492] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:36:45,492] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,492] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,492] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,492] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,492] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,498] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,498] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:36:45,498] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,498] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,498] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,498] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,498] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,508] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,508] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:36:45,508] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,508] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,508] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,508] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,508] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,512] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,512] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:36:45,512] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,512] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,512] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,512] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,512] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,516] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,516] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:36:45,516] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,516] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,516] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,516] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,516] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,519] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,519] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:36:45,519] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,519] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,519] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,519] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,519] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,526] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,526] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:36:45,526] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,527] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,527] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,527] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,527] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,530] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,530] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:36:45,530] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,530] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,530] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,530] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,530] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,536] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,536] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:36:45,536] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:36:45,536] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,536] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,536] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,536] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,546] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,547] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:36:45,547] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:36:45,547] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:36:45,547] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:36:45,547] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='b5b7c0fb-2570-4b54-aa43-9eb8f7322acb', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:36:45,547] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:36:45,548] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 04:36:45,549] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:37:06,017] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:37:06,018] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:37:06,018] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:37:06,049] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 04:37:06,053] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:37:06,089] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 04:37:06,131] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:37:06,131] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:37:06,131] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:37:06,138] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:37:06,138] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:37:06,140] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:37:06,140] [DEBUG] [backtesting:575] [conn:N/A] 注册策略调度处理器: f272e31d-c4d5-4516-84c5-0e5ba84961a9
[2025-08-20 04:37:06,140] [INFO] [backtesting:578] [conn:N/A] 策略注册成功 | ID: f272e31d-c4d5-4516-84c5-0e5ba84961a9 | 名称: 自定义规则策略
[2025-08-20 04:37:06,141] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:37:06,141] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:37:06,145] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 04:37:06,145] [INFO] [backtesting:625] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:37:06,145] [INFO] [backtesting:637] [conn:N/A] 策略初始化完成: f272e31d-c4d5-4516-84c5-0e5ba84961a9
[2025-08-20 04:37:06,145] [INFO] [backtesting:655] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:37:06,162] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,163] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:37:06,163] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,163] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,163] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,163] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,163] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,166] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,166] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:37:06,166] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,166] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,166] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,166] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,166] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,175] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,176] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:37:06,176] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,176] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,176] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,176] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,176] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,185] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,185] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:37:06,185] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,185] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,185] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,185] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,185] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,211] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,211] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:37:06,211] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,211] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,211] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,211] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,212] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,214] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,214] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:37:06,214] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,214] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,215] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,215] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,215] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,217] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,217] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:37:06,217] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,217] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,217] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,217] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,217] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,219] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,219] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:37:06,219] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,219] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,219] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,219] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,219] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,223] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,223] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:37:06,223] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,223] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,223] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,223] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,223] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,235] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,235] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:37:06,235] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,235] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,235] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,235] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,235] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,238] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,238] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:37:06,238] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,238] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,238] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,238] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,238] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,242] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,242] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:37:06,242] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,242] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,242] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,242] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,242] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,246] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,247] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:37:06,247] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,247] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,247] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,247] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,247] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,254] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,254] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:37:06,254] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,254] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,254] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,254] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,254] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,256] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,256] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:37:06,256] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,256] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,256] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,257] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,257] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,265] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,265] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:37:06,265] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:37:06,265] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,265] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,265] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,265] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,273] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,274] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:37:06,274] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:37:06,274] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:37:06,274] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:37:06,274] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='f272e31d-c4d5-4516-84c5-0e5ba84961a9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 04:37:06,274] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:37:06,275] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 04:37:06,276] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:40:46,342] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:40:46,343] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:40:46,343] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 04:40:46,378] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 04:40:46,384] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:40:46,420] [INFO] [database:346] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 04:40:46,431] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:40:46,431] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:40:46,431] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:40:46,434] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:40:46,434] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:40:46,435] [DEBUG] [backtesting:550] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:40:46,435] [DEBUG] [backtesting:575] [conn:N/A] 注册策略调度处理器: 14b66366-71d8-4065-9cbd-949f71263b1f
[2025-08-20 04:40:46,435] [INFO] [backtesting:578] [conn:N/A] 策略注册成功 | ID: 14b66366-71d8-4065-9cbd-949f71263b1f | 名称: 自定义规则策略
[2025-08-20 04:40:46,435] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:40:46,435] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:40:46,437] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 04:40:46,437] [INFO] [backtesting:625] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:40:46,437] [INFO] [backtesting:637] [conn:N/A] 策略初始化完成: 14b66366-71d8-4065-9cbd-949f71263b1f
[2025-08-20 04:40:46,437] [INFO] [backtesting:655] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:40:46,452] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,453] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:40:46,453] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,453] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,453] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,453] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,453] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,455] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,456] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:40:46,456] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,456] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,456] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,456] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,456] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,471] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,472] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:40:46,472] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,472] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,472] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,472] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,472] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,482] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,483] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:40:46,483] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,483] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,483] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,483] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,483] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,533] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,534] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:40:46,534] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,534] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,534] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,534] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,534] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,538] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,539] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:40:46,539] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,539] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,539] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,539] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,539] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,545] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,546] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:40:46,546] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,546] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,546] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,546] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,546] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,549] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,549] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:40:46,549] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,549] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,549] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,549] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,549] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,556] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,557] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:40:46,557] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,557] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,557] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,557] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,557] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,575] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,576] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:40:46,576] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,577] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,577] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,577] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,577] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,580] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,581] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:40:46,581] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,581] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,582] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,582] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,582] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,590] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,590] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:40:46,590] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,591] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,591] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,591] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,591] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,600] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,601] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:40:46,601] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,601] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,601] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,601] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,601] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,615] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,615] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:40:46,615] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,615] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,615] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,615] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,615] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,619] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,619] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:40:46,619] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,619] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,619] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,619] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,619] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,630] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,631] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:40:46,631] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 04:40:46,631] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,631] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,631] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,631] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,645] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,645] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:40:46,645] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 04:40:46,645] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:40:46,645] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972.0 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 04:40:46,646] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='14b66366-71d8-4065-9cbd-949f71263b1f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972.0, order_type='LIMIT', order_id='')
[2025-08-20 04:40:46,646] [ERROR] [backtesting:537] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:40:46,647] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 04:40:46,648] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:40:59,489] [DEBUG] [database:28] [conn:N/A] DatabaseManager initialized, instance_id: 4733360544
[2025-08-20 04:40:59,755] [DEBUG] [database:87] [conn:N/A] 连接池初始化成功, 循环ID: 4453957008
[2025-08-20 04:40:59,755] [INFO] [database:95] [conn:N/A] 开始数据库表结构初始化...
[2025-08-20 04:40:59,838] [DEBUG] [database:167] [conn:4733430560] 数据库表结构初始化完成
[2025-08-20 04:40:59,838] [DEBUG] [database:171] [conn:N/A] 当前循环活跃状态: True
[2025-08-20 04:40:59,838] [DEBUG] [database:62] [conn:N/A] initialize调用结束，总耗时: 0.35s
[2025-08-20 04:41:39,779] [DEBUG] [database:388] [conn:N/A] 检查数据是否最新
[2025-08-20 04:41:39,780] [DEBUG] [database:416] [conn:N/A] 检查StockInfo表状态(尝试1/3)
[2025-08-20 04:41:39,780] [DEBUG] [database:417] [conn:4738445664] 当前活跃连接数: 1
[2025-08-20 04:41:39,895] [WARNING] [database:443] [conn:N/A] StockInfo表为空
[2025-08-20 04:41:40,399] [DEBUG] [database:511] [conn:N/A] Truncating StockInfo table
[2025-08-20 04:41:40,420] [DEBUG] [database:515] [conn:N/A] Inserting 0 rows into StockInfo
[2025-08-20 04:41:40,446] [INFO] [database:521] [conn:N/A] 成功更新StockInfo表数据，成功插入0行，失败0行
[2025-08-20 04:42:00,412] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-17
[2025-08-20 04:42:00,412] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:42:00,412] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-17
[2025-08-20 04:42:00,442] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-17 for sh.603900

[2025-08-20 04:42:00,448] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:42:00,489] [INFO] [database:346] [conn:N/A] Successfully loaded 94 rows for sh.603900
[2025-08-20 04:42:00,499] [DEBUG] [backtesting:552] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:42:00,500] [DEBUG] [backtesting:552] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:42:00,500] [DEBUG] [backtesting:552] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:42:00,505] [DEBUG] [backtesting:552] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:42:00,505] [DEBUG] [backtesting:552] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:42:00,506] [DEBUG] [backtesting:552] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:42:00,506] [DEBUG] [backtesting:577] [conn:N/A] 注册策略调度处理器: d79441d6-dd1a-481b-841e-aa32d928018a
[2025-08-20 04:42:00,506] [INFO] [backtesting:580] [conn:N/A] 策略注册成功 | ID: d79441d6-dd1a-481b-841e-aa32d928018a | 名称: 自定义规则策略
[2025-08-20 04:42:00,506] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:42:00,506] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:42:00,508] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 04:42:00,508] [INFO] [backtesting:627] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:42:00,508] [INFO] [backtesting:639] [conn:N/A] 策略初始化完成: d79441d6-dd1a-481b-841e-aa32d928018a
[2025-08-20 04:42:00,508] [INFO] [backtesting:657] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:42:00,519] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,519] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:42:00,520] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,520] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,520] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,520] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='SELL', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,520] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,522] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,522] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:42:00,522] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,522] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,522] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,522] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='BUY', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,522] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,540] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,540] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:42:00,540] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,540] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,541] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,541] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='SELL', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,541] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,549] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,550] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:42:00,550] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,550] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,550] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,550] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='BUY', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,550] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,591] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,591] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:42:00,591] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,592] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,592] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,592] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='SELL', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,593] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,605] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,606] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:42:00,606] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,606] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,608] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,608] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='BUY', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,608] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,613] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,613] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:42:00,613] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,613] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,613] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,613] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='SELL', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,613] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,616] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,616] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:42:00,616] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,616] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,616] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,616] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='BUY', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,616] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,622] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,623] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:42:00,623] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,623] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,623] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,623] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='SELL', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,623] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,641] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,641] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:42:00,641] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,641] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,641] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,641] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='BUY', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,641] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,645] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,646] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:42:00,646] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,646] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,646] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,646] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='SELL', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,646] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,652] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,652] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:42:00,652] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,652] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,652] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,652] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='BUY', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,652] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,656] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,656] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:42:00,656] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,656] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,656] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,656] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='SELL', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,656] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,668] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,668] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:42:00,668] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,668] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,668] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,668] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='BUY', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,668] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,671] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,671] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:42:00,671] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,671] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,671] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,671] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='SELL', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,671] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,681] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,681] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:42:00,681] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:00,681] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,681] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,681] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='BUY', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,681] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,690] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,691] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:42:00,691] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:00,691] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:00,691] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970.0 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:00,691] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='d79441d6-dd1a-481b-841e-aa32d928018a', symbol='sh.603900', direction='SELL', price=10.3, quantity=970.0, order_type='LIMIT', order_id='')
[2025-08-20 04:42:00,691] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:00,691] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 04:42:00,695] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:42:23,282] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-17
[2025-08-20 04:42:23,283] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:42:23,283] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-17
[2025-08-20 04:42:23,318] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-17 for sh.603900

[2025-08-20 04:42:23,322] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:42:23,357] [INFO] [database:346] [conn:N/A] Successfully loaded 94 rows for sh.603900
[2025-08-20 04:42:23,369] [DEBUG] [backtesting:552] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:42:23,369] [DEBUG] [backtesting:552] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:42:23,369] [DEBUG] [backtesting:552] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:42:23,371] [DEBUG] [backtesting:552] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:42:23,371] [DEBUG] [backtesting:552] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:42:23,372] [DEBUG] [backtesting:552] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:42:23,372] [DEBUG] [backtesting:577] [conn:N/A] 注册策略调度处理器: 2b81ace5-c1bd-4a67-8e3e-a7966672784b
[2025-08-20 04:42:23,372] [INFO] [backtesting:580] [conn:N/A] 策略注册成功 | ID: 2b81ace5-c1bd-4a67-8e3e-a7966672784b | 名称: 自定义规则策略
[2025-08-20 04:42:23,372] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:42:23,372] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:42:23,373] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 04:42:23,373] [INFO] [backtesting:627] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:42:23,373] [INFO] [backtesting:639] [conn:N/A] 策略初始化完成: 2b81ace5-c1bd-4a67-8e3e-a7966672784b
[2025-08-20 04:42:23,373] [INFO] [backtesting:657] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:42:23,385] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,386] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:42:23,386] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,386] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,386] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,386] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,386] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,388] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,388] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:42:23,388] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,388] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,388] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,388] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,388] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,399] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,399] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:42:23,399] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,400] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,400] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,400] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,400] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,406] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,406] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:42:23,406] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,406] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,406] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,406] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,406] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,441] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,441] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:42:23,441] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,441] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,441] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,441] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,441] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,446] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,446] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:42:23,446] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,446] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,446] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,446] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,447] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,449] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,449] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:42:23,449] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,449] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,449] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,449] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,449] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,451] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,451] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:42:23,451] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,451] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,451] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,452] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,452] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,456] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,457] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:42:23,457] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,457] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,457] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,457] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,457] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,470] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,470] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:42:23,470] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,470] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,470] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,470] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,470] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,473] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,473] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:42:23,473] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,473] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,473] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,473] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,473] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,478] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,479] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:42:23,479] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,479] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,479] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,479] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,479] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,482] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,482] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:42:23,483] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,483] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,483] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,483] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,483] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,490] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,491] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:42:23,491] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,491] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,491] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,491] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,491] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,497] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,497] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:42:23,497] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,497] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,497] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,498] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,498] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,504] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,505] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:42:23,505] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:42:23,505] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,505] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,505] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,505] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,514] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,514] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:42:23,514] [DEBUG] [backtesting:337] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:42:23,514] [DEBUG] [backtesting:341] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:42:23,514] [DEBUG] [backtesting:345] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:42:23,514] [DEBUG] [backtesting:356] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2b81ace5-c1bd-4a67-8e3e-a7966672784b', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:42:23,515] [ERROR] [backtesting:539] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:42:23,515] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 04:42:23,515] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:53:37,479] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-17
[2025-08-20 04:53:37,480] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:53:37,480] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-17
[2025-08-20 04:53:37,636] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-17 for sh.603900

[2025-08-20 04:53:37,642] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:53:37,687] [INFO] [database:346] [conn:N/A] Successfully loaded 94 rows for sh.603900
[2025-08-20 04:53:37,700] [DEBUG] [backtesting:554] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:53:37,700] [DEBUG] [backtesting:554] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:53:37,700] [DEBUG] [backtesting:554] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:53:37,703] [DEBUG] [backtesting:554] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:53:37,703] [DEBUG] [backtesting:554] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:53:37,704] [DEBUG] [backtesting:554] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:53:37,704] [DEBUG] [backtesting:579] [conn:N/A] 注册策略调度处理器: a814820d-37a8-420e-bcfb-5bfc7a1268e7
[2025-08-20 04:53:37,704] [INFO] [backtesting:582] [conn:N/A] 策略注册成功 | ID: a814820d-37a8-420e-bcfb-5bfc7a1268e7 | 名称: 自定义规则策略
[2025-08-20 04:53:37,704] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:53:37,704] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:53:37,705] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 04:53:37,705] [INFO] [backtesting:629] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:53:37,705] [INFO] [backtesting:641] [conn:N/A] 策略初始化完成: a814820d-37a8-420e-bcfb-5bfc7a1268e7
[2025-08-20 04:53:37,705] [INFO] [backtesting:659] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:53:37,720] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,721] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:53:37,721] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,721] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,721] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,721] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,721] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,721] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,721] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,726] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,727] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:53:37,727] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,727] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,727] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,727] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,727] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,727] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,727] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,737] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,738] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:53:37,738] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,738] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,738] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,738] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,738] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,738] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,738] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,766] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,767] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:53:37,767] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,767] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,767] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,767] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,767] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,767] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,767] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,797] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,797] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:53:37,797] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,797] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,797] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,797] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,797] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,797] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,797] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,800] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,800] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:53:37,800] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,800] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,800] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,800] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,800] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,800] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,801] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,803] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,803] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:53:37,803] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,803] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,803] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,803] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,803] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,803] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,804] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,805] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,806] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:53:37,806] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,806] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,806] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,806] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,806] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,806] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,806] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,813] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,813] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:53:37,813] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,813] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,813] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,813] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,813] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,813] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,814] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,828] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,828] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:53:37,828] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,828] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,828] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,828] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,828] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,828] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,828] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,831] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,831] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:53:37,831] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,831] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,831] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,831] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,832] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,832] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,832] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,837] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,837] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:53:37,837] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,837] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,838] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,838] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,838] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,838] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,838] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,844] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,845] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:53:37,845] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,845] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,845] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,845] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,845] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,845] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,845] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,855] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,855] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:53:37,855] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,855] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,855] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,855] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,855] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,855] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,855] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,860] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,861] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:53:37,861] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,861] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,861] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,861] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,861] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,861] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,861] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,868] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,869] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:53:37,869] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,869] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,869] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:53:37,869] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,869] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,869] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,869] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,880] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,881] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:53:37,881] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,881] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:53:37,881] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:53:37,881] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:53:37,881] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:53:37,881] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='a814820d-37a8-420e-bcfb-5bfc7a1268e7', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:53:37,881] [ERROR] [backtesting:541] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:53:37,881] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 04:53:37,882] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:54:11,044] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-17
[2025-08-20 04:54:11,044] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:54:11,044] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-17
[2025-08-20 04:54:11,073] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-17 for sh.603900

[2025-08-20 04:54:11,081] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:54:11,118] [INFO] [database:346] [conn:N/A] Successfully loaded 94 rows for sh.603900
[2025-08-20 04:54:11,130] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:54:11,130] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:54:11,130] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:54:11,132] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:54:11,132] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:54:11,132] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:54:11,133] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: 4d1aba8d-287a-48f9-8f6f-8fa88de99ace
[2025-08-20 04:54:11,133] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: 4d1aba8d-287a-48f9-8f6f-8fa88de99ace | 名称: 自定义规则策略
[2025-08-20 04:54:11,133] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:54:11,133] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:54:11,134] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 04:54:11,134] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:54:11,134] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: 4d1aba8d-287a-48f9-8f6f-8fa88de99ace
[2025-08-20 04:54:11,134] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:54:11,149] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,150] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:54:11,150] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,150] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,150] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,150] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,150] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,150] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,150] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,153] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,156] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:54:11,160] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,160] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,160] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,160] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,161] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,161] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,161] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,180] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,180] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:54:11,180] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,180] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,180] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,181] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,181] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,181] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,181] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,186] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,186] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:54:11,186] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,187] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,187] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,187] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,187] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,187] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,187] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,212] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,212] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:54:11,212] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,212] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,212] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,212] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,212] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,212] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,212] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,216] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,216] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:54:11,216] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,216] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,216] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,216] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,216] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,216] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,216] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,218] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,218] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:54:11,218] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,218] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,218] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,219] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,219] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,219] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,219] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,221] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,221] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:54:11,221] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,221] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,221] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,221] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,221] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,222] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,222] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,229] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,230] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:54:11,230] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,230] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,230] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,230] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,230] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,230] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,230] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,244] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,244] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:54:11,244] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,244] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,244] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,244] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,244] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,244] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,244] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,247] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,247] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:54:11,247] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,247] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,247] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,247] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,247] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,247] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,247] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,252] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,252] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:54:11,252] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,252] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,252] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,252] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,252] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,252] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,252] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,256] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,256] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:54:11,256] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,256] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,256] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,256] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,257] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,257] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,257] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,267] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,267] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:54:11,267] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,267] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,267] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,267] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,267] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,267] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,267] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,270] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,270] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:54:11,270] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,270] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,270] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,270] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,270] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,270] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,270] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,280] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,281] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:54:11,281] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,281] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,281] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:54:11,281] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,281] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,281] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,281] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,290] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,291] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:54:11,291] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,291] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:54:11,291] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:54:11,291] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:54:11,291] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:54:11,291] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4d1aba8d-287a-48f9-8f6f-8fa88de99ace', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:54:11,291] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:54:11,291] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 04:54:11,293] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:57:58,866] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-17
[2025-08-20 04:57:58,867] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:57:58,867] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-17
[2025-08-20 04:57:58,902] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-17 for sh.603900

[2025-08-20 04:57:58,914] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:57:58,950] [INFO] [database:346] [conn:N/A] Successfully loaded 94 rows for sh.603900
[2025-08-20 04:57:58,962] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:57:58,962] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:57:58,962] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:57:58,964] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:57:58,964] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:57:58,965] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:57:58,965] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: 22aa605c-c030-4542-93f5-df6eff7cefe4
[2025-08-20 04:57:58,965] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: 22aa605c-c030-4542-93f5-df6eff7cefe4 | 名称: 自定义规则策略
[2025-08-20 04:57:58,965] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:57:58,965] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:57:58,967] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 04:57:58,967] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:57:58,967] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: 22aa605c-c030-4542-93f5-df6eff7cefe4
[2025-08-20 04:57:58,967] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:57:59,000] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,000] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:57:59,000] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,000] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,004] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,004] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,005] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,005] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,005] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,011] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,012] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:57:59,012] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,012] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,012] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,012] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,012] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,012] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,012] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,027] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,027] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:57:59,027] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,027] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,027] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,027] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,027] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,027] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,027] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,034] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,034] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:57:59,034] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,034] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,034] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,034] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,034] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,034] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,034] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,064] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,064] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:57:59,064] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,064] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,064] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,064] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,065] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,065] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,065] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,068] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,068] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:57:59,068] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,068] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,068] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,068] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,068] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,069] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,069] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,072] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,072] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:57:59,072] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,072] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,072] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,072] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,073] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,073] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,073] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,077] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,078] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:57:59,078] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,078] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,078] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,078] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,078] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,078] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,078] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,085] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,086] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:57:59,086] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,086] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,086] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,086] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,086] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,086] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,086] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,102] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,102] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:57:59,102] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,102] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,102] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,102] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,102] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,102] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,102] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,105] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,105] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:57:59,105] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,105] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,105] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,105] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,105] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,105] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,105] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,112] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,112] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:57:59,112] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,112] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,112] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,112] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,112] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,112] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,112] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,117] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,117] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:57:59,117] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,117] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,117] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,117] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,117] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,117] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,117] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,128] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,128] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:57:59,129] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,129] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,129] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,129] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,129] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,129] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,129] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,131] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,132] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:57:59,132] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,132] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,132] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,132] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,132] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,132] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,132] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,141] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,141] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:57:59,141] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,141] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,141] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:57:59,141] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,141] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,141] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,142] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,150] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,151] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:57:59,151] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,151] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:57:59,151] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:57:59,151] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:57:59,151] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:57:59,151] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='22aa605c-c030-4542-93f5-df6eff7cefe4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:57:59,151] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:57:59,151] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 04:57:59,152] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 04:58:56,252] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-17
[2025-08-20 04:58:56,252] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 04:58:56,252] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-17
[2025-08-20 04:58:56,410] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-17 for sh.603900

[2025-08-20 04:58:56,418] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 04:58:56,458] [INFO] [database:346] [conn:N/A] Successfully loaded 94 rows for sh.603900
[2025-08-20 04:58:56,470] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:58:56,470] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 04:58:56,470] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 04:58:56,474] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:58:56,475] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 04:58:56,476] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 04:58:56,476] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: 56d21884-1d21-4fae-bf49-958bafa797c4
[2025-08-20 04:58:56,476] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: 56d21884-1d21-4fae-bf49-958bafa797c4 | 名称: 自定义规则策略
[2025-08-20 04:58:56,476] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 04:58:56,477] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 04:58:56,478] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 04:58:56,479] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 04:58:56,479] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: 56d21884-1d21-4fae-bf49-958bafa797c4
[2025-08-20 04:58:56,479] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 04:58:56,496] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,497] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 04:58:56,497] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,497] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,497] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,497] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,497] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,497] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,497] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,500] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,501] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 04:58:56,501] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,501] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,501] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,501] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,501] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,501] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,501] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,519] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,519] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 04:58:56,519] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,520] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,520] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,520] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,520] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,520] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,520] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,554] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,554] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 04:58:56,554] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,554] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,554] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,554] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,554] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,555] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,555] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,596] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,596] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 04:58:56,596] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,597] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,597] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,597] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,597] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,597] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,597] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,601] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,601] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 04:58:56,601] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,601] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,601] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,601] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,601] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,601] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,601] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,604] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,605] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 04:58:56,605] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,605] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,605] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,605] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,605] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,605] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,605] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,612] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,613] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 04:58:56,613] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,613] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,613] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,613] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,613] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,613] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,613] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,621] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,621] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 04:58:56,622] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,622] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,622] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,622] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,622] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,622] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,622] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,642] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,642] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 04:58:56,642] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,643] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,643] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,643] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,643] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,643] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,643] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,646] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,646] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 04:58:56,646] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,646] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,646] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,646] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,647] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,647] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,647] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,654] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,654] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 04:58:56,654] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,654] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,654] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,655] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,655] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,655] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,655] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,662] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,663] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 04:58:56,663] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,663] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,663] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,663] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,663] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,663] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,663] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,677] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,678] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 04:58:56,678] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,678] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,678] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,678] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,678] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,678] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,678] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,681] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,682] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 04:58:56,682] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,682] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,682] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,682] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,682] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,682] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,682] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,694] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,694] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 04:58:56,694] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,694] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,694] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 04:58:56,694] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,694] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,694] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,694] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,712] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,713] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 04:58:56,713] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,713] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 04:58:56,713] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 04:58:56,713] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 04:58:56,713] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 04:58:56,713] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='56d21884-1d21-4fae-bf49-958bafa797c4', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 04:58:56,713] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 04:58:56,713] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 04:58:56,714] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 05:00:49,777] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-17
[2025-08-20 05:00:49,778] [DEBUG] [database:213] [conn:N/A] 异步检查数据完整性
[2025-08-20 05:00:49,778] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-17
[2025-08-20 05:00:49,825] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-17 for sh.603900

[2025-08-20 05:00:49,836] [INFO] [database:270] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 05:00:49,873] [INFO] [database:346] [conn:N/A] Successfully loaded 94 rows for sh.603900
[2025-08-20 05:00:49,884] [DEBUG] [backtesting:561] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 05:00:49,885] [DEBUG] [backtesting:561] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 05:00:49,885] [DEBUG] [backtesting:561] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 05:00:49,887] [DEBUG] [backtesting:561] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 05:00:49,887] [DEBUG] [backtesting:561] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 05:00:49,888] [DEBUG] [backtesting:561] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 05:00:49,888] [DEBUG] [backtesting:586] [conn:N/A] 注册策略调度处理器: 7c2c7a18-5899-4487-9fc6-dba43e06a03f
[2025-08-20 05:00:49,888] [INFO] [backtesting:589] [conn:N/A] 策略注册成功 | ID: 7c2c7a18-5899-4487-9fc6-dba43e06a03f | 名称: 自定义规则策略
[2025-08-20 05:00:49,888] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 05:00:49,888] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 05:00:49,889] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 05:00:49,889] [INFO] [backtesting:636] [conn:N/A] 回测系统初始化开始
[2025-08-20 05:00:49,889] [INFO] [backtesting:648] [conn:N/A] 策略初始化完成: 7c2c7a18-5899-4487-9fc6-dba43e06a03f
[2025-08-20 05:00:49,890] [INFO] [backtesting:666] [conn:N/A] 回测系统初始化完成
[2025-08-20 05:00:49,901] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:49,902] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 05:00:49,902] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,902] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,902] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:49,902] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 05:00:49,902] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:49,902] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:49,902] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:49,902] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,902] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,902] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:49,902] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: SELL 970@10.3
[2025-08-20 05:00:49,902] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:49,903] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:49,903] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=10.30, 数量=970
[2025-08-20 05:00:49,903] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:49,903] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 4, 11, 0, 0))
[2025-08-20 05:00:49,903] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,903] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,903] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,903] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,904] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:49,904] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,904] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:49,904] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:49,904] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:49,904] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,904] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:49,904] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,904] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:49,904] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:49,904] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 05:00:49,904] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:49,904] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: SELL 970@10.3
[2025-08-20 05:00:49,904] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: SELL 970@10.3
[2025-08-20 05:00:49,907] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:49,907] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 05:00:49,907] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,907] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,907] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:49,907] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90006.00)
[2025-08-20 05:00:49,907] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:49,907] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:49,907] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:49,907] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,908] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,908] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:49,908] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: BUY 970@10.3
[2025-08-20 05:00:49,908] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:49,908] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:49,908] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=10.30, 数量=970
[2025-08-20 05:00:49,908] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:49,908] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-20 05:00:49,908] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,908] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,908] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,908] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,908] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:49,908] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,909] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:49,909] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:49,909] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:49,909] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,909] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:49,909] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,909] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:49,909] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:49,909] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: 90006.0027 (type: <class 'float'>)
[2025-08-20 05:00:49,909] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:49,909] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: BUY 970@10.3
[2025-08-20 05:00:49,909] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: BUY 970@10.3
[2025-08-20 05:00:49,922] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:49,922] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80012.01)
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: SELL 970@10.3
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_2, 成交价=10.30, 数量=970
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_2', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 4, 24, 0, 0))
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,923] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: 80012.0054 (type: <class 'float'>)
[2025-08-20 05:00:49,924] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: SELL 970@10.3
[2025-08-20 05:00:49,924] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: SELL 970@10.3
[2025-08-20 05:00:49,938] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:49,939] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 05:00:49,939] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,939] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,939] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:49,939] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70018.01)
[2025-08-20 05:00:49,939] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:49,939] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:49,939] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:49,939] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,939] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,939] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:49,939] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: BUY 970@10.3
[2025-08-20 05:00:49,939] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:49,939] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_3, 成交价=10.30, 数量=970
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_3', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 5, 6, 0, 0))
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: 70018.00809999999 (type: <class 'float'>)
[2025-08-20 05:00:49,940] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: BUY 970@10.3
[2025-08-20 05:00:49,940] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: BUY 970@10.3
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 60024.01)
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: SELL 970@10.3
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_4, 成交价=10.30, 数量=970
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_4', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-20 05:00:49,966] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: 60024.01079999999 (type: <class 'float'>)
[2025-08-20 05:00:49,967] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: SELL 970@10.3
[2025-08-20 05:00:49,967] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: SELL 970@10.3
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50030.01)
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: BUY 970@10.3
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_5, 成交价=10.30, 数量=970
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:49,971] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_5', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 6, 9, 0, 0))
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: 50030.01349999999 (type: <class 'float'>)
[2025-08-20 05:00:49,972] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: BUY 970@10.3
[2025-08-20 05:00:49,972] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: BUY 970@10.3
[2025-08-20 05:00:49,975] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:49,975] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 05:00:49,975] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,975] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,975] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:49,975] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 40036.02)
[2025-08-20 05:00:49,975] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:49,975] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:49,975] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: SELL 970@10.3
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_6, 成交价=10.30, 数量=970
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_6', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 6, 11, 0, 0))
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: 40036.016199999984 (type: <class 'float'>)
[2025-08-20 05:00:49,976] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: SELL 970@10.3
[2025-08-20 05:00:49,976] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: SELL 970@10.3
[2025-08-20 05:00:49,979] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 30042.02)
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: BUY 970@10.3
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_7, 成交价=10.30, 数量=970
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_7', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 6, 13, 0, 0))
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:49,980] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:49,981] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:49,981] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:49,981] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,981] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:49,981] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:49,981] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:49,981] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:49,981] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: 30042.01889999998 (type: <class 'float'>)
[2025-08-20 05:00:49,981] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:49,981] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: BUY 970@10.3
[2025-08-20 05:00:49,981] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: BUY 970@10.3
[2025-08-20 05:00:49,991] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:49,992] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 05:00:49,992] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,992] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:49,992] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:49,992] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 20048.02)
[2025-08-20 05:00:49,992] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:49,992] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:49,992] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:49,993] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:49,993] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,028] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:50,029] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: SELL 970@10.3
[2025-08-20 05:00:50,029] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:50,029] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:50,029] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_8, 成交价=10.30, 数量=970
[2025-08-20 05:00:50,029] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:50,029] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_8', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 6, 19, 0, 0))
[2025-08-20 05:00:50,029] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,037] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,037] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,037] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,037] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:50,037] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,037] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:50,038] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:50,038] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:50,038] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,038] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:50,038] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,038] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:50,038] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:50,038] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: 20048.02159999998 (type: <class 'float'>)
[2025-08-20 05:00:50,038] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:50,038] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: SELL 970@10.3
[2025-08-20 05:00:50,039] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: SELL 970@10.3
[2025-08-20 05:00:50,065] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:50,065] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 05:00:50,065] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,065] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,065] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:50,065] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 10054.02)
[2025-08-20 05:00:50,065] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:50,065] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:50,065] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:50,065] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,065] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: BUY 970@10.3
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_9, 成交价=10.30, 数量=970
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_9', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 7, 3, 0, 0))
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: 10054.024299999977 (type: <class 'float'>)
[2025-08-20 05:00:50,066] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: BUY 970@10.3
[2025-08-20 05:00:50,066] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: BUY 970@10.3
[2025-08-20 05:00:50,070] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:50,070] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 05:00:50,070] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,070] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,070] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:50,070] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 60.03)
[2025-08-20 05:00:50,070] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: SELL 970@10.3
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_10, 成交价=10.30, 数量=970
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_10', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 7, 7, 0, 0))
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: 60.0269999999764 (type: <class 'float'>)
[2025-08-20 05:00:50,071] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:50,071] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: SELL 970@10.3
[2025-08-20 05:00:50,072] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: SELL 970@10.3
[2025-08-20 05:00:50,077] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: -9933.97)
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: BUY 970@10.3
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_11, 成交价=10.30, 数量=970
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_11', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 7, 11, 0, 0))
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,078] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: -9933.970300000025 (type: <class 'float'>)
[2025-08-20 05:00:50,079] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: BUY 970@10.3
[2025-08-20 05:00:50,079] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: BUY 970@10.3
[2025-08-20 05:00:50,084] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:50,085] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 05:00:50,085] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,085] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,085] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:50,085] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: -19927.97)
[2025-08-20 05:00:50,085] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:50,085] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:50,085] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:50,085] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,086] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,086] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:50,086] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: SELL 970@10.3
[2025-08-20 05:00:50,086] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:50,086] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:50,086] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_12, 成交价=10.30, 数量=970
[2025-08-20 05:00:50,086] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:50,086] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_12', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 7, 16, 0, 0))
[2025-08-20 05:00:50,086] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,086] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: -19927.967600000025 (type: <class 'float'>)
[2025-08-20 05:00:50,087] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: SELL 970@10.3
[2025-08-20 05:00:50,087] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: SELL 970@10.3
[2025-08-20 05:00:50,099] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:50,099] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 05:00:50,099] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,099] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,099] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:50,099] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: -29921.96)
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: BUY 970@10.3
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_13, 成交价=10.30, 数量=970
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_13', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 7, 25, 0, 0))
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,100] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:50,101] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,101] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:50,101] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:50,101] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: -29921.964900000028 (type: <class 'float'>)
[2025-08-20 05:00:50,101] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:50,101] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: BUY 970@10.3
[2025-08-20 05:00:50,101] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: BUY 970@10.3
[2025-08-20 05:00:50,104] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:50,104] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: -39915.96)
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: SELL 970@10.3
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_14, 成交价=10.30, 数量=970
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_14', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 7, 29, 0, 0))
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:50,105] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,106] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:50,106] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:50,106] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:50,106] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,106] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:50,106] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,106] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:50,106] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:50,106] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: -39915.96220000003 (type: <class 'float'>)
[2025-08-20 05:00:50,106] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:50,106] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: SELL 970@10.3
[2025-08-20 05:00:50,106] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: SELL 970@10.3
[2025-08-20 05:00:50,114] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:50,114] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 05:00:50,114] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,114] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,114] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.3
[2025-08-20 05:00:50,114] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: -49909.96)
[2025-08-20 05:00:50,114] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:50,114] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='BUY', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:50,114] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:50,114] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,114] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,114] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:50,114] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: BUY 970@10.3
[2025-08-20 05:00:50,114] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_15, 成交价=10.30, 数量=970
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_15', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 8, 6, 0, 0))
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: -49909.95950000003 (type: <class 'float'>)
[2025-08-20 05:00:50,115] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: BUY 970@10.3
[2025-08-20 05:00:50,115] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: BUY 970@10.3
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.3
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: -59903.96)
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='7c2c7a18-5899-4487-9fc6-dba43e06a03f', symbol='sh.603900', direction='SELL', price=10.3, quantity=970, order_type='LIMIT', order_id='')
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:368] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:381] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:382] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:384] [conn:N/A] 开始处理回测订单: SELL 970@10.3
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:391] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:392] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:413] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_16, 成交价=10.30, 数量=970
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:416] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 05:00:50,128] [DEBUG] [backtesting:734] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_16', symbol='sh.603900', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 8, 15, 0, 0))
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 970
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.3
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 970.0
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.9972999999999996
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:753] [conn:N/A] [DEBUG] fill_price: 10.3 (type: <class 'float'>)
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] fill_quantity: 970.0 (type: <class 'float'>)
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] fill_amount 计算结果: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:760] [conn:N/A] [DEBUG] fill_amount: 9991.0 (type: <class 'float'>)
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:761] [conn:N/A] [DEBUG] commission: 2.9972999999999996 (type: <class 'float'>)
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:764] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:772] [conn:N/A] [DEBUG] 交易前资金: -59903.956800000036 (type: <class 'float'>)
[2025-08-20 05:00:50,129] [INFO] [backtesting:821] [conn:N/A] 成交回报处理完成: BUY 970@10.3, 手续费: 3.00
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:418] [conn:N/A] 回测订单执行成功: SELL 970@10.3
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:370] [conn:N/A] 订单处理完成: SELL 970@10.3
[2025-08-20 05:00:50,129] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 05:00:50,130] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 10:50:01,141] [DEBUG] [database:27] [conn:N/A] DatabaseManager initialized, instance_id: 5688401008
[2025-08-20 10:50:01,397] [DEBUG] [database:86] [conn:N/A] 连接池初始化成功, 循环ID: 4418990624
[2025-08-20 10:50:01,397] [INFO] [database:94] [conn:N/A] 开始数据库表结构初始化...
[2025-08-20 10:50:01,467] [DEBUG] [database:166] [conn:5682201120] 数据库表结构初始化完成
[2025-08-20 10:50:01,468] [DEBUG] [database:170] [conn:N/A] 当前循环活跃状态: True
[2025-08-20 10:50:01,468] [DEBUG] [database:61] [conn:N/A] initialize调用结束，总耗时: 0.33s
[2025-08-20 10:51:47,638] [DEBUG] [database:378] [conn:N/A] 检查数据是否最新
[2025-08-20 10:51:47,639] [DEBUG] [database:406] [conn:N/A] 检查StockInfo表状态(尝试1/3)
[2025-08-20 10:51:47,641] [DEBUG] [database:407] [conn:5690546496] 当前活跃连接数: 1
[2025-08-20 10:51:47,755] [WARNING] [database:433] [conn:N/A] StockInfo表为空
[2025-08-20 10:51:48,264] [DEBUG] [database:501] [conn:N/A] Truncating StockInfo table
[2025-08-20 10:51:48,284] [DEBUG] [database:505] [conn:N/A] Inserting 0 rows into StockInfo
[2025-08-20 10:51:48,307] [INFO] [database:511] [conn:N/A] 成功更新StockInfo表数据，成功插入0行，失败0行
[2025-08-20 10:52:04,403] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-20
[2025-08-20 10:52:04,403] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 10:52:04,403] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-20
[2025-08-20 10:52:04,445] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-20 for sh.603900

[2025-08-20 10:52:04,454] [INFO] [database:269] [conn:N/A] Found 1 missing data ranges for sh.603900
[2025-08-20 10:52:04,466] [INFO] [database:299] [conn:N/A] missing_ranges [(datetime.date(2025, 8, 19), datetime.date(2025, 8, 19))]
[2025-08-20 10:52:04,466] [INFO] [database:300] [conn:N/A] Fetching missing data ranges for sh.603900
[2025-08-20 10:52:04,466] [INFO] [database:305] [conn:N/A] Fetching data from 2025-08-19 to 2025-08-19
[2025-08-20 10:52:04,623] [ERROR] [database:349] [conn:N/A] Failed to load stock data: 未获取到数据, symbol: sh.603900, start_date:2025-08-19, end_date:2025-08-19, frequency: d
[2025-08-20 10:52:16,833] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 10:52:16,833] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 10:52:16,834] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 10:52:16,854] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 10:52:16,860] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 10:52:16,902] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 10:52:16,914] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 10:52:16,914] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 10:52:16,914] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 10:52:16,926] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 10:52:16,926] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 10:52:16,927] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 10:52:16,927] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: 5f5801b1-5802-4275-b2bb-65ba275abdab
[2025-08-20 10:52:16,927] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: 5f5801b1-5802-4275-b2bb-65ba275abdab | 名称: 自定义规则策略
[2025-08-20 10:52:16,927] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 10:52:16,927] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 10:52:16,928] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 10:52:16,928] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 10:52:16,928] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: 5f5801b1-5802-4275-b2bb-65ba275abdab
[2025-08-20 10:52:16,928] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 10:52:16,943] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:16,943] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 10:52:16,943] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:16,943] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:16,943] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:16,943] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:16,943] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:16,943] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:16,943] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:16,945] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:16,946] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 10:52:16,946] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:16,946] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:16,946] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:16,946] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:16,946] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:16,946] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:16,946] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:16,957] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:16,958] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 10:52:16,958] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:16,958] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:16,958] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:16,958] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:16,958] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:16,958] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:16,958] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:16,966] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:16,967] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 10:52:16,967] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:16,967] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:16,967] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:16,967] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:16,967] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:16,967] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:16,967] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:17,003] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:17,003] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 10:52:17,003] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,003] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,003] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:17,003] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:17,003] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:17,003] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:17,003] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:17,006] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:17,006] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 10:52:17,006] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,006] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,007] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:17,007] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:17,007] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:17,007] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:17,007] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:17,009] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:17,009] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 10:52:17,009] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,009] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,009] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:17,009] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:17,009] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:17,009] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:17,009] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:17,011] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:17,011] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 10:52:17,012] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,012] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,012] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:17,012] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:17,012] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:17,012] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:17,012] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:17,017] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:17,017] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 10:52:17,017] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,017] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,017] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:17,017] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:17,017] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:17,017] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:17,017] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:17,028] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:17,028] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 10:52:17,028] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,028] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,028] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:17,028] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:17,028] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:17,028] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:17,028] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:17,031] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:17,031] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 10:52:17,031] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,031] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,031] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:17,031] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:17,031] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:17,031] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:17,031] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:17,036] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:17,036] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 10:52:17,036] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,036] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,036] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:17,036] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:17,036] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:17,036] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:17,036] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:17,039] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:17,040] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 10:52:17,040] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,040] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,040] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:17,040] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:17,040] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:17,040] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:17,040] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:17,048] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:17,049] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 10:52:17,049] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,049] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,049] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:17,049] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:17,049] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:17,049] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:17,049] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:17,051] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:17,051] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 10:52:17,051] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,051] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,051] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:17,051] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:17,051] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:17,051] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:17,051] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:17,057] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:17,057] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 10:52:17,057] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,057] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,057] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 10:52:17,057] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:17,057] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:17,057] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:17,057] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:17,065] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:17,065] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 10:52:17,065] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,065] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 10:52:17,065] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 10:52:17,065] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 10:52:17,065] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 10:52:17,065] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='5f5801b1-5802-4275-b2bb-65ba275abdab', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 10:52:17,065] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 10:52:17,066] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 10:52:17,067] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 11:00:45,694] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:00:45,694] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 11:00:45,694] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:00:45,842] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 11:00:45,853] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 11:00:45,900] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 11:00:45,913] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:00:45,913] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 11:00:45,913] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 11:00:45,918] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:00:45,918] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:00:45,920] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:00:45,920] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: 9d4cad26-0fac-4126-92e2-e8ad93144e27
[2025-08-20 11:00:45,920] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: 9d4cad26-0fac-4126-92e2-e8ad93144e27 | 名称: 自定义规则策略
[2025-08-20 11:00:45,921] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 11:00:45,921] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 11:00:45,923] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 11:00:45,923] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 11:00:45,923] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: 9d4cad26-0fac-4126-92e2-e8ad93144e27
[2025-08-20 11:00:45,923] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 11:00:45,936] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:45,936] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 11:00:45,936] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,936] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,937] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:45,937] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:45,937] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:45,937] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:45,937] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:45,939] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:45,939] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 11:00:45,939] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,939] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,939] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:45,939] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:45,939] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:45,939] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:45,939] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:45,948] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:45,948] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 11:00:45,948] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,949] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,949] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:45,949] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:45,949] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:45,949] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:45,949] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:45,965] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:45,966] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 11:00:45,966] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,966] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,966] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:45,966] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:45,966] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:45,969] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:45,969] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:45,991] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:45,992] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 11:00:45,992] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,992] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,992] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:45,992] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:45,992] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:45,992] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:45,992] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:45,995] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:45,995] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 11:00:45,995] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,995] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,995] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:45,995] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:45,995] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:45,995] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:45,995] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:45,997] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:45,998] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 11:00:45,998] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,998] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,998] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:45,998] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:45,998] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:45,998] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:45,998] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:45,999] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:45,999] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 11:00:45,999] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:45,999] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,000] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:46,000] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:46,000] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:46,000] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:46,000] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:46,003] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:46,004] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 11:00:46,004] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,004] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,004] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:46,004] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:46,004] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:46,004] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:46,004] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:46,014] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:46,014] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 11:00:46,014] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,014] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,014] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:46,014] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:46,014] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:46,014] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:46,015] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:46,017] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:46,017] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 11:00:46,017] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,017] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,017] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:46,017] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:46,017] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:46,017] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:46,017] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:46,021] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:46,021] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 11:00:46,021] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,021] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,021] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:46,021] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:46,021] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:46,021] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:46,021] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:46,024] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:46,024] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 11:00:46,024] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,024] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,024] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:46,024] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:46,024] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:46,024] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:46,024] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:46,032] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:46,032] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 11:00:46,032] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,032] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,032] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:46,032] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:46,032] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:46,032] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:46,032] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:46,034] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:46,034] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 11:00:46,034] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,034] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,034] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:46,034] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:46,034] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:46,034] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:46,034] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:46,040] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:46,040] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 11:00:46,040] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,040] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,040] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:00:46,040] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:46,040] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:46,040] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:46,040] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:46,050] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:46,051] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 11:00:46,051] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,051] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:00:46,051] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:00:46,051] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:00:46,051] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:00:46,051] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9d4cad26-0fac-4126-92e2-e8ad93144e27', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:00:46,051] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:00:46,052] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 11:00:46,052] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 11:03:43,636] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:03:43,636] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 11:03:43,636] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:03:43,681] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 11:03:43,687] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 11:03:43,733] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 11:03:43,746] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:03:43,747] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 11:03:43,747] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 11:03:43,754] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:03:43,754] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:03:43,755] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:03:43,755] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: 0aee8a71-ad77-41c2-a464-79cdd8a3b51e
[2025-08-20 11:03:43,755] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: 0aee8a71-ad77-41c2-a464-79cdd8a3b51e | 名称: 自定义规则策略
[2025-08-20 11:03:43,755] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 11:03:43,756] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 11:03:43,756] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 11:03:43,756] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 11:03:43,756] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: 0aee8a71-ad77-41c2-a464-79cdd8a3b51e
[2025-08-20 11:03:43,757] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 11:03:43,766] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,766] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 11:03:43,766] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,766] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,766] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,766] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,766] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,766] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,766] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,768] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,769] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 11:03:43,769] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,769] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,769] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,769] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,769] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,769] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,770] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,791] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,792] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 11:03:43,792] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,792] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,792] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,792] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,792] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,792] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,792] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,796] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,797] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 11:03:43,797] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,797] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,797] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,797] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,797] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,797] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,797] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,817] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,817] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 11:03:43,817] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,817] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,817] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,817] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,817] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,818] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,818] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,822] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,822] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 11:03:43,822] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,823] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,823] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,823] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,823] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,823] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,823] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,825] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,825] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 11:03:43,825] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,825] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,825] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,825] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,825] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,825] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,825] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,827] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,827] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 11:03:43,827] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,827] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,827] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,827] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,827] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,827] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,827] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,832] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,832] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 11:03:43,832] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,832] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,832] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,832] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,832] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,832] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,832] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,843] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,843] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 11:03:43,843] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,843] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,843] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,843] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,843] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,843] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,843] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,845] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,845] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 11:03:43,845] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,845] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,845] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,845] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,845] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,845] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,845] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,849] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,849] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 11:03:43,849] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,849] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,849] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,849] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,849] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,849] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,849] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,854] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,855] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 11:03:43,855] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,855] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,855] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,855] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,855] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,855] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,855] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,862] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,863] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 11:03:43,863] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,863] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,863] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,863] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,863] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,863] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,863] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,865] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,865] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 11:03:43,865] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,865] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,865] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,865] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,865] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,865] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,865] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,872] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,872] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 11:03:43,872] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,872] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,872] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:03:43,872] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,872] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,873] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,873] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,879] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,880] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 11:03:43,880] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,880] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:03:43,880] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:03:43,880] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:03:43,880] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:03:43,880] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0aee8a71-ad77-41c2-a464-79cdd8a3b51e', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:03:43,880] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:03:43,881] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 11:03:43,881] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 11:04:22,620] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:04:22,621] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 11:04:22,621] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:04:22,690] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 11:04:22,699] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 11:04:22,734] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 11:04:22,747] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:04:22,748] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 11:04:22,748] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 11:04:22,751] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:04:22,751] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:04:22,752] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:04:22,753] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: 2852ed07-0482-4c68-9e12-7990c453e507
[2025-08-20 11:04:22,753] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: 2852ed07-0482-4c68-9e12-7990c453e507 | 名称: 自定义规则策略
[2025-08-20 11:04:22,754] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 11:04:22,754] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 11:04:22,755] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 11:04:22,755] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 11:04:22,755] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: 2852ed07-0482-4c68-9e12-7990c453e507
[2025-08-20 11:04:22,755] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 11:04:22,764] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,765] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 11:04:22,765] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,765] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,765] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,765] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,765] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,765] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,765] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,767] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,768] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 11:04:22,768] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,768] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,768] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,768] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,768] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,768] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,768] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,788] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,789] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 11:04:22,789] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,789] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,789] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,789] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,789] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,789] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,789] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,794] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,794] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 11:04:22,794] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,794] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,794] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,794] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,794] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,794] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,794] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,814] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,815] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 11:04:22,815] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,815] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,815] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,815] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,815] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,815] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,815] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,818] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,818] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 11:04:22,818] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,818] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,818] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,818] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,818] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,818] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,818] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,822] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,822] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 11:04:22,822] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,822] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,822] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,822] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,823] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,823] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,823] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,825] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,825] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 11:04:22,825] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,825] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,825] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,825] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,825] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,825] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,825] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,829] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,829] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 11:04:22,829] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,829] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,829] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,829] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,829] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,829] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,829] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,840] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,840] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 11:04:22,840] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,840] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,840] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,840] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,840] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,840] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,840] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,842] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,842] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 11:04:22,842] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,842] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,842] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,842] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,842] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,842] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,842] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,846] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,846] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 11:04:22,847] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,847] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,847] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,847] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,847] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,847] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,847] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,850] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,850] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 11:04:22,850] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,850] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,850] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,850] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,850] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,850] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,850] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,858] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,858] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 11:04:22,858] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,858] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,858] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,858] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,858] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,858] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,858] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,860] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,860] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 11:04:22,860] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,860] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,860] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,860] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,860] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,860] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,861] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,867] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,867] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 11:04:22,867] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,867] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,867] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:04:22,867] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,867] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,867] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,867] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,875] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,875] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 11:04:22,875] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,875] [DEBUG] [backtesting:338] [conn:N/A] [DEBUG] price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:04:22,875] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:04:22,875] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:04:22,875] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:04:22,875] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='2852ed07-0482-4c68-9e12-7990c453e507', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:04:22,875] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:04:22,876] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 11:04:22,876] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 11:08:21,142] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:08:21,142] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 11:08:21,142] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:08:21,236] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 11:08:21,251] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 11:08:21,296] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 11:08:21,309] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:08:21,310] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 11:08:21,310] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 11:08:21,315] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:08:21,315] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:08:21,317] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:08:21,317] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: 8d8131d7-fe8d-4d25-9b2b-a08dcfee8807
[2025-08-20 11:08:21,317] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: 8d8131d7-fe8d-4d25-9b2b-a08dcfee8807 | 名称: 自定义规则策略
[2025-08-20 11:08:21,317] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 11:08:21,318] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 11:08:21,322] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 11:08:21,322] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 11:08:21,322] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: 8d8131d7-fe8d-4d25-9b2b-a08dcfee8807
[2025-08-20 11:08:21,322] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 11:08:21,333] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,333] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 11:08:21,333] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,333] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,333] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,334] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,334] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,334] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,334] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,336] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,337] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 11:08:21,337] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,337] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,338] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,338] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,338] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,338] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,338] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,357] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,358] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 11:08:21,358] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,358] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,358] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,358] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,358] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,358] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,358] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,363] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,363] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 11:08:21,363] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,363] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,363] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,363] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,363] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,363] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,363] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,384] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,385] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 11:08:21,385] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,385] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,385] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,385] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,385] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,385] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,385] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,388] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,389] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 11:08:21,389] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,389] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,389] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,389] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,389] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,389] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,389] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,391] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,391] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 11:08:21,391] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,391] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,391] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,391] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,391] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,391] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,391] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,393] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,393] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 11:08:21,393] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,393] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,393] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,393] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,393] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,393] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,393] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,398] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,398] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 11:08:21,398] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,398] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,398] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,398] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,398] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,398] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,398] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,410] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,410] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 11:08:21,410] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,410] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,410] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,410] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,410] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,410] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,410] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,412] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,412] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 11:08:21,412] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,412] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,412] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,412] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,412] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,412] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,412] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,416] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,416] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 11:08:21,416] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,416] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,416] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,416] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,416] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,416] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,416] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,420] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,420] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 11:08:21,420] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,420] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,420] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,420] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,420] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,420] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,420] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,427] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,427] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 11:08:21,427] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,427] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,427] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,427] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,427] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,427] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,427] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,430] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,430] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 11:08:21,430] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,430] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,430] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,430] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,430] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,430] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,430] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,436] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,436] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 11:08:21,437] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,437] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:08:21,437] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,437] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,437] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,437] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,437] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,443] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,444] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 11:08:21,444] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:08:21,444] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:08:21,444] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:08:21,444] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:08:21,444] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='8d8131d7-fe8d-4d25-9b2b-a08dcfee8807', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:08:21,444] [DEBUG] [risk_manager:21] [conn:N/A] 需求资金：10002.15216
[2025-08-20 11:08:21,444] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:08:21,445] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 11:08:21,445] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 11:09:20,153] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:09:20,153] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 11:09:20,153] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:09:20,184] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 11:09:20,197] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 11:09:20,240] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 11:09:20,254] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:09:20,255] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 11:09:20,255] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 11:09:20,258] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:09:20,258] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:09:20,259] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:09:20,259] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: 4f478bf5-a823-424a-80af-a9438fdc6969
[2025-08-20 11:09:20,259] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: 4f478bf5-a823-424a-80af-a9438fdc6969 | 名称: 自定义规则策略
[2025-08-20 11:09:20,259] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 11:09:20,260] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 11:09:20,261] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 11:09:20,261] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 11:09:20,261] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: 4f478bf5-a823-424a-80af-a9438fdc6969
[2025-08-20 11:09:20,261] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 11:09:20,270] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,271] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 11:09:20,271] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,271] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,271] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,271] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,271] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,271] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,273] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,274] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 11:09:20,274] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,274] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,274] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,274] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,274] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,274] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,281] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,282] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 11:09:20,282] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,282] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,282] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,282] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,282] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,282] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,288] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,289] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 11:09:20,289] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,289] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,289] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,289] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,289] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,289] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,309] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,309] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 11:09:20,309] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,309] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,309] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,309] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,309] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,309] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,312] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,312] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 11:09:20,312] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,312] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,312] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,312] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,312] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,312] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,314] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,315] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 11:09:20,315] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,315] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,315] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,315] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,315] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,315] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,317] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,317] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 11:09:20,317] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,317] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,317] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,317] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,317] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,317] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,323] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,323] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 11:09:20,323] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,323] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,323] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,323] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,323] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,323] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,332] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,332] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 11:09:20,332] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,332] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,332] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,332] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,332] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,333] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,335] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,335] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 11:09:20,335] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,335] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,335] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,335] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,335] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,335] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,339] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,339] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 11:09:20,339] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,340] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,340] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,340] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,340] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,340] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,343] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,343] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 11:09:20,343] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,343] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,343] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,343] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,343] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,343] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,350] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,350] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 11:09:20,350] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,350] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,350] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,350] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,350] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,350] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,352] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,353] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 11:09:20,353] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,353] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,353] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,353] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,353] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,353] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,358] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,358] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 11:09:20,358] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,358] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:20,358] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,358] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,359] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,359] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,365] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,365] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 11:09:20,365] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:20,365] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:20,365] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:20,365] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:20,365] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='4f478bf5-a823-424a-80af-a9438fdc6969', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:20,365] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:20,366] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 11:09:20,367] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 11:09:53,537] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:09:53,537] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 11:09:53,537] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:09:53,598] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 11:09:53,608] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 11:09:53,689] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 11:09:53,706] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:09:53,706] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 11:09:53,706] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 11:09:53,710] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:09:53,712] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:09:53,714] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:09:53,714] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: 9a19b770-5a5a-4847-b998-439752485d83
[2025-08-20 11:09:53,714] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: 9a19b770-5a5a-4847-b998-439752485d83 | 名称: 自定义规则策略
[2025-08-20 11:09:53,714] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 11:09:53,714] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 11:09:53,716] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 11:09:53,717] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 11:09:53,717] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: 9a19b770-5a5a-4847-b998-439752485d83
[2025-08-20 11:09:53,717] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 11:09:53,731] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,732] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 11:09:53,732] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,732] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,732] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,732] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,732] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,732] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,732] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,734] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,735] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 11:09:53,735] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,735] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,735] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,735] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,735] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,735] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,736] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,782] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,782] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 11:09:53,782] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,782] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,782] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,782] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,782] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,782] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,782] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,794] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,794] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 11:09:53,794] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,794] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,794] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,794] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,795] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,795] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,795] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,814] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,814] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 11:09:53,814] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,814] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,815] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,815] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,815] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,815] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,815] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,817] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,817] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 11:09:53,817] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,818] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,818] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,818] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,818] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,818] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,818] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,820] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,820] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 11:09:53,820] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,820] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,820] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,820] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,820] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,820] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,820] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,822] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,822] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 11:09:53,822] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,822] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,822] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,822] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,822] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,822] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,822] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,826] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,826] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 11:09:53,826] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,826] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,826] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,826] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,826] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,826] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,826] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,837] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,837] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 11:09:53,837] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,837] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,837] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,837] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,837] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,837] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,837] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,839] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,839] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 11:09:53,839] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,839] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,839] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,839] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,839] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,840] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,840] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,845] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,845] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 11:09:53,845] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,845] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,845] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,845] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,845] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,845] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,846] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,849] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,849] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 11:09:53,849] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,849] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,849] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,849] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,849] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,849] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,849] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,861] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,862] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 11:09:53,862] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,862] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,862] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,862] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,862] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,862] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,862] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,864] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,864] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 11:09:53,864] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,864] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,864] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,864] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,864] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,864] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,864] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,872] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,872] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 11:09:53,872] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,872] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:09:53,872] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,872] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,872] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,872] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,872] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,880] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,880] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 11:09:53,880] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:09:53,880] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:09:53,880] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:09:53,880] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:09:53,880] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='9a19b770-5a5a-4847-b998-439752485d83', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:09:53,880] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:09:53,880] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:09:53,881] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 11:09:53,882] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 11:12:43,506] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:12:43,507] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 11:12:43,507] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:12:43,530] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 11:12:43,534] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 11:12:43,573] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 11:12:43,586] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:12:43,586] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 11:12:43,586] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 11:12:43,590] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:12:43,590] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:12:43,591] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:12:43,591] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: 0c0c3114-3048-41d7-a6d7-a54feb4050d6
[2025-08-20 11:12:43,591] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: 0c0c3114-3048-41d7-a6d7-a54feb4050d6 | 名称: 自定义规则策略
[2025-08-20 11:12:43,591] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 11:12:43,591] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 11:12:43,592] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 11:12:43,592] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 11:12:43,592] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: 0c0c3114-3048-41d7-a6d7-a54feb4050d6
[2025-08-20 11:12:43,592] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 11:12:43,603] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,603] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 11:12:43,603] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,603] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,603] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,603] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,603] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,603] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,605] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,605] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 11:12:43,605] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,605] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,606] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,606] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,606] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,606] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,614] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,614] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 11:12:43,614] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,614] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,614] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,614] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,614] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,614] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,620] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,621] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 11:12:43,621] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,621] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,621] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,621] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,621] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,621] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,649] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,650] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 11:12:43,650] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,650] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,650] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,650] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,650] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,650] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,653] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,653] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 11:12:43,653] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,653] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,653] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,653] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,654] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,654] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,656] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,656] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 11:12:43,656] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,656] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,656] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,656] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,656] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,656] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,658] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,658] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 11:12:43,658] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,658] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,658] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,658] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,658] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,658] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,662] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,662] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 11:12:43,662] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,662] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,662] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,662] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,662] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,662] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,672] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,673] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 11:12:43,673] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,673] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,673] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,673] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,673] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,673] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,675] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,675] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 11:12:43,675] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,675] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,675] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,675] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,675] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,675] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,679] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,679] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 11:12:43,679] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,679] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,679] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,679] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,679] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,679] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,682] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,682] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 11:12:43,682] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,682] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,682] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,682] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,682] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,682] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,689] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,689] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 11:12:43,690] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,690] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,690] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,690] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,690] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,690] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,692] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,692] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 11:12:43,692] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,692] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,692] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,692] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,692] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,692] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,697] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,697] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 11:12:43,697] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,697] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:12:43,697] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,697] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,697] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,697] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,705] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,705] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 11:12:43,705] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:12:43,705] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:12:43,705] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:12:43,705] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:12:43,706] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c0c3114-3048-41d7-a6d7-a54feb4050d6', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:12:43,706] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:12:43,707] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 11:12:43,707] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 11:13:12,320] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:13:12,321] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 11:13:12,321] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:13:12,352] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 11:13:12,365] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 11:13:12,409] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 11:13:12,425] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:13:12,425] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 11:13:12,425] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 11:13:12,428] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:13:12,428] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:13:12,428] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:13:12,429] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: e4c158e0-1bfc-4085-ae43-2e879ec25a16
[2025-08-20 11:13:12,429] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: e4c158e0-1bfc-4085-ae43-2e879ec25a16 | 名称: 自定义规则策略
[2025-08-20 11:13:12,429] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 11:13:12,429] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 11:13:12,430] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 11:13:12,430] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 11:13:12,430] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: e4c158e0-1bfc-4085-ae43-2e879ec25a16
[2025-08-20 11:13:12,430] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 11:13:12,441] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,441] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 11:13:12,441] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,441] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,441] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,441] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,441] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,441] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,441] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,444] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,444] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 11:13:12,444] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,444] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,444] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,444] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,444] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,444] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,445] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,464] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,464] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 11:13:12,464] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,464] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,464] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,464] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,464] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,464] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,464] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,470] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,470] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 11:13:12,470] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,470] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,470] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,470] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,470] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,470] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,470] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,490] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,490] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 11:13:12,490] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,490] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,490] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,490] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,490] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,490] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,490] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,493] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,493] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 11:13:12,493] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,493] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,493] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,493] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,493] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,493] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,494] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,496] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,496] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 11:13:12,496] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,496] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,496] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,496] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,496] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,496] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,496] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,498] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,498] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 11:13:12,498] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,498] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,498] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,498] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,498] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,498] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,498] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,503] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,503] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 11:13:12,503] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,503] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,503] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,503] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,503] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,503] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,503] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,512] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,512] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 11:13:12,512] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,512] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,512] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,513] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,513] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,513] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,513] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,515] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,515] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 11:13:12,515] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,515] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,515] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,515] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,515] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,515] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,515] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,519] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,520] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 11:13:12,520] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,520] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,520] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,520] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,520] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,520] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,520] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,523] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,523] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 11:13:12,523] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,523] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,523] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,523] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,523] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,523] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,523] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,530] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,530] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 11:13:12,530] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,530] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,530] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,530] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,530] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,530] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,530] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,532] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,532] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 11:13:12,532] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,532] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,532] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,532] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,532] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,532] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,533] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,539] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,539] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 11:13:12,539] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,539] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:12,539] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,539] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,539] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,539] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,539] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,546] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,546] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 11:13:12,546] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:12,546] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:12,546] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:12,546] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:12,546] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='e4c158e0-1bfc-4085-ae43-2e879ec25a16', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:12,546] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:12,546] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:12,547] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 11:13:12,548] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 11:13:42,269] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:13:42,269] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 11:13:42,269] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:13:42,344] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 11:13:42,356] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 11:13:42,399] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 11:13:42,413] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:13:42,413] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 11:13:42,413] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 11:13:42,417] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:13:42,417] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:13:42,419] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:13:42,419] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: 68878bae-cb03-4dc4-b05a-85202316bc23
[2025-08-20 11:13:42,420] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: 68878bae-cb03-4dc4-b05a-85202316bc23 | 名称: 自定义规则策略
[2025-08-20 11:13:42,420] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 11:13:42,420] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 11:13:42,422] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 11:13:42,422] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 11:13:42,422] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: 68878bae-cb03-4dc4-b05a-85202316bc23
[2025-08-20 11:13:42,422] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 11:13:42,436] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,436] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 11:13:42,436] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,436] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,436] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,436] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,436] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,436] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,436] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,436] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,439] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,439] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 11:13:42,439] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,439] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,439] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,439] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,439] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,439] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,439] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,439] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,448] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,449] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 11:13:42,449] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,449] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,449] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,449] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,449] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,449] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,449] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,449] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,467] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,467] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 11:13:42,467] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,467] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,467] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,468] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,468] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,468] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,468] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,468] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,491] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,491] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 11:13:42,491] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,491] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,491] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,491] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,491] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,491] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,491] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,491] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,494] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,494] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 11:13:42,494] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,494] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,494] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,494] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,494] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,494] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,494] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,494] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,496] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,497] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 11:13:42,497] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,497] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,497] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,497] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,497] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,497] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,497] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,497] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,499] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,499] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 11:13:42,499] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,499] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,499] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,499] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,499] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,499] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,499] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,499] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,505] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,505] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 11:13:42,505] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,505] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,505] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,505] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,505] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,505] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,505] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,505] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,515] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,515] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 11:13:42,515] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,515] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,515] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,515] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,516] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,516] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,516] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,516] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,518] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,519] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 11:13:42,519] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,519] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,519] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,519] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,519] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,519] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,519] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,519] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,523] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,523] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 11:13:42,523] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,523] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,523] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,523] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,523] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,523] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,523] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,523] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,526] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,526] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 11:13:42,526] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,526] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,527] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,527] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,527] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,527] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,527] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,527] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,533] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,533] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 11:13:42,533] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,533] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,533] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,533] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,533] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,534] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,534] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,534] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,536] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,536] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 11:13:42,537] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,537] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,537] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,537] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,537] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,537] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,537] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,537] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,542] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,542] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 11:13:42,542] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,542] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:13:42,542] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,542] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,542] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,542] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,542] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,542] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,549] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,549] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 11:13:42,549] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:13:42,549] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:13:42,549] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:13:42,549] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:13:42,549] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='68878bae-cb03-4dc4-b05a-85202316bc23', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:13:42,549] [DEBUG] [risk_manager:28] [conn:N/A] 新仓位：972.0
[2025-08-20 11:13:42,549] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:13:42,549] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: unsupported operand type(s) for *: 'float' and 'decimal.Decimal'
[2025-08-20 11:13:42,550] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 11:13:42,551] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 11:14:22,803] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:14:22,803] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 11:14:22,803] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:14:22,833] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 11:14:22,840] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 11:14:22,880] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 11:14:22,894] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:14:22,894] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 11:14:22,894] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 11:14:22,898] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:14:22,898] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:14:22,899] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:14:22,899] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: 3978b61a-b83e-4ffc-856a-60dc4775d14f
[2025-08-20 11:14:22,899] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: 3978b61a-b83e-4ffc-856a-60dc4775d14f | 名称: 自定义规则策略
[2025-08-20 11:14:22,899] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 11:14:22,900] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 11:14:22,901] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 11:14:22,902] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 11:14:22,902] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: 3978b61a-b83e-4ffc-856a-60dc4775d14f
[2025-08-20 11:14:22,902] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 11:14:22,923] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:22,923] [DEBUG] [backtesting:325] [conn:N/A] 在索引 7 处记录信号: SELL
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,924] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:22,924] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：100000.0
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 通过
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:366] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:378] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 972
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:379] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:382] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:389] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:390] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:411] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=10.28, 数量=972
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:414] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:732] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 11, 0, 0))
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:735] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:736] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 972
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.997648
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:745] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:746] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 972.0
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.997648
[2025-08-20 11:14:22,924] [DEBUG] [backtesting:750] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 11:14:22,925] [DEBUG] [backtesting:751] [conn:N/A] [DEBUG] fill_price: 10.28 (type: <class 'float'>)
[2025-08-20 11:14:22,925] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] fill_quantity: 972.0 (type: <class 'float'>)
[2025-08-20 11:14:22,925] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] fill_amount 计算结果: 9992.16 (type: <class 'float'>)
[2025-08-20 11:14:22,925] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 11:14:22,925] [DEBUG] [backtesting:758] [conn:N/A] [DEBUG] fill_amount: 9992.16 (type: <class 'float'>)
[2025-08-20 11:14:22,925] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] commission: 2.997648 (type: <class 'float'>)
[2025-08-20 11:14:22,925] [DEBUG] [backtesting:762] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 11:14:22,925] [DEBUG] [backtesting:770] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 11:14:22,925] [INFO] [backtesting:819] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 11:14:22,925] [DEBUG] [backtesting:416] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 11:14:22,925] [DEBUG] [backtesting:368] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 11:14:22,927] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:22,927] [DEBUG] [backtesting:325] [conn:N/A] 在索引 9 处记录信号: BUY
[2025-08-20 11:14:22,927] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,927] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:22,927] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 11:14:22,927] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:22,927] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,927] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:22,927] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：96060.402352
[2025-08-20 11:14:22,927] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,927] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:22,927] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,937] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:22,937] [DEBUG] [backtesting:325] [conn:N/A] 在索引 16 处记录信号: SELL
[2025-08-20 11:14:22,937] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,937] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:22,937] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 11:14:22,937] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:22,937] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,938] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:22,938] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：95759.08235200001
[2025-08-20 11:14:22,938] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,938] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:22,938] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,950] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:22,951] [DEBUG] [backtesting:325] [conn:N/A] 在索引 21 处记录信号: BUY
[2025-08-20 11:14:22,951] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,951] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:22,951] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 11:14:22,951] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:22,951] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,951] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:22,952] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：97178.20235200001
[2025-08-20 11:14:22,952] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,952] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:22,952] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,973] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:22,973] [DEBUG] [backtesting:325] [conn:N/A] 在索引 41 处记录信号: SELL
[2025-08-20 11:14:22,973] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,973] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:22,973] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 11:14:22,973] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:22,973] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,973] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:22,974] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：102679.72235200001
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 通过
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:366] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:378] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 972
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:379] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:380] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:382] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:389] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:390] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:411] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=10.28, 数量=972
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:414] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:732] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:735] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:736] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 972
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.997648
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:745] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:746] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 972.0
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.997648
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:750] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:751] [conn:N/A] [DEBUG] fill_price: 10.28 (type: <class 'float'>)
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] fill_quantity: 972.0 (type: <class 'float'>)
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] fill_amount 计算结果: 9992.16 (type: <class 'float'>)
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:758] [conn:N/A] [DEBUG] fill_amount: 9992.16 (type: <class 'float'>)
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] commission: 2.997648 (type: <class 'float'>)
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:762] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:770] [conn:N/A] [DEBUG] 交易前资金: 90004.842352 (type: <class 'float'>)
[2025-08-20 11:14:22,974] [INFO] [backtesting:819] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:416] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 11:14:22,974] [DEBUG] [backtesting:368] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 11:14:22,977] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:22,977] [DEBUG] [backtesting:325] [conn:N/A] 在索引 44 处记录信号: BUY
[2025-08-20 11:14:22,977] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,977] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:22,977] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:14:22,977] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:22,977] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,977] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:22,977] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：102812.80470400001
[2025-08-20 11:14:22,977] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,977] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:22,977] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,979] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:22,979] [DEBUG] [backtesting:325] [conn:N/A] 在索引 46 处记录信号: SELL
[2025-08-20 11:14:22,979] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,979] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:22,979] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:14:22,979] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:22,979] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,980] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:22,980] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：103804.24470400001
[2025-08-20 11:14:22,980] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,980] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:22,980] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,981] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:22,981] [DEBUG] [backtesting:325] [conn:N/A] 在索引 48 处记录信号: BUY
[2025-08-20 11:14:22,981] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,981] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:22,981] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:14:22,981] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:22,981] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,981] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:22,982] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：105223.364704
[2025-08-20 11:14:22,982] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,982] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:22,982] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,986] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:22,987] [DEBUG] [backtesting:325] [conn:N/A] 在索引 52 处记录信号: SELL
[2025-08-20 11:14:22,987] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,987] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:22,987] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:14:22,987] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:22,987] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,987] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:22,987] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：102598.96470400001
[2025-08-20 11:14:22,987] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,987] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:22,987] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,996] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:22,997] [DEBUG] [backtesting:325] [conn:N/A] 在索引 62 处记录信号: BUY
[2025-08-20 11:14:22,997] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,997] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:22,997] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:14:22,997] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:22,997] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,997] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:22,997] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：101899.12470400002
[2025-08-20 11:14:22,997] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,997] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:22,997] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,999] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:22,999] [DEBUG] [backtesting:325] [conn:N/A] 在索引 64 处记录信号: SELL
[2025-08-20 11:14:22,999] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:22,999] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:22,999] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:14:22,999] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:22,999] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:22,999] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:23,000] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：101763.04470400001
[2025-08-20 11:14:23,000] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,000] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:23,000] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,004] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:23,004] [DEBUG] [backtesting:325] [conn:N/A] 在索引 68 处记录信号: BUY
[2025-08-20 11:14:23,004] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:23,004] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:23,004] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:14:23,004] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:23,004] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,004] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:23,004] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：101976.88470400001
[2025-08-20 11:14:23,004] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,004] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:23,004] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,007] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:23,007] [DEBUG] [backtesting:325] [conn:N/A] 在索引 71 处记录信号: SELL
[2025-08-20 11:14:23,008] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:23,008] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:23,008] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:14:23,008] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:23,008] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,008] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:23,008] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：99313.60470400001
[2025-08-20 11:14:23,008] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,008] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:23,008] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,014] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:23,014] [DEBUG] [backtesting:325] [conn:N/A] 在索引 78 处记录信号: BUY
[2025-08-20 11:14:23,014] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:23,014] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:23,014] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:14:23,015] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:23,015] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,015] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:23,015] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：99002.56470400002
[2025-08-20 11:14:23,015] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,015] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:23,015] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,017] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:23,017] [DEBUG] [backtesting:325] [conn:N/A] 在索引 80 处记录信号: SELL
[2025-08-20 11:14:23,017] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:23,017] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:23,017] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:14:23,017] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:23,017] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,017] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:23,017] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：98905.364704
[2025-08-20 11:14:23,017] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,017] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:23,017] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,024] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:23,025] [DEBUG] [backtesting:325] [conn:N/A] 在索引 86 处记录信号: BUY
[2025-08-20 11:14:23,025] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:23,025] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:14:23,025] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:14:23,025] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:23,025] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,025] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:23,025] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：99216.40470400002
[2025-08-20 11:14:23,025] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,025] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:23,025] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,032] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:23,032] [DEBUG] [backtesting:325] [conn:N/A] 在索引 93 处记录信号: SELL
[2025-08-20 11:14:23,032] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:14:23,032] [DEBUG] [backtesting:339] [conn:N/A] 开始处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:14:23,032] [DEBUG] [backtesting:343] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:14:23,032] [DEBUG] [backtesting:347] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:14:23,032] [DEBUG] [backtesting:358] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,032] [DEBUG] [risk_manager:31] [conn:N/A] 新仓位：0.2
[2025-08-20 11:14:23,032] [DEBUG] [risk_manager:33] [conn:N/A] 新仓位：100032.88470400001
[2025-08-20 11:14:23,032] [WARNING] [backtesting:445] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,032] [DEBUG] [backtesting:362] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:14:23,032] [WARNING] [backtesting:370] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='3978b61a-b83e-4ffc-856a-60dc4775d14f', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:14:23,034] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 11:14:23,035] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 11:31:47,975] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:31:47,976] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 11:31:47,976] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:31:48,151] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 11:31:48,159] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 11:31:48,208] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 11:31:48,221] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:31:48,222] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 11:31:48,222] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 11:31:48,225] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:31:48,226] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:31:48,227] [DEBUG] [backtesting:559] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:31:48,227] [DEBUG] [backtesting:584] [conn:N/A] 注册策略调度处理器: 351f2fd7-b5ba-4d63-8f83-70a4a95e611e
[2025-08-20 11:31:48,227] [INFO] [backtesting:587] [conn:N/A] 策略注册成功 | ID: 351f2fd7-b5ba-4d63-8f83-70a4a95e611e | 名称: 自定义规则策略
[2025-08-20 11:31:48,227] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 11:31:48,228] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 11:31:48,230] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 11:31:48,231] [INFO] [backtesting:634] [conn:N/A] 回测系统初始化开始
[2025-08-20 11:31:48,231] [INFO] [backtesting:646] [conn:N/A] 策略初始化完成: 351f2fd7-b5ba-4d63-8f83-70a4a95e611e
[2025-08-20 11:31:48,231] [INFO] [backtesting:664] [conn:N/A] 回测系统初始化完成
[2025-08-20 11:31:48,248] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:31:48,248] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,249] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (7, 'combined_time')
[2025-08-20 11:31:48,251] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:31:48,252] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,252] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (9, 'combined_time')
[2025-08-20 11:31:48,266] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:31:48,281] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,281] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (16, 'combined_time')
[2025-08-20 11:31:48,292] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:31:48,293] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,293] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (21, 'combined_time')
[2025-08-20 11:31:48,328] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:31:48,328] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,329] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (41, 'combined_time')
[2025-08-20 11:31:48,333] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:31:48,334] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,334] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (44, 'combined_time')
[2025-08-20 11:31:48,338] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:31:48,338] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,338] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (46, 'combined_time')
[2025-08-20 11:31:48,341] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:31:48,341] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,341] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (48, 'combined_time')
[2025-08-20 11:31:48,347] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:31:48,347] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,347] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (52, 'combined_time')
[2025-08-20 11:31:48,359] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:31:48,359] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,359] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (62, 'combined_time')
[2025-08-20 11:31:48,361] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:31:48,361] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,361] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (64, 'combined_time')
[2025-08-20 11:31:48,365] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:31:48,365] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,365] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (68, 'combined_time')
[2025-08-20 11:31:48,368] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:31:48,369] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,369] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (71, 'combined_time')
[2025-08-20 11:31:48,376] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:31:48,376] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,376] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (78, 'combined_time')
[2025-08-20 11:31:48,379] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:31:48,379] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,379] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (80, 'combined_time')
[2025-08-20 11:31:48,385] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: BUY sh.603900@10.28
[2025-08-20 11:31:48,385] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,385] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (86, 'combined_time')
[2025-08-20 11:31:48,394] [DEBUG] [backtesting:316] [conn:N/A] 处理策略信号: SELL sh.603900@10.28
[2025-08-20 11:31:48,395] [DEBUG] [backtesting:336] [conn:N/A] [DEBUG] event.price 原始类型: <class 'float'>, 值: 10.28
[2025-08-20 11:31:48,395] [ERROR] [backtesting:546] [conn:N/A] ERROR | 创建订单失败: (93, 'combined_time')
[2025-08-20 11:31:48,396] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 11:31:48,397] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 11:34:17,906] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:34:17,906] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 11:34:17,906] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:34:17,933] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 11:34:17,937] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 11:34:17,971] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 11:34:17,982] [DEBUG] [backtesting:556] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:34:17,982] [DEBUG] [backtesting:556] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 11:34:17,982] [DEBUG] [backtesting:556] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 11:34:17,984] [DEBUG] [backtesting:556] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:34:17,984] [DEBUG] [backtesting:556] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:34:17,985] [DEBUG] [backtesting:556] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:34:17,985] [DEBUG] [backtesting:581] [conn:N/A] 注册策略调度处理器: 0bb011d3-1486-4004-95b4-4b1777960973
[2025-08-20 11:34:17,985] [INFO] [backtesting:584] [conn:N/A] 策略注册成功 | ID: 0bb011d3-1486-4004-95b4-4b1777960973 | 名称: 自定义规则策略
[2025-08-20 11:34:17,985] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 11:34:17,985] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 11:34:17,987] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 11:34:17,987] [INFO] [backtesting:631] [conn:N/A] 回测系统初始化开始
[2025-08-20 11:34:17,987] [INFO] [backtesting:643] [conn:N/A] 策略初始化完成: 0bb011d3-1486-4004-95b4-4b1777960973
[2025-08-20 11:34:17,987] [INFO] [backtesting:661] [conn:N/A] 回测系统初始化完成
[2025-08-20 11:34:17,998] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (7, 'combined_time')
[2025-08-20 11:34:18,000] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (9, 'combined_time')
[2025-08-20 11:34:18,011] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (16, 'combined_time')
[2025-08-20 11:34:18,016] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (21, 'combined_time')
[2025-08-20 11:34:18,037] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (41, 'combined_time')
[2025-08-20 11:34:18,040] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (44, 'combined_time')
[2025-08-20 11:34:18,042] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (46, 'combined_time')
[2025-08-20 11:34:18,044] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (48, 'combined_time')
[2025-08-20 11:34:18,048] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (52, 'combined_time')
[2025-08-20 11:34:18,059] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (62, 'combined_time')
[2025-08-20 11:34:18,061] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (64, 'combined_time')
[2025-08-20 11:34:18,064] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (68, 'combined_time')
[2025-08-20 11:34:18,068] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (71, 'combined_time')
[2025-08-20 11:34:18,075] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (78, 'combined_time')
[2025-08-20 11:34:18,077] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (80, 'combined_time')
[2025-08-20 11:34:18,083] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (86, 'combined_time')
[2025-08-20 11:34:18,091] [ERROR] [backtesting:543] [conn:N/A] ERROR | 创建订单失败: (93, 'combined_time')
[2025-08-20 11:34:18,092] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 11:34:18,092] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 11:35:01,128] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:35:01,129] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 11:35:01,129] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:35:01,161] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 11:35:01,173] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 11:35:01,209] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 11:35:01,220] [DEBUG] [backtesting:556] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:35:01,221] [DEBUG] [backtesting:556] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 11:35:01,221] [DEBUG] [backtesting:556] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 11:35:01,224] [DEBUG] [backtesting:556] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:35:01,224] [DEBUG] [backtesting:556] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:35:01,225] [DEBUG] [backtesting:556] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:35:01,225] [DEBUG] [backtesting:581] [conn:N/A] 注册策略调度处理器: 0c8ff234-c36c-48bf-99fd-2cee3f3c04bc
[2025-08-20 11:35:01,225] [INFO] [backtesting:584] [conn:N/A] 策略注册成功 | ID: 0c8ff234-c36c-48bf-99fd-2cee3f3c04bc | 名称: 自定义规则策略
[2025-08-20 11:35:01,225] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 11:35:01,225] [DEBUG] [backtesting:228] [conn:N/A] 识别数据频率为：日线
[2025-08-20 11:35:01,226] [DEBUG] [backtesting:254] [conn:N/A] 开始回测...
[2025-08-20 11:35:01,226] [INFO] [backtesting:631] [conn:N/A] 回测系统初始化开始
[2025-08-20 11:35:01,226] [INFO] [backtesting:643] [conn:N/A] 策略初始化完成: 0c8ff234-c36c-48bf-99fd-2cee3f3c04bc
[2025-08-20 11:35:01,226] [INFO] [backtesting:661] [conn:N/A] 回测系统初始化完成
[2025-08-20 11:35:01,238] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-04-11 00:00:00operation:SELL sh.603900@10.28
[2025-08-20 11:35:01,238] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 通过
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:363] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:375] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 972
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:376] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.28
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:377] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:379] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:386] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:387] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:408] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=10.28, 数量=972
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:411] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:729] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 11, 0, 0))
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:732] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.28
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 972
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:734] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.997648
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:742] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:743] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 972.0
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:744] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.997648
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_price: 10.28 (type: <class 'float'>)
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] fill_quantity: 972.0 (type: <class 'float'>)
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] fill_amount 计算结果: 9992.16 (type: <class 'float'>)
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] fill_amount: 9992.16 (type: <class 'float'>)
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:756] [conn:N/A] [DEBUG] commission: 2.997648 (type: <class 'float'>)
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:767] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 11:35:01,239] [INFO] [backtesting:816] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:413] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 11:35:01,239] [DEBUG] [backtesting:365] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 11:35:01,241] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-04-15 00:00:00operation:BUY sh.603900@10.28
[2025-08-20 11:35:01,241] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 11:35:01,241] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,241] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,241] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,241] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,241] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,264] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-04-24 00:00:00operation:SELL sh.603900@10.28
[2025-08-20 11:35:01,264] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 11:35:01,264] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,264] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,264] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,264] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,264] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,269] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-05-06 00:00:00operation:BUY sh.603900@10.28
[2025-08-20 11:35:01,269] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 11:35:01,269] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,269] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,269] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,269] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,269] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-06-04 00:00:00operation:SELL sh.603900@10.28
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 通过
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:363] [conn:N/A] 风险检查通过，开始处理订单...
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:375] [conn:N/A] [DEBUG] order_event.quantity 类型: <class 'int'>, 值: 972
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:376] [conn:N/A] [DEBUG] order_event.price 类型: <class 'float'>, 值: 10.28
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:377] [conn:N/A] [DEBUG] self.config.commission 类型: <class 'float'>, 值: 0.0003
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:379] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:386] [conn:N/A] [DEBUG] commission_amount 计算后类型: <class 'float'>, 值: 3.00
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:387] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:408] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=10.28, 数量=972
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:411] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:729] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:732] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.28
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 972
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:734] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.997648
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:742] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:743] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 972.0
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:744] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.997648
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:747] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:748] [conn:N/A] [DEBUG] fill_price: 10.28 (type: <class 'float'>)
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] fill_quantity: 972.0 (type: <class 'float'>)
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:752] [conn:N/A] [DEBUG] fill_amount 计算结果: 9992.16 (type: <class 'float'>)
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:754] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] fill_amount: 9992.16 (type: <class 'float'>)
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:756] [conn:N/A] [DEBUG] commission: 2.997648 (type: <class 'float'>)
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:759] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:767] [conn:N/A] [DEBUG] 交易前资金: 90004.842352 (type: <class 'float'>)
[2025-08-20 11:35:01,290] [INFO] [backtesting:816] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:413] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 11:35:01,290] [DEBUG] [backtesting:365] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 11:35:01,293] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-06-09 00:00:00operation:BUY sh.603900@10.28
[2025-08-20 11:35:01,293] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:35:01,293] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,293] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,293] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,293] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,293] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,296] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-06-11 00:00:00operation:SELL sh.603900@10.28
[2025-08-20 11:35:01,296] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:35:01,296] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,296] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,296] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,296] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,296] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,298] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-06-13 00:00:00operation:BUY sh.603900@10.28
[2025-08-20 11:35:01,298] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:35:01,298] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,298] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,298] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,298] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,298] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,302] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-06-19 00:00:00operation:SELL sh.603900@10.28
[2025-08-20 11:35:01,302] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:35:01,302] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,302] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,302] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,302] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,302] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,312] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-07-03 00:00:00operation:BUY sh.603900@10.28
[2025-08-20 11:35:01,312] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:35:01,312] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,312] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,312] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,313] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,313] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,315] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-07-07 00:00:00operation:SELL sh.603900@10.28
[2025-08-20 11:35:01,315] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:35:01,315] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,315] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,315] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,315] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,315] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,319] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-07-11 00:00:00operation:BUY sh.603900@10.28
[2025-08-20 11:35:01,319] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:35:01,319] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,319] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,319] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,320] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,320] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,323] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-07-16 00:00:00operation:SELL sh.603900@10.28
[2025-08-20 11:35:01,323] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:35:01,323] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,323] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,323] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,323] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,323] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,330] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-07-25 00:00:00operation:BUY sh.603900@10.28
[2025-08-20 11:35:01,330] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:35:01,330] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,330] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,330] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,330] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,330] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,332] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-07-29 00:00:00operation:SELL sh.603900@10.28
[2025-08-20 11:35:01,333] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:35:01,333] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,333] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,333] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,333] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,333] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,338] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-08-06 00:00:00operation:BUY sh.603900@10.28
[2025-08-20 11:35:01,338] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:35:01,338] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,339] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,339] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,339] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,339] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,349] [DEBUG] [backtesting:336] [conn:N/A] 开始处理策略信号: 2025-08-15 00:00:00operation:SELL sh.603900@10.28
[2025-08-20 11:35:01,349] [DEBUG] [backtesting:340] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:35:01,349] [DEBUG] [backtesting:344] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:35:01,349] [DEBUG] [backtesting:355] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,349] [WARNING] [backtesting:442] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,349] [DEBUG] [backtesting:359] [conn:N/A] 风险检查结果: 失败
[2025-08-20 11:35:01,349] [WARNING] [backtesting:367] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='0c8ff234-c36c-48bf-99fd-2cee3f3c04bc', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:35:01,350] [DEBUG] [backtesting:281] [conn:N/A] 回测完成
[2025-08-20 11:35:01,351] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 11:59:00,125] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:59:00,126] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 11:59:00,126] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 11:59:00,264] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 11:59:00,274] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 11:59:00,317] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 11:59:00,331] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:59:00,331] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 11:59:00,331] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 11:59:00,333] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:59:00,333] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 11:59:00,334] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 11:59:00,334] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: 54a0354b-b9a4-4775-b603-9c7bfa086399
[2025-08-20 11:59:00,334] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: 54a0354b-b9a4-4775-b603-9c7bfa086399 | 名称: 自定义规则策略
[2025-08-20 11:59:00,334] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 11:59:00,334] [DEBUG] [backtesting:225] [conn:N/A] 识别数据频率为：日线
[2025-08-20 11:59:00,335] [DEBUG] [backtesting:251] [conn:N/A] 开始回测...
[2025-08-20 11:59:00,335] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 11:59:00,335] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: 54a0354b-b9a4-4775-b603-9c7bfa086399
[2025-08-20 11:59:00,335] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-04-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:370] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:377] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:398] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=10.28, 数量=972
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:401] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 11, 0, 0))
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:722] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.28
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:723] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 972
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:724] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.997648
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:732] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 972.0
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:734] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.997648
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] fill_price: 10.28 (type: <class 'float'>)
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] fill_quantity: 972.0 (type: <class 'float'>)
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:742] [conn:N/A] [DEBUG] fill_amount 计算结果: 9992.16 (type: <class 'float'>)
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:744] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:745] [conn:N/A] [DEBUG] fill_amount: 9992.16 (type: <class 'float'>)
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:746] [conn:N/A] [DEBUG] commission: 2.997648 (type: <class 'float'>)
[2025-08-20 11:59:00,344] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 11:59:00,345] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 11:59:00,345] [INFO] [backtesting:806] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 11:59:00,345] [DEBUG] [backtesting:403] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 11:59:00,345] [DEBUG] [backtesting:360] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 11:59:00,346] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-04-15 00:00:00 | BUY sh.603900@10.28
[2025-08-20 11:59:00,346] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 11:59:00,347] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,347] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,347] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,347] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,354] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-04-24 00:00:00 | SELL sh.603900@10.28
[2025-08-20 11:59:00,354] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 11:59:00,354] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,354] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,354] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,354] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,360] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-05-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 11:59:00,361] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 11:59:00,361] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,362] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,362] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,362] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,436] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-06-04 00:00:00 | SELL sh.603900@10.28
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:370] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:377] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:398] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=10.28, 数量=972
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:401] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:722] [conn:N/A] [DEBUG] FillEvent.fill_price 类型: <class 'float'>, 值: 10.28
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:723] [conn:N/A] [DEBUG] FillEvent.fill_quantity 类型: <class 'int'>, 值: 972
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:724] [conn:N/A] [DEBUG] FillEvent.commission 类型: <class 'float'>, 值: 2.997648
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:732] [conn:N/A] [DEBUG] fill_price 转换后类型: <class 'float'>, 值: 10.28
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] fill_quantity 转换后类型: <class 'float'>, 值: 972.0
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:734] [conn:N/A] [DEBUG] commission 转换后类型: <class 'float'>, 值: 2.997648
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:737] [conn:N/A] [DEBUG] 开始计算 fill_amount = fill_price * fill_quantity
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:738] [conn:N/A] [DEBUG] fill_price: 10.28 (type: <class 'float'>)
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:739] [conn:N/A] [DEBUG] fill_quantity: 972.0 (type: <class 'float'>)
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:742] [conn:N/A] [DEBUG] fill_amount 计算结果: 9992.16 (type: <class 'float'>)
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:744] [conn:N/A] [DEBUG] 开始计算 total_cost = fill_amount + commission
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:745] [conn:N/A] [DEBUG] fill_amount: 9992.16 (type: <class 'float'>)
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:746] [conn:N/A] [DEBUG] commission: 2.997648 (type: <class 'float'>)
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:749] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:757] [conn:N/A] [DEBUG] 交易前资金: 90004.842352 (type: <class 'float'>)
[2025-08-20 11:59:00,437] [INFO] [backtesting:806] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:403] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 11:59:00,437] [DEBUG] [backtesting:360] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 11:59:00,440] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-06-09 00:00:00 | BUY sh.603900@10.28
[2025-08-20 11:59:00,440] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:59:00,440] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,440] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,440] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,440] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,443] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-06-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 11:59:00,443] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:59:00,443] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,443] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,443] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,443] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,446] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-06-13 00:00:00 | BUY sh.603900@10.28
[2025-08-20 11:59:00,446] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:59:00,446] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,446] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,446] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,446] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,450] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-06-19 00:00:00 | SELL sh.603900@10.28
[2025-08-20 11:59:00,450] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:59:00,450] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,450] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,451] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,451] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,461] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-07-03 00:00:00 | BUY sh.603900@10.28
[2025-08-20 11:59:00,461] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:59:00,461] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,461] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,461] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,461] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,464] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-07-07 00:00:00 | SELL sh.603900@10.28
[2025-08-20 11:59:00,464] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:59:00,464] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,464] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,464] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,464] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,468] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-07-11 00:00:00 | BUY sh.603900@10.28
[2025-08-20 11:59:00,468] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:59:00,468] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,468] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,468] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,468] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,471] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-07-16 00:00:00 | SELL sh.603900@10.28
[2025-08-20 11:59:00,471] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:59:00,471] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,471] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,471] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,471] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,479] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-07-25 00:00:00 | BUY sh.603900@10.28
[2025-08-20 11:59:00,479] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:59:00,480] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,480] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,480] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,480] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,482] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-07-29 00:00:00 | SELL sh.603900@10.28
[2025-08-20 11:59:00,482] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:59:00,482] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,482] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,482] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,482] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,488] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-08-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 11:59:00,488] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:59:00,488] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,488] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,488] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,488] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,496] [DEBUG] [backtesting:333] [conn:N/A] 开始处理策略信号: 2025-08-15 00:00:00 | SELL sh.603900@10.28
[2025-08-20 11:59:00,496] [DEBUG] [backtesting:337] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 11:59:00,496] [DEBUG] [backtesting:341] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 11:59:00,496] [DEBUG] [backtesting:352] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,496] [WARNING] [backtesting:432] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,496] [WARNING] [backtesting:362] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='54a0354b-b9a4-4775-b603-9c7bfa086399', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 11:59:00,497] [DEBUG] [backtesting:278] [conn:N/A] 回测完成
[2025-08-20 11:59:00,498] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:13:26,528] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:13:26,528] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:13:26,528] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:13:26,674] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:13:26,684] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:13:26,729] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:13:26,743] [DEBUG] [backtesting:541] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:13:26,743] [DEBUG] [backtesting:541] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:13:26,743] [DEBUG] [backtesting:541] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:13:26,749] [DEBUG] [backtesting:541] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:13:26,749] [DEBUG] [backtesting:541] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:13:26,753] [DEBUG] [backtesting:541] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:13:26,753] [DEBUG] [backtesting:566] [conn:N/A] 注册策略调度处理器: baa6c307-dc97-4fe6-af35-ad94b86af3b7
[2025-08-20 12:13:26,753] [INFO] [backtesting:569] [conn:N/A] 策略注册成功 | ID: baa6c307-dc97-4fe6-af35-ad94b86af3b7 | 名称: 自定义规则策略
[2025-08-20 12:13:26,753] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 12:13:26,753] [DEBUG] [backtesting:225] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:13:26,754] [DEBUG] [backtesting:251] [conn:N/A] 开始回测...
[2025-08-20 12:13:26,754] [INFO] [backtesting:616] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:13:26,754] [INFO] [backtesting:628] [conn:N/A] 策略初始化完成: baa6c307-dc97-4fe6-af35-ad94b86af3b7
[2025-08-20 12:13:26,754] [INFO] [backtesting:646] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:13:26,763] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-04-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:13:26,763] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:13:26,763] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,764] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,764] [DEBUG] [backtesting:368] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 12:13:26,764] [DEBUG] [backtesting:375] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:13:26,764] [DEBUG] [backtesting:397] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=10.28, 数量=972
[2025-08-20 12:13:26,764] [DEBUG] [backtesting:400] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:13:26,764] [DEBUG] [backtesting:714] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='SELL', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 11, 0, 0))
[2025-08-20 12:13:26,764] [DEBUG] [backtesting:728] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:13:26,764] [DEBUG] [backtesting:736] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 12:13:26,764] [INFO] [backtesting:785] [conn:N/A] 成交回报处理完成: SELL 972@10.28, 手续费: 3.00
[2025-08-20 12:13:26,764] [DEBUG] [backtesting:402] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 12:13:26,764] [DEBUG] [backtesting:358] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 12:13:26,766] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-04-15 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:13:26,766] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 12:13:26,766] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,766] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,766] [DEBUG] [backtesting:368] [conn:N/A] 开始处理回测订单: BUY 972@10.28
[2025-08-20 12:13:26,766] [DEBUG] [backtesting:375] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:13:26,766] [DEBUG] [backtesting:397] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=10.28, 数量=972
[2025-08-20 12:13:26,766] [DEBUG] [backtesting:400] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:13:26,766] [DEBUG] [backtesting:714] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', direction='BUY', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-20 12:13:26,766] [DEBUG] [backtesting:728] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:13:26,766] [DEBUG] [backtesting:736] [conn:N/A] [DEBUG] 交易前资金: 90004.842352 (type: <class 'float'>)
[2025-08-20 12:13:26,766] [ERROR] [backtesting:528] [conn:N/A] ERROR | 处理成交回报事件失败: float division by zero
[2025-08-20 12:13:26,769] [ERROR] [backtesting:528] [conn:N/A] ERROR | 详细错误信息: Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/backtesting.py", line 760, in _handle_fill_event
    self.position_meta['avg_price'] = total_value / total_quantity
ZeroDivisionError: float division by zero

[2025-08-20 12:13:26,769] [DEBUG] [backtesting:402] [conn:N/A] 回测订单执行成功: BUY 972@10.28
[2025-08-20 12:13:26,769] [DEBUG] [backtesting:358] [conn:N/A] 订单处理完成: BUY 972@10.28
[2025-08-20 12:13:26,791] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-04-24 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:13:26,791] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 12:13:26,791] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,791] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,791] [DEBUG] [backtesting:368] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 12:13:26,791] [DEBUG] [backtesting:375] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:13:26,791] [DEBUG] [backtesting:397] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=10.28, 数量=972
[2025-08-20 12:13:26,791] [DEBUG] [backtesting:400] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:13:26,791] [DEBUG] [backtesting:714] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', direction='SELL', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 24, 0, 0))
[2025-08-20 12:13:26,791] [DEBUG] [backtesting:728] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:13:26,791] [DEBUG] [backtesting:736] [conn:N/A] [DEBUG] 交易前资金: 80009.68470400001 (type: <class 'float'>)
[2025-08-20 12:13:26,791] [INFO] [backtesting:785] [conn:N/A] 成交回报处理完成: SELL 972@10.28, 手续费: 3.00
[2025-08-20 12:13:26,792] [DEBUG] [backtesting:402] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 12:13:26,792] [DEBUG] [backtesting:358] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 12:13:26,799] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-05-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:13:26,799] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:13:26,799] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,799] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,799] [DEBUG] [backtesting:368] [conn:N/A] 开始处理回测订单: BUY 972@10.28
[2025-08-20 12:13:26,799] [DEBUG] [backtesting:375] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:13:26,799] [DEBUG] [backtesting:397] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_2, 成交价=10.28, 数量=972
[2025-08-20 12:13:26,799] [DEBUG] [backtesting:400] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:13:26,799] [DEBUG] [backtesting:714] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_2', symbol='sh.603900', direction='BUY', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 5, 6, 0, 0))
[2025-08-20 12:13:26,799] [DEBUG] [backtesting:728] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:13:26,799] [DEBUG] [backtesting:736] [conn:N/A] [DEBUG] 交易前资金: 70014.52705600002 (type: <class 'float'>)
[2025-08-20 12:13:26,799] [INFO] [backtesting:785] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 12:13:26,799] [DEBUG] [backtesting:402] [conn:N/A] 回测订单执行成功: BUY 972@10.28
[2025-08-20 12:13:26,799] [DEBUG] [backtesting:358] [conn:N/A] 订单处理完成: BUY 972@10.28
[2025-08-20 12:13:26,820] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-06-04 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:13:26,820] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 60019.37)
[2025-08-20 12:13:26,820] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,820] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,820] [DEBUG] [backtesting:368] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 12:13:26,820] [DEBUG] [backtesting:375] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:13:26,820] [DEBUG] [backtesting:397] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_3, 成交价=10.28, 数量=972
[2025-08-20 12:13:26,820] [DEBUG] [backtesting:400] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:13:26,820] [DEBUG] [backtesting:714] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_3', symbol='sh.603900', direction='SELL', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-20 12:13:26,820] [DEBUG] [backtesting:728] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:13:26,820] [DEBUG] [backtesting:736] [conn:N/A] [DEBUG] 交易前资金: 60019.36940800002 (type: <class 'float'>)
[2025-08-20 12:13:26,820] [INFO] [backtesting:785] [conn:N/A] 成交回报处理完成: SELL 972@10.28, 手续费: 3.00
[2025-08-20 12:13:26,820] [DEBUG] [backtesting:402] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 12:13:26,820] [DEBUG] [backtesting:358] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 12:13:26,823] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-06-09 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:13:26,823] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:13:26,823] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,823] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,823] [WARNING] [backtesting:431] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,823] [WARNING] [backtesting:360] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,825] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-06-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:13:26,826] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:13:26,826] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,826] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,826] [WARNING] [backtesting:431] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,826] [WARNING] [backtesting:360] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,830] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-06-13 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:13:26,830] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:13:26,830] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,830] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,830] [WARNING] [backtesting:431] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,830] [WARNING] [backtesting:360] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,836] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-06-19 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:13:26,836] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:13:26,836] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,836] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,836] [WARNING] [backtesting:431] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,836] [WARNING] [backtesting:360] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,848] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-07-03 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:13:26,848] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:13:26,848] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,848] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,848] [WARNING] [backtesting:431] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,849] [WARNING] [backtesting:360] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,851] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-07-07 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:13:26,851] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:13:26,851] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,851] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,851] [WARNING] [backtesting:431] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,851] [WARNING] [backtesting:360] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,855] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-07-11 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:13:26,855] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:13:26,855] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,855] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,855] [WARNING] [backtesting:431] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,855] [WARNING] [backtesting:360] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,858] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-07-16 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:13:26,858] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:13:26,858] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,858] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,858] [WARNING] [backtesting:431] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,858] [WARNING] [backtesting:360] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,867] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-07-25 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:13:26,867] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:13:26,867] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,867] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,867] [WARNING] [backtesting:431] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,867] [WARNING] [backtesting:360] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,869] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-07-29 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:13:26,869] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:13:26,869] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,869] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,869] [WARNING] [backtesting:431] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,869] [WARNING] [backtesting:360] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,875] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-08-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:13:26,875] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:13:26,875] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,875] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,875] [WARNING] [backtesting:431] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,875] [WARNING] [backtesting:360] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,885] [DEBUG] [backtesting:331] [conn:N/A] 开始处理策略信号: 2025-08-15 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:13:26,885] [DEBUG] [backtesting:335] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:13:26,885] [DEBUG] [backtesting:339] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:13:26,885] [DEBUG] [backtesting:350] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,885] [WARNING] [backtesting:431] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,885] [WARNING] [backtesting:360] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='baa6c307-dc97-4fe6-af35-ad94b86af3b7', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:13:26,886] [DEBUG] [backtesting:278] [conn:N/A] 回测完成
[2025-08-20 12:13:26,886] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:19:51,796] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:19:51,797] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:19:51,797] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:19:51,937] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:19:51,944] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:19:51,998] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:19:52,009] [DEBUG] [backtesting:545] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:19:52,009] [DEBUG] [backtesting:545] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:19:52,009] [DEBUG] [backtesting:545] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:19:52,015] [DEBUG] [backtesting:545] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:19:52,015] [DEBUG] [backtesting:545] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:19:52,016] [DEBUG] [backtesting:545] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:19:52,016] [DEBUG] [backtesting:570] [conn:N/A] 注册策略调度处理器: 05da5706-1965-4f25-a07d-8a389187c0c2
[2025-08-20 12:19:52,016] [INFO] [backtesting:573] [conn:N/A] 策略注册成功 | ID: 05da5706-1965-4f25-a07d-8a389187c0c2 | 名称: 自定义规则策略
[2025-08-20 12:19:52,016] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 12:19:52,016] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:19:52,017] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:19:52,017] [INFO] [backtesting:620] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:19:52,017] [INFO] [backtesting:632] [conn:N/A] 策略初始化完成: 05da5706-1965-4f25-a07d-8a389187c0c2
[2025-08-20 12:19:52,017] [INFO] [backtesting:650] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:19:52,026] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:19:52,026] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,026] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,027] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,027] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,030] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-15 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:19:52,031] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,031] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,031] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,031] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,055] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-24 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:19:52,055] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,055] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,055] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,055] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,059] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-05-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:19:52,059] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,059] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,059] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,059] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,085] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-04 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:19:52,085] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,085] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,085] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,085] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,088] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-09 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:19:52,088] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,088] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,088] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,088] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,090] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:19:52,090] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,090] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,090] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,090] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,092] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-13 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:19:52,092] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,092] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,092] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,092] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,098] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-19 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:19:52,099] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,099] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,099] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,099] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,109] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-03 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:19:52,109] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,109] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,109] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,109] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,113] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-07 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:19:52,113] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,113] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,113] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,113] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,118] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-11 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:19:52,118] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,118] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,118] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,118] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,122] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-16 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:19:52,122] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,122] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,122] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,122] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,130] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-25 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:19:52,131] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,131] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,131] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,131] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,133] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-29 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:19:52,134] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,134] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,134] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,134] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,140] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:19:52,140] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,140] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,140] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,140] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,148] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-15 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:19:52,148] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:19:52,149] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:19:52,149] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='05da5706-1965-4f25-a07d-8a389187c0c2', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:19:52,149] [ERROR] [backtesting:532] [conn:N/A] ERROR | 创建订单失败: '>=' not supported between instances of 'method' and 'float'
[2025-08-20 12:19:52,150] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:19:52,150] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:21:23,165] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:21:23,165] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:21:23,165] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:21:23,201] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:21:23,204] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:21:23,240] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:21:23,251] [DEBUG] [backtesting:545] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:21:23,251] [DEBUG] [backtesting:545] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:21:23,251] [DEBUG] [backtesting:545] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:21:23,252] [DEBUG] [backtesting:545] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:21:23,252] [DEBUG] [backtesting:545] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:21:23,253] [DEBUG] [backtesting:545] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:21:23,253] [DEBUG] [backtesting:570] [conn:N/A] 注册策略调度处理器: 955e17cd-9759-4d40-9e3b-6fda681a88b9
[2025-08-20 12:21:23,253] [INFO] [backtesting:573] [conn:N/A] 策略注册成功 | ID: 955e17cd-9759-4d40-9e3b-6fda681a88b9 | 名称: 自定义规则策略
[2025-08-20 12:21:23,253] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 12:21:23,253] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:21:23,254] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:21:23,254] [INFO] [backtesting:620] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:21:23,254] [INFO] [backtesting:632] [conn:N/A] 策略初始化完成: 955e17cd-9759-4d40-9e3b-6fda681a88b9
[2025-08-20 12:21:23,254] [INFO] [backtesting:650] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:21:23,266] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:21:23,266] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:21:23,266] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,266] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,266] [DEBUG] [backtesting:372] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 12:21:23,266] [DEBUG] [backtesting:379] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:21:23,266] [DEBUG] [backtesting:401] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=10.28, 数量=972
[2025-08-20 12:21:23,267] [DEBUG] [backtesting:404] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:21:23,267] [DEBUG] [backtesting:718] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='SELL', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 11, 0, 0))
[2025-08-20 12:21:23,267] [DEBUG] [backtesting:732] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:21:23,267] [DEBUG] [backtesting:740] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 12:21:23,267] [INFO] [backtesting:789] [conn:N/A] 成交回报处理完成: SELL 972@10.28, 手续费: 3.00
[2025-08-20 12:21:23,267] [DEBUG] [backtesting:406] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 12:21:23,267] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 12:21:23,284] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-15 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:21:23,284] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 12:21:23,284] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,284] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,284] [DEBUG] [backtesting:372] [conn:N/A] 开始处理回测订单: BUY 972@10.28
[2025-08-20 12:21:23,284] [DEBUG] [backtesting:379] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:21:23,284] [DEBUG] [backtesting:401] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=10.28, 数量=972
[2025-08-20 12:21:23,284] [DEBUG] [backtesting:404] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:21:23,284] [DEBUG] [backtesting:718] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', direction='BUY', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-20 12:21:23,284] [DEBUG] [backtesting:732] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:21:23,284] [DEBUG] [backtesting:740] [conn:N/A] [DEBUG] 交易前资金: 90004.842352 (type: <class 'float'>)
[2025-08-20 12:21:23,284] [ERROR] [backtesting:532] [conn:N/A] ERROR | 处理成交回报事件失败: float division by zero
[2025-08-20 12:21:23,288] [ERROR] [backtesting:532] [conn:N/A] ERROR | 详细错误信息: Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/backtesting.py", line 764, in _handle_fill_event
    self.position_meta['avg_price'] = total_value / total_quantity
ZeroDivisionError: float division by zero

[2025-08-20 12:21:23,288] [DEBUG] [backtesting:406] [conn:N/A] 回测订单执行成功: BUY 972@10.28
[2025-08-20 12:21:23,288] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 972@10.28
[2025-08-20 12:21:23,297] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-24 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:21:23,297] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 12:21:23,297] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,297] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,297] [DEBUG] [backtesting:372] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 12:21:23,297] [DEBUG] [backtesting:379] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:21:23,297] [DEBUG] [backtesting:401] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=10.28, 数量=972
[2025-08-20 12:21:23,297] [DEBUG] [backtesting:404] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:21:23,297] [DEBUG] [backtesting:718] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', direction='SELL', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 24, 0, 0))
[2025-08-20 12:21:23,297] [DEBUG] [backtesting:732] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:21:23,297] [DEBUG] [backtesting:740] [conn:N/A] [DEBUG] 交易前资金: 80009.68470400001 (type: <class 'float'>)
[2025-08-20 12:21:23,298] [INFO] [backtesting:789] [conn:N/A] 成交回报处理完成: SELL 972@10.28, 手续费: 3.00
[2025-08-20 12:21:23,298] [DEBUG] [backtesting:406] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 12:21:23,298] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 12:21:23,302] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-05-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:21:23,302] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:21:23,302] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,302] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,302] [DEBUG] [backtesting:372] [conn:N/A] 开始处理回测订单: BUY 972@10.28
[2025-08-20 12:21:23,302] [DEBUG] [backtesting:379] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:21:23,302] [DEBUG] [backtesting:401] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_2, 成交价=10.28, 数量=972
[2025-08-20 12:21:23,303] [DEBUG] [backtesting:404] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:21:23,303] [DEBUG] [backtesting:718] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_2', symbol='sh.603900', direction='BUY', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 5, 6, 0, 0))
[2025-08-20 12:21:23,303] [DEBUG] [backtesting:732] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:21:23,303] [DEBUG] [backtesting:740] [conn:N/A] [DEBUG] 交易前资金: 70014.52705600002 (type: <class 'float'>)
[2025-08-20 12:21:23,303] [INFO] [backtesting:789] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 12:21:23,303] [DEBUG] [backtesting:406] [conn:N/A] 回测订单执行成功: BUY 972@10.28
[2025-08-20 12:21:23,303] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 972@10.28
[2025-08-20 12:21:23,323] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-04 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:21:23,323] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 60019.37)
[2025-08-20 12:21:23,323] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,323] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,323] [DEBUG] [backtesting:372] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 12:21:23,323] [DEBUG] [backtesting:379] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:21:23,323] [DEBUG] [backtesting:401] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_3, 成交价=10.28, 数量=972
[2025-08-20 12:21:23,323] [DEBUG] [backtesting:404] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:21:23,323] [DEBUG] [backtesting:718] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_3', symbol='sh.603900', direction='SELL', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-20 12:21:23,323] [DEBUG] [backtesting:732] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:21:23,323] [DEBUG] [backtesting:740] [conn:N/A] [DEBUG] 交易前资金: 60019.36940800002 (type: <class 'float'>)
[2025-08-20 12:21:23,323] [INFO] [backtesting:789] [conn:N/A] 成交回报处理完成: SELL 972@10.28, 手续费: 3.00
[2025-08-20 12:21:23,323] [DEBUG] [backtesting:406] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 12:21:23,323] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 12:21:23,326] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-09 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:21:23,326] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:21:23,326] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,326] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,326] [WARNING] [backtesting:435] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,326] [WARNING] [backtesting:364] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,330] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:21:23,330] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:21:23,330] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,330] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,330] [WARNING] [backtesting:435] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,330] [WARNING] [backtesting:364] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,332] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-13 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:21:23,332] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:21:23,332] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,332] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,332] [WARNING] [backtesting:435] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,332] [WARNING] [backtesting:364] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,336] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-19 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:21:23,336] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:21:23,336] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,336] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,336] [WARNING] [backtesting:435] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,336] [WARNING] [backtesting:364] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,347] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-03 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:21:23,347] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:21:23,347] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,347] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,347] [WARNING] [backtesting:435] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,347] [WARNING] [backtesting:364] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,350] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-07 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:21:23,350] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:21:23,350] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,350] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,350] [WARNING] [backtesting:435] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,350] [WARNING] [backtesting:364] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,354] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-11 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:21:23,354] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:21:23,354] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,354] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,354] [WARNING] [backtesting:435] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,354] [WARNING] [backtesting:364] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,357] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-16 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:21:23,357] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:21:23,357] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,357] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,357] [WARNING] [backtesting:435] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,357] [WARNING] [backtesting:364] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,365] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-25 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:21:23,365] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:21:23,365] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,365] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,365] [WARNING] [backtesting:435] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,365] [WARNING] [backtesting:364] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,367] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-29 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:21:23,367] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:21:23,367] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,367] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,367] [WARNING] [backtesting:435] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,367] [WARNING] [backtesting:364] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,373] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:21:23,373] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:21:23,374] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,374] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,374] [WARNING] [backtesting:435] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,374] [WARNING] [backtesting:364] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='BUY', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,383] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-15 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:21:23,383] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:21:23,383] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:21:23,383] [DEBUG] [backtesting:354] [conn:N/A] 创建订单事件: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,383] [WARNING] [backtesting:435] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,384] [WARNING] [backtesting:364] [conn:N/A] 订单风险检查失败: OrderEvent(strategy_id='955e17cd-9759-4d40-9e3b-6fda681a88b9', symbol='sh.603900', direction='SELL', price=10.28, quantity=972, order_type='LIMIT', order_id='')
[2025-08-20 12:21:23,385] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:21:23,385] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:23:13,817] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:23:13,818] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:23:13,818] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:23:13,858] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:23:13,864] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:23:13,903] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:23:13,913] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:23:13,913] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:23:13,913] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:23:13,915] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:23:13,916] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:23:13,916] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:23:13,916] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: 5b7a125b-cc29-4f78-944e-5f9d7930b9a5
[2025-08-20 12:23:13,916] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: 5b7a125b-cc29-4f78-944e-5f9d7930b9a5 | 名称: 自定义规则策略
[2025-08-20 12:23:13,916] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 12:23:13,917] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:23:13,917] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:23:13,917] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:23:13,918] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: 5b7a125b-cc29-4f78-944e-5f9d7930b9a5
[2025-08-20 12:23:13,918] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:23:13,927] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:13,927] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:13,927] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:13,927] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:13,927] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 12:23:13,928] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:23:13,928] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=10.28, 数量=972
[2025-08-20 12:23:13,928] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:23:13,928] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='SELL', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 11, 0, 0))
[2025-08-20 12:23:13,928] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:23:13,928] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 12:23:13,928] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: SELL 972@10.28, 手续费: 3.00
[2025-08-20 12:23:13,928] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 12:23:13,928] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 12:23:13,931] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-15 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:13,932] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 12:23:13,932] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:13,932] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:83949.28235200001
[2025-08-20 12:23:13,932] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 972@10.28
[2025-08-20 12:23:13,932] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:23:13,932] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=10.28, 数量=972
[2025-08-20 12:23:13,932] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:23:13,932] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', direction='BUY', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-20 12:23:13,932] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:23:13,932] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 90004.842352 (type: <class 'float'>)
[2025-08-20 12:23:13,932] [ERROR] [backtesting:533] [conn:N/A] ERROR | 处理成交回报事件失败: float division by zero
[2025-08-20 12:23:13,936] [ERROR] [backtesting:533] [conn:N/A] ERROR | 详细错误信息: Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/backtesting.py", line 765, in _handle_fill_event
    self.position_meta['avg_price'] = total_value / total_quantity
ZeroDivisionError: float division by zero

[2025-08-20 12:23:13,936] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 972@10.28
[2025-08-20 12:23:13,936] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 972@10.28
[2025-08-20 12:23:13,943] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-24 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:13,943] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 12:23:13,943] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:13,943] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:74255.44470400001
[2025-08-20 12:23:13,943] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 12:23:13,944] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:23:13,944] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=10.28, 数量=972
[2025-08-20 12:23:13,944] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:23:13,944] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', direction='SELL', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 24, 0, 0))
[2025-08-20 12:23:13,944] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:23:13,944] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 80009.68470400001 (type: <class 'float'>)
[2025-08-20 12:23:13,944] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: SELL 972@10.28, 手续费: 3.00
[2025-08-20 12:23:13,944] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 12:23:13,944] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 12:23:13,951] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-05-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:13,951] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:23:13,951] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:13,951] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:55667.80705600002
[2025-08-20 12:23:13,951] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 972@10.28
[2025-08-20 12:23:13,951] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:23:13,951] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_2, 成交价=10.28, 数量=972
[2025-08-20 12:23:13,951] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:23:13,951] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_2', symbol='sh.603900', direction='BUY', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 5, 6, 0, 0))
[2025-08-20 12:23:13,951] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:23:13,951] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 70014.52705600002 (type: <class 'float'>)
[2025-08-20 12:23:13,951] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 12:23:13,951] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 972@10.28
[2025-08-20 12:23:13,951] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 972@10.28
[2025-08-20 12:23:13,984] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-04 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:13,984] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 60019.37)
[2025-08-20 12:23:13,984] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:13,984] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:47344.48940800002
[2025-08-20 12:23:13,984] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 12:23:13,984] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:23:13,984] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_3, 成交价=10.28, 数量=972
[2025-08-20 12:23:13,984] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:23:13,984] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_3', symbol='sh.603900', direction='SELL', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-20 12:23:13,984] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:23:13,984] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 60019.36940800002 (type: <class 'float'>)
[2025-08-20 12:23:13,984] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: SELL 972@10.28, 手续费: 3.00
[2025-08-20 12:23:13,984] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 12:23:13,984] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 12:23:13,987] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-09 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:13,987] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:23:13,987] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:13,987] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:27221.091760000018
[2025-08-20 12:23:13,989] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:13,989] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:23:13,989] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:13,989] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:26229.65176000002
[2025-08-20 12:23:13,991] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-13 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:13,991] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:23:13,991] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:13,991] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:24810.53176000002
[2025-08-20 12:23:13,997] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-19 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:13,997] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:23:13,997] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:13,997] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:27434.93176000002
[2025-08-20 12:23:14,007] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-03 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:14,007] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:23:14,007] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:14,007] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:28134.77176000002
[2025-08-20 12:23:14,009] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-07 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:14,009] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:23:14,009] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:14,009] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:28270.85176000002
[2025-08-20 12:23:14,014] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-11 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:14,014] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:23:14,014] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:14,014] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:28057.01176000002
[2025-08-20 12:23:14,017] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-16 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:14,017] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:23:14,017] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:14,017] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:30720.291760000022
[2025-08-20 12:23:14,024] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-25 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:14,024] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:23:14,024] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:14,024] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:31031.331760000023
[2025-08-20 12:23:14,026] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-29 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:14,026] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:23:14,026] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:14,026] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:31128.53176000002
[2025-08-20 12:23:14,033] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:14,034] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:23:14,034] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:14,034] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:30817.49176000002
[2025-08-20 12:23:14,041] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-15 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:14,042] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 50024.21)
[2025-08-20 12:23:14,042] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:14,042] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:30001.01176000002
[2025-08-20 12:23:14,043] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:23:14,043] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:23:54,746] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:23:54,747] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:23:54,747] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:23:54,808] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:23:54,815] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:23:54,870] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:23:54,884] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:23:54,884] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:23:54,884] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:23:54,890] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:23:54,890] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:23:54,891] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:23:54,891] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: b2ee36e0-e47d-45f3-b808-bbc4b394a782
[2025-08-20 12:23:54,891] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: b2ee36e0-e47d-45f3-b808-bbc4b394a782 | 名称: 自定义规则策略
[2025-08-20 12:23:54,891] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 12:23:54,891] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:23:54,892] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:23:54,892] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:23:54,892] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: b2ee36e0-e47d-45f3-b808-bbc4b394a782
[2025-08-20 12:23:54,892] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:23:54,902] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:54,902] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:54,902] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:54,903] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:54,903] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:54,905] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-15 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:54,905] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:54,905] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:54,905] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:54,905] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:54,926] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-24 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:54,926] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:54,927] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:54,927] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:54,927] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:54,933] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-05-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:54,933] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:54,933] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:54,933] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:54,933] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:54,956] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-04 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:54,956] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:54,956] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:54,956] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:54,956] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:54,959] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-09 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:54,959] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:54,959] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:54,959] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:54,959] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:54,961] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:54,961] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:54,961] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:54,961] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:54,961] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:54,966] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-13 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:54,966] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:54,966] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:54,966] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:54,966] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:54,970] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-19 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:54,970] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:54,971] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:54,971] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:54,971] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:54,983] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-03 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:54,983] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:54,983] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:54,983] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:54,983] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:54,985] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-07 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:54,985] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:54,985] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:54,986] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:54,986] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:54,989] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-11 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:54,989] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:54,989] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:54,989] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:54,990] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:54,993] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-16 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:54,993] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:54,993] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:54,993] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:54,993] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:55,002] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-25 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:55,002] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:55,002] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:55,002] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:55,002] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:55,004] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-29 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:55,004] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:55,004] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:55,004] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:55,005] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:55,010] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:23:55,011] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:55,011] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:55,011] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:55,011] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:55,020] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-15 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:23:55,020] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:23:55,020] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:23:55,020] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:100000.0
[2025-08-20 12:23:55,020] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:23:55,021] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:23:55,022] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:26:15,034] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:26:15,034] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:26:15,034] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:26:15,100] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:26:15,105] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:26:15,144] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:26:15,155] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:26:15,155] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:26:15,155] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:26:15,159] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:26:15,160] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:26:15,160] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:26:15,160] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: 8785b327-9bd9-4bb4-96c3-4eb22580e966
[2025-08-20 12:26:15,160] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: 8785b327-9bd9-4bb4-96c3-4eb22580e966 | 名称: 自定义规则策略
[2025-08-20 12:26:15,161] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 12:26:15,161] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:26:15,162] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:26:15,163] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:26:15,163] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: 8785b327-9bd9-4bb4-96c3-4eb22580e966
[2025-08-20 12:26:15,163] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:26:15,174] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:15,174] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,174] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,174] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,176] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-15 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:15,176] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,176] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,176] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,199] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-24 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:15,199] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,199] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,199] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,204] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-05-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:15,204] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,204] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,204] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,225] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-04 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:15,225] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,225] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,225] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,228] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-09 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:15,229] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,229] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,229] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,232] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:15,232] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,232] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,232] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,234] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-13 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:15,234] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,234] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,234] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,238] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-19 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:15,238] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,238] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,238] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,250] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-03 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:15,250] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,250] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,250] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,252] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-07 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:15,252] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,252] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,252] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,256] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-11 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:15,256] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,257] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,257] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,260] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-16 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:15,260] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,260] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,260] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,269] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-25 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:15,269] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,269] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,269] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,271] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-29 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:15,271] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,272] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,272] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,277] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:15,277] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,277] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,277] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,287] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-15 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:15,287] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:15,287] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:15,287] [ERROR] [backtesting:533] [conn:N/A] ERROR | 创建订单失败: 'price'
[2025-08-20 12:26:15,288] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:26:15,289] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:26:37,648] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:26:37,649] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:26:37,650] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:26:37,678] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:26:37,684] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:26:37,719] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:26:37,730] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:26:37,730] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:26:37,730] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:26:37,732] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:26:37,732] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:26:37,732] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:26:37,732] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: ac42d259-7e99-40eb-998e-b73fe1be3243
[2025-08-20 12:26:37,732] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: ac42d259-7e99-40eb-998e-b73fe1be3243 | 名称: 自定义规则策略
[2025-08-20 12:26:37,732] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 12:26:37,733] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:26:37,733] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:26:37,734] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:26:37,734] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: ac42d259-7e99-40eb-998e-b73fe1be3243
[2025-08-20 12:26:37,734] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:26:37,744] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:37,744] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,745] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,745] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,748] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-15 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:37,748] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,748] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,748] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,768] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-24 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:37,768] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,768] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,768] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,773] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-05-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:37,773] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,773] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,773] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,794] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-04 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:37,794] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,794] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,794] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,797] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-09 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:37,797] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,798] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,798] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,800] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:37,800] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,800] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,800] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,802] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-13 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:37,802] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,802] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,802] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,806] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-19 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:37,806] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,806] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,806] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,816] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-03 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:37,817] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,817] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,817] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,819] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-07 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:37,819] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,819] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,819] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,823] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-11 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:37,823] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,823] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,823] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,826] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-16 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:37,826] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,826] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,826] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,834] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-25 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:37,834] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,834] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,835] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,837] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-29 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:37,837] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,837] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,837] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,843] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:26:37,843] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,843] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,843] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,851] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-15 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:26:37,851] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:26:37,851] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:26:37,851] [DEBUG] [risk_manager:26] [conn:N/A] 尝试卖出：9995.157648；当前total_value:0.0000
[2025-08-20 12:26:37,852] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:26:37,853] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:27:46,247] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:27:46,247] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:27:46,247] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:27:46,271] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:27:46,275] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:27:46,309] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:27:46,319] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:27:46,319] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:27:46,319] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:27:46,321] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:27:46,321] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:27:46,322] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:27:46,322] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: 9e253c74-fbdb-49b7-99ef-2d4728719c13
[2025-08-20 12:27:46,322] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: 9e253c74-fbdb-49b7-99ef-2d4728719c13 | 名称: 自定义规则策略
[2025-08-20 12:27:46,322] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 12:27:46,322] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:27:46,323] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:27:46,323] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:27:46,323] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: 9e253c74-fbdb-49b7-99ef-2d4728719c13
[2025-08-20 12:27:46,323] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:27:46,335] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:27:46,335] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,336] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,336] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,338] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-15 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:27:46,338] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,338] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,338] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,358] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-24 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:27:46,358] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,358] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,359] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,364] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-05-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:27:46,364] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,364] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,364] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,385] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-04 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:27:46,385] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,385] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,385] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,388] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-09 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:27:46,388] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,388] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,388] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,390] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:27:46,390] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,390] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,390] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,392] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-13 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:27:46,392] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,392] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,392] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,396] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-19 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:27:46,397] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,397] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,397] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,407] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-03 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:27:46,407] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,407] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,407] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,409] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-07 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:27:46,409] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,409] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,409] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,414] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-11 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:27:46,414] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,414] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,414] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,417] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-16 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:27:46,417] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,417] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,417] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,424] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-25 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:27:46,424] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,424] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,424] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,426] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-29 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:27:46,426] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,426] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,426] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,433] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:27:46,433] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,433] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,434] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,440] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-15 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:27:46,440] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:27:46,440] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:27:46,440] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:27:46,441] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:27:46,442] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:28:31,163] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:28:31,163] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:28:31,164] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:28:31,210] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:28:31,213] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:28:31,247] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:28:31,258] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:28:31,258] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:28:31,258] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:28:31,259] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:28:31,259] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:28:31,260] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:28:31,260] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: d3834ca7-d067-4878-97d9-19378b2213f3
[2025-08-20 12:28:31,260] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: d3834ca7-d067-4878-97d9-19378b2213f3 | 名称: 自定义规则策略
[2025-08-20 12:28:31,260] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 12:28:31,261] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:28:31,262] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:28:31,262] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:28:31,262] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: d3834ca7-d067-4878-97d9-19378b2213f3
[2025-08-20 12:28:31,262] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:28:31,274] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:28:31,274] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:28:31,274] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,274] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:28:31,276] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-15 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:28:31,276] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:28:31,276] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,276] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:100000
[2025-08-20 12:28:31,276] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 972@10.28
[2025-08-20 12:28:31,276] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:28:31,276] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=10.28, 数量=972
[2025-08-20 12:28:31,276] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:28:31,276] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='BUY', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-20 12:28:31,276] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:28:31,276] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 12:28:31,276] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 12:28:31,276] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 972@10.28
[2025-08-20 12:28:31,276] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 972@10.28
[2025-08-20 12:28:31,299] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-24 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:28:31,299] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 12:28:31,299] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,299] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:5754.2400
[2025-08-20 12:28:31,303] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-05-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:28:31,303] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 12:28:31,304] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,304] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:90004.842352
[2025-08-20 12:28:31,324] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-04 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:28:31,324] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 12:28:31,324] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,324] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:12674.8800
[2025-08-20 12:28:31,324] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 12:28:31,324] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:28:31,324] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=10.28, 数量=972
[2025-08-20 12:28:31,324] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:28:31,324] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', direction='SELL', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-20 12:28:31,324] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:28:31,324] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 90004.842352 (type: <class 'float'>)
[2025-08-20 12:28:31,324] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: SELL 972@10.28, 手续费: 3.00
[2025-08-20 12:28:31,324] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 12:28:31,324] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 12:28:31,327] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-09 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:28:31,327] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 12:28:31,327] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,327] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:80009.68470400001
[2025-08-20 12:28:31,327] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 972@10.28
[2025-08-20 12:28:31,327] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:28:31,327] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_2, 成交价=10.28, 数量=972
[2025-08-20 12:28:31,327] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:28:31,327] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_2', symbol='sh.603900', direction='BUY', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 6, 9, 0, 0))
[2025-08-20 12:28:31,327] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:28:31,327] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 80009.68470400001 (type: <class 'float'>)
[2025-08-20 12:28:31,327] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 12:28:31,327] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 972@10.28
[2025-08-20 12:28:31,327] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 972@10.28
[2025-08-20 12:28:31,331] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:28:31,331] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:28:31,331] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,331] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:11897.2800
[2025-08-20 12:28:31,333] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-13 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:28:31,333] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:28:31,333] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,333] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:28:31,338] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-19 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:28:31,338] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:28:31,338] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,338] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:11294.6400
[2025-08-20 12:28:31,349] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-03 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:28:31,349] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:28:31,349] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,349] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:28:31,352] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-07 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:28:31,352] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:28:31,352] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,352] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:10876.6800
[2025-08-20 12:28:31,356] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-11 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:28:31,356] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:28:31,356] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,356] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:28:31,359] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-16 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:28:31,359] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:28:31,359] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,359] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:9651.9600
[2025-08-20 12:28:31,369] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-25 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:28:31,369] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:28:31,369] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,369] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:28:31,371] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-29 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:28:31,371] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:28:31,371] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,371] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:9447.8400
[2025-08-20 12:28:31,377] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:28:31,377] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:28:31,377] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,377] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:28:31,386] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-15 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:28:31,386] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:28:31,386] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:28:31,386] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:10011.6000
[2025-08-20 12:28:31,387] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:28:31,387] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:41:19,539] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:41:19,540] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:41:19,540] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:41:19,679] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:41:19,685] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:41:19,728] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:41:19,741] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:41:19,741] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:41:19,741] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:41:19,745] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:41:19,745] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:41:19,747] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:41:19,747] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: fccbd527-3420-4e4a-9e41-7007d5a4e2d0
[2025-08-20 12:41:19,747] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: fccbd527-3420-4e4a-9e41-7007d5a4e2d0 | 名称: 自定义规则策略
[2025-08-20 12:41:19,747] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 12:41:19,747] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:41:19,748] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:41:19,748] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:41:19,748] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: fccbd527-3420-4e4a-9e41-7007d5a4e2d0
[2025-08-20 12:41:19,748] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:41:19,748] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,749] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,750] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,750] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,751] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,751] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,751] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,752] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,752] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,752] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,753] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,753] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,753] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,754] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,754] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,754] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,755] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,756] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,756] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,756] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,757] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,757] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,757] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,758] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: True
[2025-08-20 12:41:19,758] [DEBUG] [rule_based_strategy:68] [conn:N/A] 生成 SELL 信号
[2025-08-20 12:41:19,758] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,758] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:19,758] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:41:19,758] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,758] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:41:19,759] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,759] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,759] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,760] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,760] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: True
[2025-08-20 12:41:19,760] [DEBUG] [rule_based_strategy:51] [conn:N/A] 生成 BUY 信号
[2025-08-20 12:41:19,760] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,760] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-15 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:19,761] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:41:19,761] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,761] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:100000
[2025-08-20 12:41:19,761] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 972@10.28
[2025-08-20 12:41:19,761] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:41:19,761] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=10.28, 数量=972
[2025-08-20 12:41:19,761] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:41:19,761] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='BUY', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-20 12:41:19,761] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:41:19,761] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 12:41:19,761] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 12:41:19,761] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 972@10.28
[2025-08-20 12:41:19,761] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 972@10.28
[2025-08-20 12:41:19,761] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,762] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,762] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,762] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,763] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,763] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,763] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,764] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,765] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,765] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,765] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,766] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,766] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,767] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,767] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,768] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,768] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,770] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,770] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,771] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,772] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: True
[2025-08-20 12:41:19,772] [DEBUG] [rule_based_strategy:68] [conn:N/A] 生成 SELL 信号
[2025-08-20 12:41:19,772] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,772] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-24 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:19,772] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 12:41:19,773] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,773] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:5754.2400
[2025-08-20 12:41:19,773] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,774] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,775] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,775] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,776] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,776] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,776] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,777] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,778] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,778] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,779] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,780] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,780] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,791] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: True
[2025-08-20 12:41:19,791] [DEBUG] [rule_based_strategy:51] [conn:N/A] 生成 BUY 信号
[2025-08-20 12:41:19,792] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,792] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-05-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:19,792] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 12:41:19,792] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,793] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:90004.842352
[2025-08-20 12:41:19,793] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,794] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,796] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,796] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,797] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,798] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,798] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,799] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,799] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,799] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,800] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,800] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,800] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,801] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,801] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,801] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,802] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,802] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,802] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,803] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,806] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,806] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,807] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,808] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,808] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,808] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,809] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,809] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,810] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,810] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,810] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,811] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,811] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,811] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,812] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,812] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,813] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,813] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,813] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,814] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,814] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,815] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,815] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,815] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,816] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,816] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,816] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,817] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,817] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,817] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,818] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,818] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,819] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,821] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,822] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,823] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,823] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,824] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,824] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,825] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: True
[2025-08-20 12:41:19,825] [DEBUG] [rule_based_strategy:68] [conn:N/A] 生成 SELL 信号
[2025-08-20 12:41:19,825] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,825] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-04 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:19,826] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 12:41:19,826] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,826] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:12674.8800
[2025-08-20 12:41:19,826] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 12:41:19,826] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:41:19,826] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=10.28, 数量=972
[2025-08-20 12:41:19,826] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:41:19,826] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', direction='SELL', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-20 12:41:19,826] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:41:19,826] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 90004.842352 (type: <class 'float'>)
[2025-08-20 12:41:19,826] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: SELL 972@10.28, 手续费: 3.00
[2025-08-20 12:41:19,826] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 12:41:19,826] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 12:41:19,827] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,828] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,828] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,828] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,829] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,829] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,829] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,830] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: True
[2025-08-20 12:41:19,830] [DEBUG] [rule_based_strategy:51] [conn:N/A] 生成 BUY 信号
[2025-08-20 12:41:19,830] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,830] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-09 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:19,830] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 12:41:19,830] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,830] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:80009.68470400001
[2025-08-20 12:41:19,830] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 972@10.28
[2025-08-20 12:41:19,830] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:41:19,830] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_2, 成交价=10.28, 数量=972
[2025-08-20 12:41:19,830] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:41:19,830] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_2', symbol='sh.603900', direction='BUY', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 6, 9, 0, 0))
[2025-08-20 12:41:19,830] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:41:19,830] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 80009.68470400001 (type: <class 'float'>)
[2025-08-20 12:41:19,830] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 12:41:19,830] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 972@10.28
[2025-08-20 12:41:19,830] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 972@10.28
[2025-08-20 12:41:19,831] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,831] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,832] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,832] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,832] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,833] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: True
[2025-08-20 12:41:19,833] [DEBUG] [rule_based_strategy:68] [conn:N/A] 生成 SELL 信号
[2025-08-20 12:41:19,833] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,833] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:19,833] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:19,833] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,833] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:11897.2800
[2025-08-20 12:41:19,833] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,834] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,834] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,834] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,835] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: True
[2025-08-20 12:41:19,835] [DEBUG] [rule_based_strategy:51] [conn:N/A] 生成 BUY 信号
[2025-08-20 12:41:19,835] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,835] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-13 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:19,835] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:19,835] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,835] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:41:19,836] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,836] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,837] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,837] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,838] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,838] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,838] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,839] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,839] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,839] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,840] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,840] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: True
[2025-08-20 12:41:19,840] [DEBUG] [rule_based_strategy:68] [conn:N/A] 生成 SELL 信号
[2025-08-20 12:41:19,841] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,841] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-19 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:19,841] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:19,841] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,841] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:11294.6400
[2025-08-20 12:41:19,841] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,842] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,842] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,842] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,843] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,844] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,844] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,844] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,845] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,845] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,845] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,846] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,846] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,846] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,847] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,847] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,848] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,848] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,848] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,849] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,849] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,849] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,850] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,850] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,850] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,851] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,851] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,851] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,852] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: True
[2025-08-20 12:41:19,852] [DEBUG] [rule_based_strategy:51] [conn:N/A] 生成 BUY 信号
[2025-08-20 12:41:19,852] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,852] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-03 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:19,852] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:19,852] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,852] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:41:19,852] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,853] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,855] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,855] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,856] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,856] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: True
[2025-08-20 12:41:19,856] [DEBUG] [rule_based_strategy:68] [conn:N/A] 生成 SELL 信号
[2025-08-20 12:41:19,856] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,857] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-07 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:19,857] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:19,857] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,857] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:10876.6800
[2025-08-20 12:41:19,857] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,857] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,858] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,858] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,858] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,859] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,859] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,860] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,860] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,860] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,861] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: True
[2025-08-20 12:41:19,861] [DEBUG] [rule_based_strategy:51] [conn:N/A] 生成 BUY 信号
[2025-08-20 12:41:19,861] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,861] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-11 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:19,861] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:19,861] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,861] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:41:19,861] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,862] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,862] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,862] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,863] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,863] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,864] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,864] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,865] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: True
[2025-08-20 12:41:19,865] [DEBUG] [rule_based_strategy:68] [conn:N/A] 生成 SELL 信号
[2025-08-20 12:41:19,865] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,865] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-16 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:19,865] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:19,865] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,865] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:9651.9600
[2025-08-20 12:41:19,865] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,866] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,866] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,866] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,867] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,867] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,867] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,868] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,868] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,868] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,869] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,870] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,870] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,872] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,872] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,873] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,874] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,874] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,874] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,875] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: True
[2025-08-20 12:41:19,875] [DEBUG] [rule_based_strategy:51] [conn:N/A] 生成 BUY 信号
[2025-08-20 12:41:19,875] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,875] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-25 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:19,875] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:19,875] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,876] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:41:19,876] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,876] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,877] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,877] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,877] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,878] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: True
[2025-08-20 12:41:19,878] [DEBUG] [rule_based_strategy:68] [conn:N/A] 生成 SELL 信号
[2025-08-20 12:41:19,878] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,878] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-29 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:19,878] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:19,878] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,878] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:9447.8400
[2025-08-20 12:41:19,878] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,879] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,879] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,879] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,880] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,880] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,880] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,881] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,881] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,881] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,882] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,882] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,882] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,883] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,884] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,884] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,884] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: True
[2025-08-20 12:41:19,884] [DEBUG] [rule_based_strategy:51] [conn:N/A] 生成 BUY 信号
[2025-08-20 12:41:19,884] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,884] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:19,885] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:19,885] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,885] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:41:19,885] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,885] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,886] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,886] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,886] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,887] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,888] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,889] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,889] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,889] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,890] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,890] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,891] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,891] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,891] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,892] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,892] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,893] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,893] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,894] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,894] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: True
[2025-08-20 12:41:19,894] [DEBUG] [rule_based_strategy:68] [conn:N/A] 生成 SELL 信号
[2025-08-20 12:41:19,894] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:19,894] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-15 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:19,894] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:19,894] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:19,894] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:10011.6000
[2025-08-20 12:41:19,895] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:19,895] [DEBUG] [rule_based_strategy:49] [conn:N/A] 买入规则解析结果: False
[2025-08-20 12:41:19,896] [DEBUG] [rule_based_strategy:66] [conn:N/A] 卖出规则解析结果: False
[2025-08-20 12:41:19,896] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:41:19,896] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:41:54,404] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:41:54,404] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:41:54,404] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:41:54,449] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:41:54,455] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:41:54,492] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:41:54,505] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:41:54,505] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:41:54,505] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:41:54,507] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:41:54,507] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:41:54,509] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:41:54,509] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: 9cffa9c2-ea40-4c51-b3e5-d938bcf6f8a3
[2025-08-20 12:41:54,509] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: 9cffa9c2-ea40-4c51-b3e5-d938bcf6f8a3 | 名称: 自定义规则策略
[2025-08-20 12:41:54,509] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 12:41:54,509] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:41:54,510] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:41:54,510] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:41:54,510] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: 9cffa9c2-ea40-4c51-b3e5-d938bcf6f8a3
[2025-08-20 12:41:54,510] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:41:54,510] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,512] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,514] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,515] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,517] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,518] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,519] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,520] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,523] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,524] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:54,524] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:41:54,524] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,524] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:0.0000
[2025-08-20 12:41:54,526] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,527] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,536] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,540] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-15 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:54,540] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:41:54,540] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,541] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:100000
[2025-08-20 12:41:54,541] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 972@10.28
[2025-08-20 12:41:54,541] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:41:54,541] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=10.28, 数量=972
[2025-08-20 12:41:54,541] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:41:54,541] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='BUY', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-20 12:41:54,541] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:41:54,541] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 12:41:54,541] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 12:41:54,541] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 972@10.28
[2025-08-20 12:41:54,542] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 972@10.28
[2025-08-20 12:41:54,542] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,544] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,545] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,546] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,547] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,549] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,551] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,552] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,552] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-24 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:54,552] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 12:41:54,552] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,552] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:5754.2400
[2025-08-20 12:41:54,552] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,555] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,556] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,557] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,558] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,558] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,559] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-05-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:54,559] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 12:41:54,559] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,559] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:90004.842352
[2025-08-20 12:41:54,559] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,560] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,561] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,562] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,563] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,564] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,565] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,566] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,567] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,568] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,569] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,570] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,571] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,572] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,573] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,574] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,575] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,576] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,577] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,578] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,580] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,580] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-04 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:54,580] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 90004.84)
[2025-08-20 12:41:54,580] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,580] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:12674.8800
[2025-08-20 12:41:54,580] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: SELL 972@10.28
[2025-08-20 12:41:54,580] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:41:54,580] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=10.28, 数量=972
[2025-08-20 12:41:54,580] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:41:54,580] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', direction='SELL', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-20 12:41:54,580] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:41:54,580] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 90004.842352 (type: <class 'float'>)
[2025-08-20 12:41:54,580] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: SELL 972@10.28, 手续费: 3.00
[2025-08-20 12:41:54,580] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: SELL 972@10.28
[2025-08-20 12:41:54,580] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 972@10.28
[2025-08-20 12:41:54,580] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,581] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,582] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,583] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,583] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-09 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:54,583] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 80009.68)
[2025-08-20 12:41:54,583] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,583] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:80009.68470400001
[2025-08-20 12:41:54,583] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 972@10.28
[2025-08-20 12:41:54,583] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:41:54,583] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_2, 成交价=10.28, 数量=972
[2025-08-20 12:41:54,584] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:41:54,584] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_2', symbol='sh.603900', direction='BUY', fill_price=10.28, fill_quantity=972, commission=2.997648, timestamp=datetime.datetime(2025, 6, 9, 0, 0))
[2025-08-20 12:41:54,584] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:41:54,584] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 80009.68470400001 (type: <class 'float'>)
[2025-08-20 12:41:54,584] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 972@10.28, 手续费: 3.00
[2025-08-20 12:41:54,584] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 972@10.28
[2025-08-20 12:41:54,584] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 972@10.28
[2025-08-20 12:41:54,584] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,585] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,586] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,587] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-11 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:54,587] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:54,587] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,588] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:11897.2800
[2025-08-20 12:41:54,588] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,589] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,589] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,590] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-13 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:54,590] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:54,590] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,590] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:41:54,590] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,591] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,592] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,593] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,594] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,594] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-19 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:54,594] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:54,594] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,594] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:11294.6400
[2025-08-20 12:41:54,594] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,596] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,597] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,598] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,599] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,600] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,601] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,602] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,603] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,605] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,606] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,606] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-03 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:54,606] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:54,606] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,606] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:41:54,606] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,607] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,608] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,609] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-07 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:54,609] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:54,609] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,609] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:10876.6800
[2025-08-20 12:41:54,609] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,610] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,611] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,612] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,613] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,613] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-11 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:54,613] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:54,614] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,614] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:41:54,614] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,615] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,616] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,617] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,618] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-16 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:54,618] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:54,618] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,618] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:9651.9600
[2025-08-20 12:41:54,618] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,651] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,654] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,664] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,665] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,666] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,667] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,667] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,668] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-25 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:54,668] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:54,668] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,668] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:41:54,668] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,669] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,672] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,672] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-29 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:54,672] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:54,672] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,672] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:9447.8400
[2025-08-20 12:41:54,672] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,673] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,674] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,675] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,677] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,678] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,678] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,679] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-06 00:00:00 | BUY sh.603900@10.28
[2025-08-20 12:41:54,679] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:54,679] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,679] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9995.157648；当前available_cash:70014.52705600002
[2025-08-20 12:41:54,679] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,680] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,681] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,682] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,683] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,684] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,687] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,688] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.28
[2025-08-20 12:41:54,688] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-15 00:00:00 | SELL sh.603900@10.28
[2025-08-20 12:41:54,688] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 70014.53)
[2025-08-20 12:41:54,688] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 972 股 (价格: 10.28, 仓位金额: 10000.00)
[2025-08-20 12:41:54,688] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:10011.6000
[2025-08-20 12:41:54,688] [DEBUG] [rule_based_strategy:92] [conn:N/A] on_schedule被触发
[2025-08-20 12:41:54,689] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:41:54,690] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:45:14,252] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:45:14,252] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:45:14,253] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:45:14,278] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:45:14,281] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:45:14,315] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:45:14,326] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:45:14,326] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:45:14,326] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:45:14,327] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:45:14,328] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:45:14,329] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:45:14,329] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: 09588414-7064-4a45-ba08-f3249ecfe2b9
[2025-08-20 12:45:14,329] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: 09588414-7064-4a45-ba08-f3249ecfe2b9 | 名称: 自定义规则策略
[2025-08-20 12:45:14,329] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 12:45:14,329] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:45:14,330] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:45:14,330] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:45:14,330] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: 09588414-7064-4a45-ba08-f3249ecfe2b9
[2025-08-20 12:45:14,330] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:45:14,342] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 73, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,350] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 56, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,368] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 73, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,372] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 56, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,392] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 73, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,395] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 56, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,397] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 73, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,398] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 56, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,402] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 73, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,412] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 56, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,414] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 73, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,418] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 56, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,422] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 73, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,429] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 56, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,431] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 73, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,441] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 56, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,449] [ERROR] [rule_based_strategy:84] [conn:N/A] 规则解析失败: 'decimal.Decimal' object has no attribute 'iloc'
Traceback (most recent call last):
  File "/Users/gaogao/Documents/vsc_work/awesome-Qsys/src/core/strategy/rule_based_strategy.py", line 73, in generate_signals
    price=float(self.Data.loc[self.parser.current_index,'close'].iloc[-1]),
AttributeError: 'decimal.Decimal' object has no attribute 'iloc'
[2025-08-20 12:45:14,450] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:45:14,451] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:45:55,235] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:45:55,235] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:45:55,236] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:45:55,290] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:45:55,297] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:45:55,332] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:45:55,344] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:45:55,344] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:45:55,356] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:45:55,379] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:45:55,379] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:45:55,381] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:45:55,390] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: cb623bde-2d88-4633-af02-125869a5ee65
[2025-08-20 12:45:55,390] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: cb623bde-2d88-4633-af02-125869a5ee65 | 名称: 自定义规则策略
[2025-08-20 12:45:55,390] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 12:45:55,390] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:45:55,391] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:45:55,391] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:45:55,391] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: cb623bde-2d88-4633-af02-125869a5ee65
[2025-08-20 12:45:55,391] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:45:55,401] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:6.06
[2025-08-20 12:45:55,403] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-11 00:00:00 | SELL sh.603900@6.06
[2025-08-20 12:45:55,403] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:45:55,403] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 1650 股 (价格: 6.06, 仓位金额: 10000.00)
[2025-08-20 12:45:55,403] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：10001.9997；当前position_amount:0.0000
[2025-08-20 12:45:55,423] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:6.23
[2025-08-20 12:45:55,424] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-15 00:00:00 | BUY sh.603900@6.23
[2025-08-20 12:45:55,424] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 100000.00)
[2025-08-20 12:45:55,424] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 1605 股 (价格: 6.23, 仓位金额: 10000.00)
[2025-08-20 12:45:55,424] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.149745；当前available_cash:100000
[2025-08-20 12:45:55,424] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 1605@6.23
[2025-08-20 12:45:55,424] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:45:55,424] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=6.23, 数量=1605
[2025-08-20 12:45:55,424] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:45:55,424] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='BUY', fill_price=6.23, fill_quantity=1605, commission=2.9997450000000003, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-20 12:45:55,424] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 10002.149745 (type: <class 'float'>)
[2025-08-20 12:45:55,424] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 12:45:55,424] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 1605@6.23, 手续费: 3.00
[2025-08-20 12:45:55,424] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 1605@6.23
[2025-08-20 12:45:55,424] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 1605@6.23
[2025-08-20 12:45:55,431] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:5.92
[2025-08-20 12:45:55,432] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-04-24 00:00:00 | SELL sh.603900@5.92
[2025-08-20 12:45:55,432] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,432] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 1689 股 (价格: 5.92, 仓位金额: 10000.00)
[2025-08-20 12:45:55,432] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：10001.879663999998；当前position_amount:9501.6000
[2025-08-20 12:45:55,438] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:7.38
[2025-08-20 12:45:55,438] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-05-06 00:00:00 | BUY sh.603900@7.38
[2025-08-20 12:45:55,438] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,439] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 1355 股 (价格: 7.38, 仓位金额: 10000.00)
[2025-08-20 12:45:55,439] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.899969999999；当前available_cash:89997.850255
[2025-08-20 12:45:55,460] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:13.04
[2025-08-20 12:45:55,460] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-04 00:00:00 | SELL sh.603900@13.04
[2025-08-20 12:45:55,460] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,460] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 766 股 (价格: 13.04, 仓位金额: 10000.00)
[2025-08-20 12:45:55,460] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9991.636591999999；当前position_amount:20929.2000
[2025-08-20 12:45:55,463] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:11.73
[2025-08-20 12:45:55,463] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-09 00:00:00 | BUY sh.603900@11.73
[2025-08-20 12:45:55,463] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,463] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 852 股 (价格: 11.73, 仓位金额: 10000.00)
[2025-08-20 12:45:55,463] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9996.958188；当前available_cash:89997.850255
[2025-08-20 12:45:55,465] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:12.24
[2025-08-20 12:45:55,466] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-11 00:00:00 | SELL sh.603900@12.24
[2025-08-20 12:45:55,466] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,466] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 816 股 (价格: 12.24, 仓位金额: 10000.00)
[2025-08-20 12:45:55,466] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9990.836352；当前position_amount:19645.2000
[2025-08-20 12:45:55,468] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:12.97
[2025-08-20 12:45:55,468] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-13 00:00:00 | BUY sh.603900@12.97
[2025-08-20 12:45:55,468] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,468] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 771 股 (价格: 12.97, 仓位金额: 10000.00)
[2025-08-20 12:45:55,468] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.869961；当前available_cash:89997.850255
[2025-08-20 12:45:55,473] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:11.62
[2025-08-20 12:45:55,473] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-06-19 00:00:00 | SELL sh.603900@11.62
[2025-08-20 12:45:55,473] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,473] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 860 股 (价格: 11.62, 仓位金额: 10000.00)
[2025-08-20 12:45:55,473] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9996.197959999998；当前position_amount:18650.1000
[2025-08-20 12:45:55,482] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:11.26
[2025-08-20 12:45:55,483] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-03 00:00:00 | BUY sh.603900@11.26
[2025-08-20 12:45:55,483] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,483] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 888 股 (价格: 11.26, 仓位金额: 10000.00)
[2025-08-20 12:45:55,483] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10001.879663999998；当前available_cash:89997.850255
[2025-08-20 12:45:55,487] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:11.19
[2025-08-20 12:45:55,487] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-07 00:00:00 | SELL sh.603900@11.19
[2025-08-20 12:45:55,487] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,487] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 893 股 (价格: 11.19, 仓位金额: 10000.00)
[2025-08-20 12:45:55,487] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.667801；当前position_amount:17959.9500
[2025-08-20 12:45:55,491] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:11.3
[2025-08-20 12:45:55,492] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-11 00:00:00 | BUY sh.603900@11.3
[2025-08-20 12:45:55,492] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,492] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 884 股 (价格: 11.30, 仓位金额: 10000.00)
[2025-08-20 12:45:55,492] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9992.19676；当前available_cash:89997.850255
[2025-08-20 12:45:55,495] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:9.93
[2025-08-20 12:45:55,496] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-16 00:00:00 | SELL sh.603900@9.93
[2025-08-20 12:45:55,496] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,496] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 1007 股 (价格: 9.93, 仓位金额: 10000.00)
[2025-08-20 12:45:55,496] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：10002.509853；当前position_amount:15937.6500
[2025-08-20 12:45:55,503] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:9.77
[2025-08-20 12:45:55,503] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-25 00:00:00 | BUY sh.603900@9.77
[2025-08-20 12:45:55,503] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,503] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 1023 股 (价格: 9.77, 仓位金额: 10000.00)
[2025-08-20 12:45:55,503] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9997.708412999998；当前available_cash:89997.850255
[2025-08-20 12:45:55,505] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:9.72
[2025-08-20 12:45:55,506] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-07-29 00:00:00 | SELL sh.603900@9.72
[2025-08-20 12:45:55,506] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,506] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 1028 股 (价格: 9.72, 仓位金额: 10000.00)
[2025-08-20 12:45:55,506] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:15600.6000
[2025-08-20 12:45:55,512] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:9.88
[2025-08-20 12:45:55,512] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-06 00:00:00 | BUY sh.603900@9.88
[2025-08-20 12:45:55,512] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,512] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 1012 股 (价格: 9.88, 仓位金额: 10000.00)
[2025-08-20 12:45:55,512] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10001.559568；当前available_cash:89997.850255
[2025-08-20 12:45:55,520] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.3
[2025-08-20 12:45:55,520] [DEBUG] [backtesting:335] [conn:N/A] 开始处理策略信号: 2025-08-15 00:00:00 | SELL sh.603900@10.3
[2025-08-20 12:45:55,520] [DEBUG] [backtesting:339] [conn:N/A] 计算仓位金额: 10000.00 (当前资金: 89997.85)
[2025-08-20 12:45:55,520] [DEBUG] [backtesting:343] [conn:N/A] 计算订单数量: 970 股 (价格: 10.30, 仓位金额: 10000.00)
[2025-08-20 12:45:55,520] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9993.997299999999；当前position_amount:16531.5000
[2025-08-20 12:45:55,521] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:45:55,522] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:48:24,620] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:48:24,620] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:48:24,621] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:48:25,255] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:48:25,267] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:48:25,372] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:48:25,449] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:48:25,449] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:48:25,449] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:48:25,454] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:48:25,454] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:48:25,455] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:48:25,456] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: 0802ec32-f151-41b3-b4a7-7ef4902fbc0b
[2025-08-20 12:48:25,456] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: 0802ec32-f151-41b3-b4a7-7ef4902fbc0b | 名称: 自定义规则策略
[2025-08-20 12:48:25,456] [DEBUG] [backtesting:279] [conn:N/A] 开始回测...
[2025-08-20 12:48:25,456] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:48:25,462] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:48:25,463] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:48:25,463] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: 0802ec32-f151-41b3-b4a7-7ef4902fbc0b
[2025-08-20 12:48:25,463] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:48:25,475] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:6.06
[2025-08-20 12:48:25,475] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：10001.9997；当前position_amount:0.0000
[2025-08-20 12:48:25,477] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:6.23
[2025-08-20 12:48:25,478] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.149745；当前available_cash:100000
[2025-08-20 12:48:25,478] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 1605@6.23
[2025-08-20 12:48:25,478] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:48:25,478] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=6.23, 数量=1605
[2025-08-20 12:48:25,478] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:48:25,478] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='BUY', fill_price=6.23, fill_quantity=1605, commission=2.9997450000000003, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-20 12:48:25,478] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 10002.149745 (type: <class 'float'>)
[2025-08-20 12:48:25,478] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 12:48:25,478] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 1605@6.23, 手续费: 3.00
[2025-08-20 12:48:25,478] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 1605@6.23
[2025-08-20 12:48:25,478] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 1605@6.23
[2025-08-20 12:48:25,487] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:5.92
[2025-08-20 12:48:25,487] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：10001.879663999998；当前position_amount:9501.6000
[2025-08-20 12:48:25,492] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:7.38
[2025-08-20 12:48:25,493] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.899969999999；当前available_cash:89997.850255
[2025-08-20 12:48:25,528] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:13.04
[2025-08-20 12:48:25,528] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9991.636591999999；当前position_amount:20929.2000
[2025-08-20 12:48:25,531] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:11.73
[2025-08-20 12:48:25,531] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9996.958188；当前available_cash:89997.850255
[2025-08-20 12:48:25,533] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:12.24
[2025-08-20 12:48:25,533] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9990.836352；当前position_amount:19645.2000
[2025-08-20 12:48:25,535] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:12.97
[2025-08-20 12:48:25,536] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.869961；当前available_cash:89997.850255
[2025-08-20 12:48:25,540] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:11.62
[2025-08-20 12:48:25,540] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9996.197959999998；当前position_amount:18650.1000
[2025-08-20 12:48:25,550] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:11.26
[2025-08-20 12:48:25,550] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10001.879663999998；当前available_cash:89997.850255
[2025-08-20 12:48:25,552] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:11.19
[2025-08-20 12:48:25,553] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.667801；当前position_amount:17959.9500
[2025-08-20 12:48:25,556] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:11.3
[2025-08-20 12:48:25,556] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9992.19676；当前available_cash:89997.850255
[2025-08-20 12:48:25,559] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:9.93
[2025-08-20 12:48:25,559] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：10002.509853；当前position_amount:15937.6500
[2025-08-20 12:48:25,566] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:9.77
[2025-08-20 12:48:25,566] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9997.708412999998；当前available_cash:89997.850255
[2025-08-20 12:48:25,569] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:9.72
[2025-08-20 12:48:25,569] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:15600.6000
[2025-08-20 12:48:25,575] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:9.88
[2025-08-20 12:48:25,575] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10001.559568；当前available_cash:89997.850255
[2025-08-20 12:48:25,582] [DEBUG] [rule_based_strategy:97] [conn:N/A] 当前信号事件的close:10.3
[2025-08-20 12:48:25,583] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9993.997299999999；当前position_amount:16531.5000
[2025-08-20 12:48:25,584] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:48:25,584] [DEBUG] [backtesting:292] [conn:N/A] 回测完成！
[2025-08-20 12:51:48,800] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:51:48,801] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:51:48,801] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:51:48,823] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:51:48,827] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:51:48,860] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:51:48,871] [DEBUG] [backtesting:547] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:51:48,871] [DEBUG] [backtesting:547] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:51:48,871] [DEBUG] [backtesting:547] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:51:48,873] [DEBUG] [backtesting:547] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:51:48,873] [DEBUG] [backtesting:547] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:51:48,875] [DEBUG] [backtesting:547] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:51:48,875] [DEBUG] [backtesting:572] [conn:N/A] 注册策略调度处理器: 9290e2b1-2f04-411c-b19f-7309e6a12fde
[2025-08-20 12:51:48,875] [INFO] [backtesting:575] [conn:N/A] 策略注册成功 | ID: 9290e2b1-2f04-411c-b19f-7309e6a12fde | 名称: 自定义规则策略
[2025-08-20 12:51:48,875] [DEBUG] [backtesting:280] [conn:N/A] 开始回测...
[2025-08-20 12:51:48,875] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:51:48,876] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:51:48,876] [INFO] [backtesting:622] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:51:48,876] [INFO] [backtesting:634] [conn:N/A] 策略初始化完成: 9290e2b1-2f04-411c-b19f-7309e6a12fde
[2025-08-20 12:51:48,876] [INFO] [backtesting:652] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:51:48,886] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：10001.9997；当前position_amount:0.0000
[2025-08-20 12:51:48,886] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,888] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.149745；当前available_cash:100000
[2025-08-20 12:51:48,888] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 1605@6.23
[2025-08-20 12:51:48,888] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:51:48,888] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=6.23, 数量=1605
[2025-08-20 12:51:48,888] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:51:48,888] [DEBUG] [backtesting:720] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='BUY', fill_price=6.23, fill_quantity=1605, commission=2.9997450000000003, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-20 12:51:48,888] [DEBUG] [backtesting:734] [conn:N/A] [DEBUG] total_cost 计算结果: 10002.149745 (type: <class 'float'>)
[2025-08-20 12:51:48,888] [DEBUG] [backtesting:742] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 12:51:48,888] [INFO] [backtesting:791] [conn:N/A] 成交回报处理完成: BUY 1605@6.23, 手续费: 3.00
[2025-08-20 12:51:48,888] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 1605@6.23
[2025-08-20 12:51:48,888] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 1605@6.23
[2025-08-20 12:51:48,897] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：10001.879663999998；当前position_amount:9501.6000
[2025-08-20 12:51:48,897] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,903] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.899969999999；当前available_cash:89997.850255
[2025-08-20 12:51:48,904] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,937] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9991.636591999999；当前position_amount:20929.2000
[2025-08-20 12:51:48,937] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,940] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9996.958188；当前available_cash:89997.850255
[2025-08-20 12:51:48,940] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,942] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9990.836352；当前position_amount:19645.2000
[2025-08-20 12:51:48,942] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,944] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.869961；当前available_cash:89997.850255
[2025-08-20 12:51:48,944] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,949] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9996.197959999998；当前position_amount:18650.1000
[2025-08-20 12:51:48,950] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,960] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10001.879663999998；当前available_cash:89997.850255
[2025-08-20 12:51:48,960] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,962] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.667801；当前position_amount:17959.9500
[2025-08-20 12:51:48,962] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,967] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9992.19676；当前available_cash:89997.850255
[2025-08-20 12:51:48,967] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,971] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：10002.509853；当前position_amount:15937.6500
[2025-08-20 12:51:48,971] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,978] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9997.708412999998；当前available_cash:89997.850255
[2025-08-20 12:51:48,978] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,980] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:15600.6000
[2025-08-20 12:51:48,980] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,987] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10001.559568；当前available_cash:89997.850255
[2025-08-20 12:51:48,987] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,994] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9993.997299999999；当前position_amount:16531.5000
[2025-08-20 12:51:48,994] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:51:48,996] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:51:48,996] [DEBUG] [backtesting:293] [conn:N/A] 回测完成！
[2025-08-20 12:53:15,099] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:53:15,099] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:53:15,099] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:53:15,125] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:53:15,129] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:53:15,172] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:53:15,183] [DEBUG] [backtesting:547] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:53:15,183] [DEBUG] [backtesting:547] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:53:15,183] [DEBUG] [backtesting:547] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:53:15,185] [DEBUG] [backtesting:547] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:53:15,185] [DEBUG] [backtesting:547] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:53:15,185] [DEBUG] [backtesting:547] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:53:15,185] [DEBUG] [backtesting:572] [conn:N/A] 注册策略调度处理器: 8a6c1c6e-7795-49a2-939e-6e5bc2f34420
[2025-08-20 12:53:15,185] [INFO] [backtesting:575] [conn:N/A] 策略注册成功 | ID: 8a6c1c6e-7795-49a2-939e-6e5bc2f34420 | 名称: 自定义规则策略
[2025-08-20 12:53:15,185] [DEBUG] [backtesting:280] [conn:N/A] 开始回测...
[2025-08-20 12:53:15,186] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:53:15,186] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:53:15,187] [INFO] [backtesting:622] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:53:15,187] [INFO] [backtesting:634] [conn:N/A] 策略初始化完成: 8a6c1c6e-7795-49a2-939e-6e5bc2f34420
[2025-08-20 12:53:15,187] [INFO] [backtesting:652] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:53:15,197] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：10001.9997；当前position_amount:0.0000
[2025-08-20 12:53:15,198] [DEBUG] [risk_manager:28] [conn:N/A] False
[2025-08-20 12:53:15,199] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,202] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.149745；当前available_cash:100000
[2025-08-20 12:53:15,202] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 1605@6.23
[2025-08-20 12:53:15,202] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:53:15,202] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=6.23, 数量=1605
[2025-08-20 12:53:15,202] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:53:15,203] [DEBUG] [backtesting:720] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='BUY', fill_price=6.23, fill_quantity=1605, commission=2.9997450000000003, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-20 12:53:15,203] [DEBUG] [backtesting:734] [conn:N/A] [DEBUG] total_cost 计算结果: 10002.149745 (type: <class 'float'>)
[2025-08-20 12:53:15,203] [DEBUG] [backtesting:742] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 12:53:15,203] [INFO] [backtesting:791] [conn:N/A] 成交回报处理完成: BUY 1605@6.23, 手续费: 3.00
[2025-08-20 12:53:15,203] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 1605@6.23
[2025-08-20 12:53:15,203] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 1605@6.23
[2025-08-20 12:53:15,223] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：10001.879663999998；当前position_amount:9501.6000
[2025-08-20 12:53:15,223] [DEBUG] [risk_manager:28] [conn:N/A] False
[2025-08-20 12:53:15,223] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,228] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.899969999999；当前available_cash:89997.850255
[2025-08-20 12:53:15,228] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,250] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9991.636591999999；当前position_amount:20929.2000
[2025-08-20 12:53:15,250] [DEBUG] [risk_manager:28] [conn:N/A] True
[2025-08-20 12:53:15,250] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,253] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9996.958188；当前available_cash:89997.850255
[2025-08-20 12:53:15,253] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,255] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9990.836352；当前position_amount:19645.2000
[2025-08-20 12:53:15,256] [DEBUG] [risk_manager:28] [conn:N/A] True
[2025-08-20 12:53:15,256] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,257] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.869961；当前available_cash:89997.850255
[2025-08-20 12:53:15,257] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,261] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9996.197959999998；当前position_amount:18650.1000
[2025-08-20 12:53:15,262] [DEBUG] [risk_manager:28] [conn:N/A] True
[2025-08-20 12:53:15,262] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,273] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10001.879663999998；当前available_cash:89997.850255
[2025-08-20 12:53:15,273] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,275] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.667801；当前position_amount:17959.9500
[2025-08-20 12:53:15,275] [DEBUG] [risk_manager:28] [conn:N/A] True
[2025-08-20 12:53:15,275] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,279] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9992.19676；当前available_cash:89997.850255
[2025-08-20 12:53:15,279] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,284] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：10002.509853；当前position_amount:15937.6500
[2025-08-20 12:53:15,284] [DEBUG] [risk_manager:28] [conn:N/A] True
[2025-08-20 12:53:15,284] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,292] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9997.708412999998；当前available_cash:89997.850255
[2025-08-20 12:53:15,292] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,294] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:15600.6000
[2025-08-20 12:53:15,294] [DEBUG] [risk_manager:28] [conn:N/A] True
[2025-08-20 12:53:15,294] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,301] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10001.559568；当前available_cash:89997.850255
[2025-08-20 12:53:15,301] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,307] [DEBUG] [risk_manager:27] [conn:N/A] 资金检查：尝试卖出：9993.997299999999；当前position_amount:16531.5000
[2025-08-20 12:53:15,307] [DEBUG] [risk_manager:28] [conn:N/A] True
[2025-08-20 12:53:15,308] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:53:15,309] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:53:15,309] [DEBUG] [backtesting:293] [conn:N/A] 回测完成！
[2025-08-20 12:54:36,749] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:54:36,749] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:54:36,750] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:54:36,835] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:54:36,848] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:54:36,898] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:54:36,911] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:54:36,912] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:54:36,912] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:54:36,919] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:54:36,920] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:54:36,921] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:54:36,921] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: 162b98a7-a34b-4afa-a782-b4a755cd345f
[2025-08-20 12:54:36,921] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: 162b98a7-a34b-4afa-a782-b4a755cd345f | 名称: 自定义规则策略
[2025-08-20 12:54:36,921] [DEBUG] [backtesting:280] [conn:N/A] 开始回测...
[2025-08-20 12:54:36,921] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:54:36,922] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:54:36,922] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:54:36,922] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: 162b98a7-a34b-4afa-a782-b4a755cd345f
[2025-08-20 12:54:36,922] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:54:36,930] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：10001.9997；当前position_amount:0.0000
[2025-08-20 12:54:36,930] [DEBUG] [risk_manager:29] [conn:N/A] False
[2025-08-20 12:54:36,930] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:36,932] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.149745；当前available_cash:100000
[2025-08-20 12:54:36,933] [DEBUG] [risk_manager:25] [conn:N/A] True
[2025-08-20 12:54:36,933] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 1605@6.23
[2025-08-20 12:54:36,933] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:54:36,933] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=6.23, 数量=1605
[2025-08-20 12:54:36,933] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:54:36,933] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='BUY', fill_price=6.23, fill_quantity=1605, commission=2.9997450000000003, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-20 12:54:36,933] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 10002.149745 (type: <class 'float'>)
[2025-08-20 12:54:36,933] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 12:54:36,933] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 1605@6.23, 手续费: 3.00
[2025-08-20 12:54:36,933] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 1605@6.23
[2025-08-20 12:54:36,933] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 1605@6.23
[2025-08-20 12:54:36,957] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：10001.879663999998；当前position_amount:9501.6000
[2025-08-20 12:54:36,957] [DEBUG] [risk_manager:29] [conn:N/A] False
[2025-08-20 12:54:36,957] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:36,962] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.899969999999；当前available_cash:89997.850255
[2025-08-20 12:54:36,962] [DEBUG] [risk_manager:25] [conn:N/A] True
[2025-08-20 12:54:36,963] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:37,006] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：9991.636591999999；当前position_amount:20929.2000
[2025-08-20 12:54:37,006] [DEBUG] [risk_manager:29] [conn:N/A] True
[2025-08-20 12:54:37,006] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:37,009] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9996.958188；当前available_cash:89997.850255
[2025-08-20 12:54:37,009] [DEBUG] [risk_manager:25] [conn:N/A] True
[2025-08-20 12:54:37,009] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:37,011] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：9990.836352；当前position_amount:19645.2000
[2025-08-20 12:54:37,011] [DEBUG] [risk_manager:29] [conn:N/A] True
[2025-08-20 12:54:37,011] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:37,013] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.869961；当前available_cash:89997.850255
[2025-08-20 12:54:37,013] [DEBUG] [risk_manager:25] [conn:N/A] True
[2025-08-20 12:54:37,013] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:37,019] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：9996.197959999998；当前position_amount:18650.1000
[2025-08-20 12:54:37,019] [DEBUG] [risk_manager:29] [conn:N/A] True
[2025-08-20 12:54:37,019] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:37,028] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10001.879663999998；当前available_cash:89997.850255
[2025-08-20 12:54:37,028] [DEBUG] [risk_manager:25] [conn:N/A] True
[2025-08-20 12:54:37,028] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:37,030] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：9995.667801；当前position_amount:17959.9500
[2025-08-20 12:54:37,030] [DEBUG] [risk_manager:29] [conn:N/A] True
[2025-08-20 12:54:37,030] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:37,035] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9992.19676；当前available_cash:89997.850255
[2025-08-20 12:54:37,035] [DEBUG] [risk_manager:25] [conn:N/A] True
[2025-08-20 12:54:37,035] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:37,038] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：10002.509853；当前position_amount:15937.6500
[2025-08-20 12:54:37,038] [DEBUG] [risk_manager:29] [conn:N/A] True
[2025-08-20 12:54:37,038] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:37,045] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9997.708412999998；当前available_cash:89997.850255
[2025-08-20 12:54:37,045] [DEBUG] [risk_manager:25] [conn:N/A] True
[2025-08-20 12:54:37,045] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:37,047] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:15600.6000
[2025-08-20 12:54:37,047] [DEBUG] [risk_manager:29] [conn:N/A] True
[2025-08-20 12:54:37,047] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:37,053] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10001.559568；当前available_cash:89997.850255
[2025-08-20 12:54:37,054] [DEBUG] [risk_manager:25] [conn:N/A] True
[2025-08-20 12:54:37,054] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:37,061] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：9993.997299999999；当前position_amount:16531.5000
[2025-08-20 12:54:37,061] [DEBUG] [risk_manager:29] [conn:N/A] True
[2025-08-20 12:54:37,061] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:54:37,062] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:54:37,062] [DEBUG] [backtesting:293] [conn:N/A] 回测完成！
[2025-08-20 12:56:15,316] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:56:15,317] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 12:56:15,317] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 12:56:15,341] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 12:56:15,345] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 12:56:15,381] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 12:56:15,400] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:56:15,401] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 12:56:15,401] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 12:56:15,402] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:56:15,403] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 12:56:15,403] [DEBUG] [backtesting:546] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 12:56:15,403] [DEBUG] [backtesting:571] [conn:N/A] 注册策略调度处理器: 12f32cc4-ea2d-4294-8527-1138b0693ad6
[2025-08-20 12:56:15,403] [INFO] [backtesting:574] [conn:N/A] 策略注册成功 | ID: 12f32cc4-ea2d-4294-8527-1138b0693ad6 | 名称: 自定义规则策略
[2025-08-20 12:56:15,403] [DEBUG] [backtesting:280] [conn:N/A] 开始回测...
[2025-08-20 12:56:15,403] [DEBUG] [backtesting:229] [conn:N/A] 识别数据频率为：日线
[2025-08-20 12:56:15,404] [DEBUG] [backtesting:255] [conn:N/A] 开始回测...
[2025-08-20 12:56:15,405] [INFO] [backtesting:621] [conn:N/A] 回测系统初始化开始
[2025-08-20 12:56:15,405] [INFO] [backtesting:633] [conn:N/A] 策略初始化完成: 12f32cc4-ea2d-4294-8527-1138b0693ad6
[2025-08-20 12:56:15,405] [INFO] [backtesting:651] [conn:N/A] 回测系统初始化完成
[2025-08-20 12:56:15,416] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：10001.9997；当前position_amount:0.0000
[2025-08-20 12:56:15,417] [DEBUG] [risk_manager:29] [conn:N/A] False
[2025-08-20 12:56:15,417] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:56:15,419] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.149745；当前available_cash:100000
[2025-08-20 12:56:15,419] [DEBUG] [risk_manager:25] [conn:N/A] True
[2025-08-20 12:56:15,419] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 1605@6.23
[2025-08-20 12:56:15,419] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:56:15,419] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=6.23, 数量=1605
[2025-08-20 12:56:15,419] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:56:15,419] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='BUY', fill_price=6.23, fill_quantity=1605, commission=2.9997450000000003, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-20 12:56:15,419] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 10002.149745 (type: <class 'float'>)
[2025-08-20 12:56:15,419] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 12:56:15,419] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 1605@6.23, 手续费: 3.00
[2025-08-20 12:56:15,419] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 1605@6.23
[2025-08-20 12:56:15,419] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 1605@6.23
[2025-08-20 12:56:15,437] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：10001.879663999998；当前position_amount:9501.6000
[2025-08-20 12:56:15,437] [DEBUG] [risk_manager:29] [conn:N/A] False
[2025-08-20 12:56:15,437] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:56:15,443] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.899969999999；当前available_cash:89997.850255
[2025-08-20 12:56:15,443] [DEBUG] [risk_manager:25] [conn:N/A] True
[2025-08-20 12:56:15,443] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 1355@7.38
[2025-08-20 12:56:15,443] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:56:15,443] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=7.38, 数量=1355
[2025-08-20 12:56:15,444] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:56:15,444] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', direction='BUY', fill_price=7.38, fill_quantity=1355, commission=2.99997, timestamp=datetime.datetime(2025, 5, 6, 0, 0))
[2025-08-20 12:56:15,444] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 10002.89997 (type: <class 'float'>)
[2025-08-20 12:56:15,444] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 89997.850255 (type: <class 'float'>)
[2025-08-20 12:56:15,444] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 1355@7.38, 手续费: 3.00
[2025-08-20 12:56:15,444] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 1355@7.38
[2025-08-20 12:56:15,444] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 1355@7.38
[2025-08-20 12:56:15,465] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：9991.636591999999；当前position_amount:38598.4000
[2025-08-20 12:56:15,465] [DEBUG] [risk_manager:29] [conn:N/A] True
[2025-08-20 12:56:15,465] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: SELL 766@13.04
[2025-08-20 12:56:15,466] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:56:15,466] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_2, 成交价=13.04, 数量=766
[2025-08-20 12:56:15,466] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:56:15,466] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_2', symbol='sh.603900', direction='SELL', fill_price=13.04, fill_quantity=766, commission=2.9965919999999997, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-20 12:56:15,466] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9991.636591999999 (type: <class 'float'>)
[2025-08-20 12:56:15,466] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 79994.950285 (type: <class 'float'>)
[2025-08-20 12:56:15,466] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: SELL 766@13.04, 手续费: 3.00
[2025-08-20 12:56:15,466] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: SELL 766@13.04
[2025-08-20 12:56:15,466] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 766@13.04
[2025-08-20 12:56:15,468] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9996.958188；当前available_cash:70003.313693
[2025-08-20 12:56:15,469] [DEBUG] [risk_manager:25] [conn:N/A] True
[2025-08-20 12:56:15,469] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 852@11.73
[2025-08-20 12:56:15,469] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:56:15,469] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_3, 成交价=11.73, 数量=852
[2025-08-20 12:56:15,469] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:56:15,469] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_3', symbol='sh.603900', direction='BUY', fill_price=11.73, fill_quantity=852, commission=2.998188, timestamp=datetime.datetime(2025, 6, 9, 0, 0))
[2025-08-20 12:56:15,469] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9996.958188 (type: <class 'float'>)
[2025-08-20 12:56:15,469] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 70003.313693 (type: <class 'float'>)
[2025-08-20 12:56:15,469] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 852@11.73, 手续费: 3.00
[2025-08-20 12:56:15,469] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 852@11.73
[2025-08-20 12:56:15,469] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 852@11.73
[2025-08-20 12:56:15,471] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：9990.836352；当前position_amount:37283.0400
[2025-08-20 12:56:15,471] [DEBUG] [risk_manager:29] [conn:N/A] True
[2025-08-20 12:56:15,471] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: SELL 816@12.24
[2025-08-20 12:56:15,471] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:56:15,472] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_4, 成交价=12.24, 数量=816
[2025-08-20 12:56:15,472] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:56:15,472] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_4', symbol='sh.603900', direction='SELL', fill_price=12.24, fill_quantity=816, commission=2.996352, timestamp=datetime.datetime(2025, 6, 11, 0, 0))
[2025-08-20 12:56:15,472] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9990.836352 (type: <class 'float'>)
[2025-08-20 12:56:15,472] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 60006.355505 (type: <class 'float'>)
[2025-08-20 12:56:15,472] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: SELL 816@12.24, 手续费: 3.00
[2025-08-20 12:56:15,472] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: SELL 816@12.24
[2025-08-20 12:56:15,472] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 816@12.24
[2025-08-20 12:56:15,474] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10002.869961；当前available_cash:50015.519153
[2025-08-20 12:56:15,474] [DEBUG] [risk_manager:25] [conn:N/A] True
[2025-08-20 12:56:15,474] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 771@12.97
[2025-08-20 12:56:15,474] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:56:15,474] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_5, 成交价=12.97, 数量=771
[2025-08-20 12:56:15,474] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:56:15,474] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_5', symbol='sh.603900', direction='BUY', fill_price=12.97, fill_quantity=771, commission=2.999961, timestamp=datetime.datetime(2025, 6, 13, 0, 0))
[2025-08-20 12:56:15,474] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 10002.869961 (type: <class 'float'>)
[2025-08-20 12:56:15,474] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 50015.519153 (type: <class 'float'>)
[2025-08-20 12:56:15,474] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 771@12.97, 手续费: 3.00
[2025-08-20 12:56:15,474] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 771@12.97
[2025-08-20 12:56:15,474] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 771@12.97
[2025-08-20 12:56:15,478] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：9996.197959999998；当前position_amount:34871.6200
[2025-08-20 12:56:15,478] [DEBUG] [risk_manager:29] [conn:N/A] True
[2025-08-20 12:56:15,478] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: SELL 860@11.62
[2025-08-20 12:56:15,478] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:56:15,478] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_6, 成交价=11.62, 数量=860
[2025-08-20 12:56:15,478] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:56:15,478] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_6', symbol='sh.603900', direction='SELL', fill_price=11.62, fill_quantity=860, commission=2.9979599999999995, timestamp=datetime.datetime(2025, 6, 19, 0, 0))
[2025-08-20 12:56:15,479] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9996.19796 (type: <class 'float'>)
[2025-08-20 12:56:15,479] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 40012.649192 (type: <class 'float'>)
[2025-08-20 12:56:15,479] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: SELL 860@11.62, 手续费: 3.00
[2025-08-20 12:56:15,479] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: SELL 860@11.62
[2025-08-20 12:56:15,479] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 860@11.62
[2025-08-20 12:56:15,489] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10001.879663999998；当前available_cash:30016.451232
[2025-08-20 12:56:15,489] [DEBUG] [risk_manager:25] [conn:N/A] True
[2025-08-20 12:56:15,489] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 888@11.26
[2025-08-20 12:56:15,489] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:56:15,489] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_7, 成交价=11.26, 数量=888
[2025-08-20 12:56:15,489] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:56:15,489] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_7', symbol='sh.603900', direction='BUY', fill_price=11.26, fill_quantity=888, commission=2.9996639999999997, timestamp=datetime.datetime(2025, 7, 3, 0, 0))
[2025-08-20 12:56:15,489] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 10001.879664 (type: <class 'float'>)
[2025-08-20 12:56:15,489] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 30016.451232 (type: <class 'float'>)
[2025-08-20 12:56:15,489] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 888@11.26, 手续费: 3.00
[2025-08-20 12:56:15,489] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 888@11.26
[2025-08-20 12:56:15,489] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 888@11.26
[2025-08-20 12:56:15,491] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：9995.667801；当前position_amount:33894.5100
[2025-08-20 12:56:15,491] [DEBUG] [risk_manager:29] [conn:N/A] True
[2025-08-20 12:56:15,491] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: SELL 893@11.19
[2025-08-20 12:56:15,492] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:56:15,492] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_8, 成交价=11.19, 数量=893
[2025-08-20 12:56:15,492] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:56:15,492] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_8', symbol='sh.603900', direction='SELL', fill_price=11.19, fill_quantity=893, commission=2.997801, timestamp=datetime.datetime(2025, 7, 7, 0, 0))
[2025-08-20 12:56:15,492] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.667801 (type: <class 'float'>)
[2025-08-20 12:56:15,492] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 20014.571568 (type: <class 'float'>)
[2025-08-20 12:56:15,492] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: SELL 893@11.19, 手续费: 3.00
[2025-08-20 12:56:15,492] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: SELL 893@11.19
[2025-08-20 12:56:15,492] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 893@11.19
[2025-08-20 12:56:15,496] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9992.19676；当前available_cash:10018.903767
[2025-08-20 12:56:15,496] [DEBUG] [risk_manager:25] [conn:N/A] True
[2025-08-20 12:56:15,496] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: BUY 884@11.3
[2025-08-20 12:56:15,496] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:56:15,496] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_9, 成交价=11.30, 数量=884
[2025-08-20 12:56:15,496] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:56:15,496] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_9', symbol='sh.603900', direction='BUY', fill_price=11.3, fill_quantity=884, commission=2.99676, timestamp=datetime.datetime(2025, 7, 11, 0, 0))
[2025-08-20 12:56:15,496] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9992.19676 (type: <class 'float'>)
[2025-08-20 12:56:15,496] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 10018.903767 (type: <class 'float'>)
[2025-08-20 12:56:15,496] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: BUY 884@11.3, 手续费: 3.00
[2025-08-20 12:56:15,496] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: BUY 884@11.3
[2025-08-20 12:56:15,497] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: BUY 884@11.3
[2025-08-20 12:56:15,501] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：10002.509853；当前position_amount:29988.6000
[2025-08-20 12:56:15,502] [DEBUG] [risk_manager:29] [conn:N/A] True
[2025-08-20 12:56:15,502] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: SELL 1007@9.93
[2025-08-20 12:56:15,502] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:56:15,502] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_10, 成交价=9.93, 数量=1007
[2025-08-20 12:56:15,502] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:56:15,502] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_10', symbol='sh.603900', direction='SELL', fill_price=9.93, fill_quantity=1007, commission=2.999853, timestamp=datetime.datetime(2025, 7, 16, 0, 0))
[2025-08-20 12:56:15,502] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 10002.509853 (type: <class 'float'>)
[2025-08-20 12:56:15,502] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: 26.707006999999066 (type: <class 'float'>)
[2025-08-20 12:56:15,502] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: SELL 1007@9.93, 手续费: 3.00
[2025-08-20 12:56:15,502] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: SELL 1007@9.93
[2025-08-20 12:56:15,502] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 1007@9.93
[2025-08-20 12:56:15,509] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：9997.708412999998；当前available_cash:-9975.802846
[2025-08-20 12:56:15,509] [DEBUG] [risk_manager:25] [conn:N/A] False
[2025-08-20 12:56:15,509] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:56:15,511] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:19566.3600
[2025-08-20 12:56:15,511] [DEBUG] [risk_manager:29] [conn:N/A] True
[2025-08-20 12:56:15,511] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: SELL 1028@9.72
[2025-08-20 12:56:15,511] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:56:15,511] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_11, 成交价=9.72, 数量=1028
[2025-08-20 12:56:15,511] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:56:15,511] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_11', symbol='sh.603900', direction='SELL', fill_price=9.72, fill_quantity=1028, commission=2.997648, timestamp=datetime.datetime(2025, 7, 29, 0, 0))
[2025-08-20 12:56:15,511] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 12:56:15,511] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: -9975.802846 (type: <class 'float'>)
[2025-08-20 12:56:15,511] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: SELL 1028@9.72, 手续费: 3.00
[2025-08-20 12:56:15,512] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: SELL 1028@9.72
[2025-08-20 12:56:15,512] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 1028@9.72
[2025-08-20 12:56:15,519] [DEBUG] [risk_manager:24] [conn:N/A] 资金检查：尝试买入：10001.559568；当前available_cash:-19970.960494
[2025-08-20 12:56:15,519] [DEBUG] [risk_manager:25] [conn:N/A] False
[2025-08-20 12:56:15,519] [WARNING] [backtesting:436] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 12:56:15,526] [DEBUG] [risk_manager:28] [conn:N/A] 资金检查：尝试卖出：9993.997299999999；当前position_amount:10145.5000
[2025-08-20 12:56:15,526] [DEBUG] [risk_manager:29] [conn:N/A] True
[2025-08-20 12:56:15,526] [DEBUG] [backtesting:373] [conn:N/A] 开始处理回测订单: SELL 970@10.3
[2025-08-20 12:56:15,526] [DEBUG] [backtesting:380] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 12:56:15,526] [DEBUG] [backtesting:402] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_12, 成交价=10.30, 数量=970
[2025-08-20 12:56:15,526] [DEBUG] [backtesting:405] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 12:56:15,526] [DEBUG] [backtesting:719] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_12', symbol='sh.603900', direction='SELL', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 8, 15, 0, 0))
[2025-08-20 12:56:15,526] [DEBUG] [backtesting:733] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 12:56:15,526] [DEBUG] [backtesting:741] [conn:N/A] [DEBUG] 交易前资金: -19970.960494 (type: <class 'float'>)
[2025-08-20 12:56:15,526] [INFO] [backtesting:790] [conn:N/A] 成交回报处理完成: SELL 970@10.3, 手续费: 3.00
[2025-08-20 12:56:15,526] [DEBUG] [backtesting:407] [conn:N/A] 回测订单执行成功: SELL 970@10.3
[2025-08-20 12:56:15,527] [DEBUG] [backtesting:362] [conn:N/A] 订单处理完成: SELL 970@10.3
[2025-08-20 12:56:15,528] [DEBUG] [backtesting:282] [conn:N/A] 回测完成
[2025-08-20 12:56:15,528] [DEBUG] [backtesting:293] [conn:N/A] 回测完成！
[2025-08-20 14:17:50,357] [DEBUG] [database:27] [conn:N/A] DatabaseManager initialized, instance_id: 4737280176
[2025-08-20 14:17:50,542] [DEBUG] [database:86] [conn:N/A] 连接池初始化成功, 循环ID: 4400316816
[2025-08-20 14:17:50,542] [INFO] [database:94] [conn:N/A] 开始数据库表结构初始化...
[2025-08-20 14:17:50,628] [DEBUG] [database:166] [conn:4555660736] 数据库表结构初始化完成
[2025-08-20 14:17:50,628] [DEBUG] [database:170] [conn:N/A] 当前循环活跃状态: True
[2025-08-20 14:17:50,628] [DEBUG] [database:61] [conn:N/A] initialize调用结束，总耗时: 0.27s
[2025-08-20 14:18:02,670] [DEBUG] [database:378] [conn:N/A] 检查数据是否最新
[2025-08-20 14:18:02,670] [DEBUG] [database:406] [conn:N/A] 检查StockInfo表状态(尝试1/3)
[2025-08-20 14:18:02,671] [DEBUG] [database:407] [conn:4739035392] 当前活跃连接数: 1
[2025-08-20 14:18:02,808] [WARNING] [database:433] [conn:N/A] StockInfo表为空
[2025-08-20 14:18:03,852] [DEBUG] [database:501] [conn:N/A] Truncating StockInfo table
[2025-08-20 14:18:03,880] [DEBUG] [database:505] [conn:N/A] Inserting 0 rows into StockInfo
[2025-08-20 14:18:03,904] [INFO] [database:511] [conn:N/A] 成功更新StockInfo表数据，成功插入0行，失败0行
[2025-08-20 14:18:36,311] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 14:18:36,312] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 14:18:36,312] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 14:18:36,415] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 14:18:36,431] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 14:18:36,496] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 14:18:48,658] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 14:18:48,658] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 14:18:48,658] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 14:18:48,676] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 14:18:48,681] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 14:18:48,710] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 14:32:08,951] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 14:32:08,952] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 14:32:08,952] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 14:32:09,108] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 14:32:09,116] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 14:32:09,154] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 15:58:21,550] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 15:58:21,550] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 15:58:21,550] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 15:58:35,328] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 15:58:35,341] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 15:58:39,268] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 16:31:14,564] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 16:31:14,565] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 16:31:14,565] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 16:31:50,385] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 16:31:50,399] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 16:32:06,377] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 16:33:36,516] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 16:33:36,516] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 16:33:36,517] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 16:33:41,405] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 16:33:41,417] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 16:33:45,495] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 16:33:47,459] [DEBUG] [backtesting:568] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 16:33:47,459] [DEBUG] [backtesting:568] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 16:33:47,460] [DEBUG] [backtesting:568] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 16:33:47,488] [DEBUG] [backtesting:568] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 16:33:47,489] [DEBUG] [backtesting:568] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 16:33:47,489] [DEBUG] [backtesting:593] [conn:N/A] 注册策略调度处理器: 53280a5b-33fd-41b4-8d69-44448a7c0200
[2025-08-20 16:33:47,489] [INFO] [backtesting:596] [conn:N/A] 策略注册成功 | ID: 53280a5b-33fd-41b4-8d69-44448a7c0200 | 名称: 自定义规则策略
[2025-08-20 16:33:47,489] [DEBUG] [backtesting:280] [conn:N/A] 开始回测...
[2025-08-20 16:33:47,489] [DEBUG] [backtesting:251] [conn:N/A] 识别数据频率为：日线
[2025-08-20 16:33:47,492] [DEBUG] [backtesting:277] [conn:N/A] 开始回测...
[2025-08-20 16:33:47,492] [INFO] [backtesting:643] [conn:N/A] 回测系统初始化开始
[2025-08-20 16:33:47,492] [INFO] [backtesting:655] [conn:N/A] 策略初始化完成: 53280a5b-33fd-41b4-8d69-44448a7c0200
[2025-08-20 16:33:47,492] [INFO] [backtesting:673] [conn:N/A] 回测系统初始化完成
[2025-08-20 16:33:47,510] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：10001.9997；当前position_amount:0.0
[2025-08-20 16:33:47,510] [DEBUG] [risk_manager:35] [conn:N/A] False
[2025-08-20 16:33:47,510] [WARNING] [backtesting:458] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 16:33:47,512] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：10002.149745；当前available_cash:100000
[2025-08-20 16:33:47,512] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-20 16:33:47,512] [DEBUG] [backtesting:395] [conn:N/A] 开始处理回测订单: BUY 1605@6.23
[2025-08-20 16:33:47,512] [DEBUG] [backtesting:402] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 16:33:47,512] [DEBUG] [backtesting:424] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=6.23, 数量=1605
[2025-08-20 16:33:47,513] [DEBUG] [backtesting:427] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 16:33:47,513] [DEBUG] [backtesting:741] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='BUY', fill_price=6.23, fill_quantity=1605, commission=2.9997450000000003, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-20 16:33:47,513] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] total_cost 计算结果: 10002.149745 (type: <class 'float'>)
[2025-08-20 16:33:47,513] [DEBUG] [backtesting:763] [conn:N/A] [DEBUG] 交易前资金: 100000 (type: <class 'int'>)
[2025-08-20 16:33:47,513] [INFO] [backtesting:812] [conn:N/A] 成交回报处理完成: BUY 1605@6.23, 手续费: 3.00
[2025-08-20 16:33:47,513] [DEBUG] [backtesting:429] [conn:N/A] 回测订单执行成功: BUY 1605@6.23
[2025-08-20 16:33:47,513] [DEBUG] [backtesting:384] [conn:N/A] 订单处理完成: BUY 1605@6.23
[2025-08-20 16:33:47,523] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：10001.879663999998；当前position_amount:9501.6000
[2025-08-20 16:33:47,523] [DEBUG] [risk_manager:35] [conn:N/A] False
[2025-08-20 16:33:47,523] [WARNING] [backtesting:458] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 16:33:47,530] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：10002.899969999999；当前available_cash:89997.850255
[2025-08-20 16:33:47,530] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-20 16:33:47,530] [DEBUG] [backtesting:395] [conn:N/A] 开始处理回测订单: BUY 1355@7.38
[2025-08-20 16:33:47,530] [DEBUG] [backtesting:402] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 16:33:47,531] [DEBUG] [backtesting:424] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=7.38, 数量=1355
[2025-08-20 16:33:47,531] [DEBUG] [backtesting:427] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 16:33:47,531] [DEBUG] [backtesting:741] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', direction='BUY', fill_price=7.38, fill_quantity=1355, commission=2.99997, timestamp=datetime.datetime(2025, 5, 6, 0, 0))
[2025-08-20 16:33:47,531] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] total_cost 计算结果: 10002.89997 (type: <class 'float'>)
[2025-08-20 16:33:47,531] [DEBUG] [backtesting:763] [conn:N/A] [DEBUG] 交易前资金: 89997.850255 (type: <class 'float'>)
[2025-08-20 16:33:47,531] [INFO] [backtesting:812] [conn:N/A] 成交回报处理完成: BUY 1355@7.38, 手续费: 3.00
[2025-08-20 16:33:47,531] [DEBUG] [backtesting:429] [conn:N/A] 回测订单执行成功: BUY 1355@7.38
[2025-08-20 16:33:47,531] [DEBUG] [backtesting:384] [conn:N/A] 订单处理完成: BUY 1355@7.38
[2025-08-20 16:33:47,576] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：9991.636591999999；当前position_amount:38598.4000
[2025-08-20 16:33:47,576] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-20 16:33:47,576] [DEBUG] [backtesting:395] [conn:N/A] 开始处理回测订单: SELL 766@13.04
[2025-08-20 16:33:47,576] [DEBUG] [backtesting:402] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 16:33:47,576] [DEBUG] [backtesting:424] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_2, 成交价=13.04, 数量=766
[2025-08-20 16:33:47,576] [DEBUG] [backtesting:427] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 16:33:47,576] [DEBUG] [backtesting:741] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_2', symbol='sh.603900', direction='SELL', fill_price=13.04, fill_quantity=766, commission=2.9965919999999997, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-20 16:33:47,576] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] total_cost 计算结果: 9991.636591999999 (type: <class 'float'>)
[2025-08-20 16:33:47,576] [DEBUG] [backtesting:763] [conn:N/A] [DEBUG] 交易前资金: 79994.950285 (type: <class 'float'>)
[2025-08-20 16:33:47,576] [INFO] [backtesting:812] [conn:N/A] 成交回报处理完成: SELL 766@13.04, 手续费: 3.00
[2025-08-20 16:33:47,576] [DEBUG] [backtesting:429] [conn:N/A] 回测订单执行成功: SELL 766@13.04
[2025-08-20 16:33:47,576] [DEBUG] [backtesting:384] [conn:N/A] 订单处理完成: SELL 766@13.04
[2025-08-20 16:33:47,579] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：9996.958188；当前available_cash:70003.313693
[2025-08-20 16:33:47,579] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-20 16:33:47,579] [DEBUG] [backtesting:395] [conn:N/A] 开始处理回测订单: BUY 852@11.73
[2025-08-20 16:33:47,579] [DEBUG] [backtesting:402] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 16:33:47,579] [DEBUG] [backtesting:424] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_3, 成交价=11.73, 数量=852
[2025-08-20 16:33:47,579] [DEBUG] [backtesting:427] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 16:33:47,579] [DEBUG] [backtesting:741] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_3', symbol='sh.603900', direction='BUY', fill_price=11.73, fill_quantity=852, commission=2.998188, timestamp=datetime.datetime(2025, 6, 9, 0, 0))
[2025-08-20 16:33:47,579] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] total_cost 计算结果: 9996.958188 (type: <class 'float'>)
[2025-08-20 16:33:47,579] [DEBUG] [backtesting:763] [conn:N/A] [DEBUG] 交易前资金: 70003.313693 (type: <class 'float'>)
[2025-08-20 16:33:47,579] [INFO] [backtesting:812] [conn:N/A] 成交回报处理完成: BUY 852@11.73, 手续费: 3.00
[2025-08-20 16:33:47,579] [DEBUG] [backtesting:429] [conn:N/A] 回测订单执行成功: BUY 852@11.73
[2025-08-20 16:33:47,579] [DEBUG] [backtesting:384] [conn:N/A] 订单处理完成: BUY 852@11.73
[2025-08-20 16:33:47,583] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：9990.836352；当前position_amount:37283.0400
[2025-08-20 16:33:47,583] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-20 16:33:47,583] [DEBUG] [backtesting:395] [conn:N/A] 开始处理回测订单: SELL 816@12.24
[2025-08-20 16:33:47,583] [DEBUG] [backtesting:402] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 16:33:47,583] [DEBUG] [backtesting:424] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_4, 成交价=12.24, 数量=816
[2025-08-20 16:33:47,583] [DEBUG] [backtesting:427] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 16:33:47,583] [DEBUG] [backtesting:741] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_4', symbol='sh.603900', direction='SELL', fill_price=12.24, fill_quantity=816, commission=2.996352, timestamp=datetime.datetime(2025, 6, 11, 0, 0))
[2025-08-20 16:33:47,583] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] total_cost 计算结果: 9990.836352 (type: <class 'float'>)
[2025-08-20 16:33:47,583] [DEBUG] [backtesting:763] [conn:N/A] [DEBUG] 交易前资金: 60006.355505 (type: <class 'float'>)
[2025-08-20 16:33:47,584] [INFO] [backtesting:812] [conn:N/A] 成交回报处理完成: SELL 816@12.24, 手续费: 3.00
[2025-08-20 16:33:47,584] [DEBUG] [backtesting:429] [conn:N/A] 回测订单执行成功: SELL 816@12.24
[2025-08-20 16:33:47,584] [DEBUG] [backtesting:384] [conn:N/A] 订单处理完成: SELL 816@12.24
[2025-08-20 16:33:47,586] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：10002.869961；当前available_cash:50015.519153
[2025-08-20 16:33:47,586] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-20 16:33:47,586] [DEBUG] [backtesting:395] [conn:N/A] 开始处理回测订单: BUY 771@12.97
[2025-08-20 16:33:47,586] [DEBUG] [backtesting:402] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 16:33:47,586] [DEBUG] [backtesting:424] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_5, 成交价=12.97, 数量=771
[2025-08-20 16:33:47,586] [DEBUG] [backtesting:427] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 16:33:47,586] [DEBUG] [backtesting:741] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_5', symbol='sh.603900', direction='BUY', fill_price=12.97, fill_quantity=771, commission=2.999961, timestamp=datetime.datetime(2025, 6, 13, 0, 0))
[2025-08-20 16:33:47,586] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] total_cost 计算结果: 10002.869961 (type: <class 'float'>)
[2025-08-20 16:33:47,586] [DEBUG] [backtesting:763] [conn:N/A] [DEBUG] 交易前资金: 50015.519153 (type: <class 'float'>)
[2025-08-20 16:33:47,586] [INFO] [backtesting:812] [conn:N/A] 成交回报处理完成: BUY 771@12.97, 手续费: 3.00
[2025-08-20 16:33:47,586] [DEBUG] [backtesting:429] [conn:N/A] 回测订单执行成功: BUY 771@12.97
[2025-08-20 16:33:47,586] [DEBUG] [backtesting:384] [conn:N/A] 订单处理完成: BUY 771@12.97
[2025-08-20 16:33:47,591] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：9996.197959999998；当前position_amount:34871.6200
[2025-08-20 16:33:47,591] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-20 16:33:47,591] [DEBUG] [backtesting:395] [conn:N/A] 开始处理回测订单: SELL 860@11.62
[2025-08-20 16:33:47,591] [DEBUG] [backtesting:402] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 16:33:47,591] [DEBUG] [backtesting:424] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_6, 成交价=11.62, 数量=860
[2025-08-20 16:33:47,591] [DEBUG] [backtesting:427] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 16:33:47,591] [DEBUG] [backtesting:741] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_6', symbol='sh.603900', direction='SELL', fill_price=11.62, fill_quantity=860, commission=2.9979599999999995, timestamp=datetime.datetime(2025, 6, 19, 0, 0))
[2025-08-20 16:33:47,592] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] total_cost 计算结果: 9996.19796 (type: <class 'float'>)
[2025-08-20 16:33:47,592] [DEBUG] [backtesting:763] [conn:N/A] [DEBUG] 交易前资金: 40012.649192 (type: <class 'float'>)
[2025-08-20 16:33:47,592] [INFO] [backtesting:812] [conn:N/A] 成交回报处理完成: SELL 860@11.62, 手续费: 3.00
[2025-08-20 16:33:47,592] [DEBUG] [backtesting:429] [conn:N/A] 回测订单执行成功: SELL 860@11.62
[2025-08-20 16:33:47,592] [DEBUG] [backtesting:384] [conn:N/A] 订单处理完成: SELL 860@11.62
[2025-08-20 16:33:47,603] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：10001.879663999998；当前available_cash:30016.451232
[2025-08-20 16:33:47,603] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-20 16:33:47,603] [DEBUG] [backtesting:395] [conn:N/A] 开始处理回测订单: BUY 888@11.26
[2025-08-20 16:33:47,603] [DEBUG] [backtesting:402] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 16:33:47,603] [DEBUG] [backtesting:424] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_7, 成交价=11.26, 数量=888
[2025-08-20 16:33:47,603] [DEBUG] [backtesting:427] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 16:33:47,603] [DEBUG] [backtesting:741] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_7', symbol='sh.603900', direction='BUY', fill_price=11.26, fill_quantity=888, commission=2.9996639999999997, timestamp=datetime.datetime(2025, 7, 3, 0, 0))
[2025-08-20 16:33:47,603] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] total_cost 计算结果: 10001.879664 (type: <class 'float'>)
[2025-08-20 16:33:47,603] [DEBUG] [backtesting:763] [conn:N/A] [DEBUG] 交易前资金: 30016.451232 (type: <class 'float'>)
[2025-08-20 16:33:47,603] [INFO] [backtesting:812] [conn:N/A] 成交回报处理完成: BUY 888@11.26, 手续费: 3.00
[2025-08-20 16:33:47,603] [DEBUG] [backtesting:429] [conn:N/A] 回测订单执行成功: BUY 888@11.26
[2025-08-20 16:33:47,603] [DEBUG] [backtesting:384] [conn:N/A] 订单处理完成: BUY 888@11.26
[2025-08-20 16:33:47,606] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：9995.667801；当前position_amount:33894.5100
[2025-08-20 16:33:47,606] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-20 16:33:47,606] [DEBUG] [backtesting:395] [conn:N/A] 开始处理回测订单: SELL 893@11.19
[2025-08-20 16:33:47,606] [DEBUG] [backtesting:402] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 16:33:47,606] [DEBUG] [backtesting:424] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_8, 成交价=11.19, 数量=893
[2025-08-20 16:33:47,606] [DEBUG] [backtesting:427] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 16:33:47,606] [DEBUG] [backtesting:741] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_8', symbol='sh.603900', direction='SELL', fill_price=11.19, fill_quantity=893, commission=2.997801, timestamp=datetime.datetime(2025, 7, 7, 0, 0))
[2025-08-20 16:33:47,606] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.667801 (type: <class 'float'>)
[2025-08-20 16:33:47,606] [DEBUG] [backtesting:763] [conn:N/A] [DEBUG] 交易前资金: 20014.571568 (type: <class 'float'>)
[2025-08-20 16:33:47,606] [INFO] [backtesting:812] [conn:N/A] 成交回报处理完成: SELL 893@11.19, 手续费: 3.00
[2025-08-20 16:33:47,606] [DEBUG] [backtesting:429] [conn:N/A] 回测订单执行成功: SELL 893@11.19
[2025-08-20 16:33:47,606] [DEBUG] [backtesting:384] [conn:N/A] 订单处理完成: SELL 893@11.19
[2025-08-20 16:33:47,610] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：9992.19676；当前available_cash:10018.903767
[2025-08-20 16:33:47,610] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-20 16:33:47,610] [DEBUG] [backtesting:395] [conn:N/A] 开始处理回测订单: BUY 884@11.3
[2025-08-20 16:33:47,610] [DEBUG] [backtesting:402] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 16:33:47,610] [DEBUG] [backtesting:424] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_9, 成交价=11.30, 数量=884
[2025-08-20 16:33:47,610] [DEBUG] [backtesting:427] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 16:33:47,610] [DEBUG] [backtesting:741] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_9', symbol='sh.603900', direction='BUY', fill_price=11.3, fill_quantity=884, commission=2.99676, timestamp=datetime.datetime(2025, 7, 11, 0, 0))
[2025-08-20 16:33:47,610] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] total_cost 计算结果: 9992.19676 (type: <class 'float'>)
[2025-08-20 16:33:47,610] [DEBUG] [backtesting:763] [conn:N/A] [DEBUG] 交易前资金: 10018.903767 (type: <class 'float'>)
[2025-08-20 16:33:47,610] [INFO] [backtesting:812] [conn:N/A] 成交回报处理完成: BUY 884@11.3, 手续费: 3.00
[2025-08-20 16:33:47,610] [DEBUG] [backtesting:429] [conn:N/A] 回测订单执行成功: BUY 884@11.3
[2025-08-20 16:33:47,610] [DEBUG] [backtesting:384] [conn:N/A] 订单处理完成: BUY 884@11.3
[2025-08-20 16:33:47,613] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：10002.509853；当前position_amount:29988.6000
[2025-08-20 16:33:47,613] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-20 16:33:47,614] [DEBUG] [backtesting:395] [conn:N/A] 开始处理回测订单: SELL 1007@9.93
[2025-08-20 16:33:47,614] [DEBUG] [backtesting:402] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 16:33:47,614] [DEBUG] [backtesting:424] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_10, 成交价=9.93, 数量=1007
[2025-08-20 16:33:47,614] [DEBUG] [backtesting:427] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 16:33:47,614] [DEBUG] [backtesting:741] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_10', symbol='sh.603900', direction='SELL', fill_price=9.93, fill_quantity=1007, commission=2.999853, timestamp=datetime.datetime(2025, 7, 16, 0, 0))
[2025-08-20 16:33:47,614] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] total_cost 计算结果: 10002.509853 (type: <class 'float'>)
[2025-08-20 16:33:47,614] [DEBUG] [backtesting:763] [conn:N/A] [DEBUG] 交易前资金: 26.707006999999066 (type: <class 'float'>)
[2025-08-20 16:33:47,614] [INFO] [backtesting:812] [conn:N/A] 成交回报处理完成: SELL 1007@9.93, 手续费: 3.00
[2025-08-20 16:33:47,614] [DEBUG] [backtesting:429] [conn:N/A] 回测订单执行成功: SELL 1007@9.93
[2025-08-20 16:33:47,614] [DEBUG] [backtesting:384] [conn:N/A] 订单处理完成: SELL 1007@9.93
[2025-08-20 16:33:47,621] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：9997.708412999998；当前available_cash:-9975.802846
[2025-08-20 16:33:47,621] [DEBUG] [risk_manager:30] [conn:N/A] False
[2025-08-20 16:33:47,621] [WARNING] [backtesting:458] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 16:33:47,624] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：9995.157648；当前position_amount:19566.3600
[2025-08-20 16:33:47,624] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-20 16:33:47,624] [DEBUG] [backtesting:395] [conn:N/A] 开始处理回测订单: SELL 1028@9.72
[2025-08-20 16:33:47,624] [DEBUG] [backtesting:402] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 16:33:47,624] [DEBUG] [backtesting:424] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_11, 成交价=9.72, 数量=1028
[2025-08-20 16:33:47,624] [DEBUG] [backtesting:427] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 16:33:47,624] [DEBUG] [backtesting:741] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_11', symbol='sh.603900', direction='SELL', fill_price=9.72, fill_quantity=1028, commission=2.997648, timestamp=datetime.datetime(2025, 7, 29, 0, 0))
[2025-08-20 16:33:47,624] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] total_cost 计算结果: 9995.157648 (type: <class 'float'>)
[2025-08-20 16:33:47,624] [DEBUG] [backtesting:763] [conn:N/A] [DEBUG] 交易前资金: -9975.802846 (type: <class 'float'>)
[2025-08-20 16:33:47,624] [INFO] [backtesting:812] [conn:N/A] 成交回报处理完成: SELL 1028@9.72, 手续费: 3.00
[2025-08-20 16:33:47,624] [DEBUG] [backtesting:429] [conn:N/A] 回测订单执行成功: SELL 1028@9.72
[2025-08-20 16:33:47,624] [DEBUG] [backtesting:384] [conn:N/A] 订单处理完成: SELL 1028@9.72
[2025-08-20 16:33:47,631] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：10001.559568；当前available_cash:-19970.960494
[2025-08-20 16:33:47,631] [DEBUG] [risk_manager:30] [conn:N/A] False
[2025-08-20 16:33:47,631] [WARNING] [backtesting:458] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-20 16:33:47,638] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：9993.997299999999；当前position_amount:10145.5000
[2025-08-20 16:33:47,639] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-20 16:33:47,639] [DEBUG] [backtesting:395] [conn:N/A] 开始处理回测订单: SELL 970@10.3
[2025-08-20 16:33:47,639] [DEBUG] [backtesting:402] [conn:N/A] 计算手续费: 3.00 (费率: 0.0003)
[2025-08-20 16:33:47,639] [DEBUG] [backtesting:424] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_12, 成交价=10.30, 数量=970
[2025-08-20 16:33:47,639] [DEBUG] [backtesting:427] [conn:N/A] 开始处理成交回报事件...
[2025-08-20 16:33:47,639] [DEBUG] [backtesting:741] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_12', symbol='sh.603900', direction='SELL', fill_price=10.3, fill_quantity=970, commission=2.9972999999999996, timestamp=datetime.datetime(2025, 8, 15, 0, 0))
[2025-08-20 16:33:47,639] [DEBUG] [backtesting:755] [conn:N/A] [DEBUG] total_cost 计算结果: 9993.9973 (type: <class 'float'>)
[2025-08-20 16:33:47,639] [DEBUG] [backtesting:763] [conn:N/A] [DEBUG] 交易前资金: -19970.960494 (type: <class 'float'>)
[2025-08-20 16:33:47,639] [INFO] [backtesting:812] [conn:N/A] 成交回报处理完成: SELL 970@10.3, 手续费: 3.00
[2025-08-20 16:33:47,639] [DEBUG] [backtesting:429] [conn:N/A] 回测订单执行成功: SELL 970@10.3
[2025-08-20 16:33:47,639] [DEBUG] [backtesting:384] [conn:N/A] 订单处理完成: SELL 970@10.3
[2025-08-20 16:33:47,640] [DEBUG] [backtesting:304] [conn:N/A] 回测完成
[2025-08-20 16:33:47,641] [DEBUG] [backtesting:293] [conn:N/A] 回测完成！
[2025-08-20 18:39:18,911] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 18:39:18,912] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 18:39:18,912] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 18:39:44,566] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 18:39:44,578] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 18:39:58,552] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 18:39:59,560] [DEBUG] [backtesting:482] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 18:39:59,561] [DEBUG] [backtesting:482] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 18:39:59,561] [DEBUG] [backtesting:482] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 18:39:59,584] [DEBUG] [backtesting:482] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 18:39:59,585] [DEBUG] [backtesting:482] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 18:39:59,585] [DEBUG] [backtesting:507] [conn:N/A] 注册策略调度处理器: ab390409-cbdd-4f55-ae36-ad3b66bac3a8
[2025-08-20 18:39:59,585] [INFO] [backtesting:510] [conn:N/A] 策略注册成功 | ID: ab390409-cbdd-4f55-ae36-ad3b66bac3a8 | 名称: 自定义规则策略
[2025-08-20 18:39:59,585] [DEBUG] [backtesting:280] [conn:N/A] 开始回测...
[2025-08-20 18:41:23,757] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 18:41:23,758] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-20 18:41:23,758] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-20 18:41:28,553] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-20 18:41:28,567] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-20 18:41:31,640] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-20 18:41:33,546] [DEBUG] [backtesting:482] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 18:41:33,546] [DEBUG] [backtesting:482] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-20 18:41:33,546] [DEBUG] [backtesting:482] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-20 18:41:33,551] [DEBUG] [backtesting:482] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-20 18:41:33,553] [DEBUG] [backtesting:482] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-20 18:41:33,554] [DEBUG] [backtesting:507] [conn:N/A] 注册策略调度处理器: 5f872e32-2c09-468c-8cdd-91a47949fec9
[2025-08-20 18:41:33,554] [INFO] [backtesting:510] [conn:N/A] 策略注册成功 | ID: 5f872e32-2c09-468c-8cdd-91a47949fec9 | 名称: 自定义规则策略
[2025-08-20 18:41:33,554] [DEBUG] [backtesting:280] [conn:N/A] 开始回测...
[2025-08-20 18:41:33,555] [DEBUG] [backtesting:183] [conn:N/A] 识别数据频率为：日线
[2025-08-20 18:41:33,559] [DEBUG] [backtesting:209] [conn:N/A] 开始回测...
[2025-08-20 18:41:33,560] [INFO] [backtesting:557] [conn:N/A] 回测系统初始化开始
[2025-08-20 18:41:33,560] [INFO] [backtesting:569] [conn:N/A] 策略初始化完成: 5f872e32-2c09-468c-8cdd-91a47949fec9
[2025-08-21 00:09:28,934] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-21 00:09:28,935] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-21 00:09:28,935] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-21 00:09:29,094] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-21 00:09:29,104] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-21 00:09:29,152] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-21 00:09:29,165] [INFO] [backtesting:166] [conn:N/A] 仓位策略创建成功: fixed_percent
[2025-08-21 00:09:29,166] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-21 00:09:29,166] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-21 00:09:29,166] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-21 00:09:29,169] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-21 00:09:29,171] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-21 00:09:29,171] [DEBUG] [backtesting:537] [conn:N/A] 注册策略调度处理器: f49ac7ac-de0e-49eb-b843-e81ccc85059b
[2025-08-21 00:09:29,171] [INFO] [backtesting:540] [conn:N/A] 策略注册成功 | ID: f49ac7ac-de0e-49eb-b843-e81ccc85059b | 名称: 自定义规则策略
[2025-08-21 00:09:29,171] [DEBUG] [backtesting:358] [conn:N/A] 开始回测...
[2025-08-21 00:09:29,171] [DEBUG] [backtesting:215] [conn:N/A] 识别数据频率为：日线
[2025-08-21 00:09:29,172] [DEBUG] [backtesting:241] [conn:N/A] 开始回测...
[2025-08-21 00:09:29,172] [INFO] [backtesting:592] [conn:N/A] 回测系统初始化开始
[2025-08-21 00:09:29,172] [INFO] [backtesting:604] [conn:N/A] 策略初始化完成: f49ac7ac-de0e-49eb-b843-e81ccc85059b
[2025-08-21 00:09:29,172] [INFO] [backtesting:615] [conn:N/A] 回测系统初始化完成
[2025-08-21 00:09:29,183] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7001.3997899999995；当前position_amount:0
[2025-08-21 00:09:29,183] [DEBUG] [risk_manager:35] [conn:N/A] False
[2025-08-21 00:09:29,183] [WARNING] [backtesting:418] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-21 00:09:29,185] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：6998.388887000001；当前available_cash:100000
[2025-08-21 00:09:29,185] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:09:29,185] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 1123@6.23
[2025-08-21 00:09:29,185] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.10 (费率: 0.0003)
[2025-08-21 00:09:29,185] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=6.23, 数量=1123
[2025-08-21 00:09:29,185] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,185] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='BUY', fill_price=6.23, fill_quantity=1123, commission=2.098887, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-21 00:09:29,185] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 1123@6.23, 手续费: 2.10
[2025-08-21 00:09:29,185] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 1123@6.23
[2025-08-21 00:09:29,185] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 1123@6.23
[2025-08-21 00:09:29,192] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：6999.539231999999；当前position_amount:6996.290000000001
[2025-08-21 00:09:29,193] [DEBUG] [risk_manager:35] [conn:N/A] False
[2025-08-21 00:09:29,193] [WARNING] [backtesting:418] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-21 00:09:29,201] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：6998.338871999999；当前available_cash:93003.70999999999
[2025-08-21 00:09:29,201] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:09:29,201] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 948@7.38
[2025-08-21 00:09:29,201] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.10 (费率: 0.0003)
[2025-08-21 00:09:29,201] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=7.38, 数量=948
[2025-08-21 00:09:29,201] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,201] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', direction='BUY', fill_price=7.38, fill_quantity=948, commission=2.0988719999999996, timestamp=datetime.datetime(2025, 5, 6, 0, 0))
[2025-08-21 00:09:29,201] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 948@7.38, 手续费: 2.10
[2025-08-21 00:09:29,201] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 948@7.38
[2025-08-21 00:09:29,201] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 948@7.38
[2025-08-21 00:09:29,239] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7082.8442159999995；当前position_amount:15283.98
[2025-08-21 00:09:29,239] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 00:09:29,239] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 543@13.04
[2025-08-21 00:09:29,239] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.12 (费率: 0.0003)
[2025-08-21 00:09:29,239] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_2, 成交价=13.04, 数量=543
[2025-08-21 00:09:29,239] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,239] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_2', symbol='sh.603900', direction='SELL', fill_price=13.04, fill_quantity=543, commission=2.1242159999999997, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-21 00:09:29,239] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 543@13.04, 手续费: 2.12
[2025-08-21 00:09:29,239] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 543@13.04
[2025-08-21 00:09:29,239] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 543@13.04
[2025-08-21 00:09:29,241] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：7908.3918060000005；当前available_cash:93088.18999999999
[2025-08-21 00:09:29,241] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:09:29,242] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 674@11.73
[2025-08-21 00:09:29,242] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.37 (费率: 0.0003)
[2025-08-21 00:09:29,242] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_3, 成交价=11.73, 数量=674
[2025-08-21 00:09:29,242] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,242] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_3', symbol='sh.603900', direction='BUY', fill_price=11.73, fill_quantity=674, commission=2.371806, timestamp=datetime.datetime(2025, 6, 9, 0, 0))
[2025-08-21 00:09:29,242] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 674@11.73, 手续费: 2.37
[2025-08-21 00:09:29,242] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 674@11.73
[2025-08-21 00:09:29,242] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 674@11.73
[2025-08-21 00:09:29,245] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7762.488047999999；当前position_amount:25829.46
[2025-08-21 00:09:29,245] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 00:09:29,245] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 634@12.24
[2025-08-21 00:09:29,245] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.33 (费率: 0.0003)
[2025-08-21 00:09:29,245] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_4, 成交价=12.24, 数量=634
[2025-08-21 00:09:29,245] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,245] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_4', symbol='sh.603900', direction='SELL', fill_price=12.24, fill_quantity=634, commission=2.328048, timestamp=datetime.datetime(2025, 6, 11, 0, 0))
[2025-08-21 00:09:29,245] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 634@12.24, 手续费: 2.33
[2025-08-21 00:09:29,246] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 634@12.24
[2025-08-21 00:09:29,246] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 634@12.24
[2025-08-21 00:09:29,247] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：7849.204055；当前available_cash:92942.32999999999
[2025-08-21 00:09:29,247] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:09:29,247] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 605@12.97
[2025-08-21 00:09:29,247] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.35 (费率: 0.0003)
[2025-08-21 00:09:29,247] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_5, 成交价=12.97, 数量=605
[2025-08-21 00:09:29,247] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,247] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_5', symbol='sh.603900', direction='BUY', fill_price=12.97, fill_quantity=605, commission=2.354055, timestamp=datetime.datetime(2025, 6, 13, 0, 0))
[2025-08-21 00:09:29,247] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 605@12.97, 手续费: 2.35
[2025-08-21 00:09:29,247] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 605@12.97
[2025-08-21 00:09:29,248] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 605@12.97
[2025-08-21 00:09:29,252] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7927.217451999999；当前position_amount:28183.81
[2025-08-21 00:09:29,252] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 00:09:29,252] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 682@11.62
[2025-08-21 00:09:29,252] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.38 (费率: 0.0003)
[2025-08-21 00:09:29,252] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_6, 成交价=11.62, 数量=682
[2025-08-21 00:09:29,252] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,252] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_6', symbol='sh.603900', direction='SELL', fill_price=11.62, fill_quantity=682, commission=2.3774519999999995, timestamp=datetime.datetime(2025, 6, 19, 0, 0))
[2025-08-21 00:09:29,252] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 682@11.62, 手续费: 2.38
[2025-08-21 00:09:29,252] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 682@11.62
[2025-08-21 00:09:29,252] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 682@11.62
[2025-08-21 00:09:29,262] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：7715.413929999999；当前available_cash:93020.31999999998
[2025-08-21 00:09:29,262] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:09:29,262] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 685@11.26
[2025-08-21 00:09:29,262] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.31 (费率: 0.0003)
[2025-08-21 00:09:29,262] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_7, 成交价=11.26, 数量=685
[2025-08-21 00:09:29,262] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,262] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_7', symbol='sh.603900', direction='BUY', fill_price=11.26, fill_quantity=685, commission=2.3139299999999996, timestamp=datetime.datetime(2025, 7, 3, 0, 0))
[2025-08-21 00:09:29,262] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 685@11.26, 手续费: 2.31
[2025-08-21 00:09:29,262] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 685@11.26
[2025-08-21 00:09:29,262] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 685@11.26
[2025-08-21 00:09:29,264] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7678.642901999999；当前position_amount:24501.76
[2025-08-21 00:09:29,264] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 00:09:29,264] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 686@11.19
[2025-08-21 00:09:29,265] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.30 (费率: 0.0003)
[2025-08-21 00:09:29,265] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_8, 成交价=11.19, 数量=686
[2025-08-21 00:09:29,265] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,265] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_8', symbol='sh.603900', direction='SELL', fill_price=11.19, fill_quantity=686, commission=2.3029019999999996, timestamp=datetime.datetime(2025, 7, 7, 0, 0))
[2025-08-21 00:09:29,265] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 686@11.19, 手续费: 2.30
[2025-08-21 00:09:29,265] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 686@11.19
[2025-08-21 00:09:29,265] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 686@11.19
[2025-08-21 00:09:29,268] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：7675.001810000001；当前available_cash:92983.55999999997
[2025-08-21 00:09:29,268] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:09:29,268] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 679@11.3
[2025-08-21 00:09:29,268] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.30 (费率: 0.0003)
[2025-08-21 00:09:29,268] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_9, 成交价=11.30, 数量=679
[2025-08-21 00:09:29,268] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,269] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_9', symbol='sh.603900', direction='BUY', fill_price=11.3, fill_quantity=679, commission=2.30181, timestamp=datetime.datetime(2025, 7, 11, 0, 0))
[2025-08-21 00:09:29,269] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 679@11.3, 手续费: 2.30
[2025-08-21 00:09:29,269] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 679@11.3
[2025-08-21 00:09:29,269] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 679@11.3
[2025-08-21 00:09:29,272] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7688.125746；当前position_amount:24509.7
[2025-08-21 00:09:29,272] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 00:09:29,272] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 774@9.93
[2025-08-21 00:09:29,272] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.31 (费率: 0.0003)
[2025-08-21 00:09:29,272] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_10, 成交价=9.93, 数量=774
[2025-08-21 00:09:29,272] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,272] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_10', symbol='sh.603900', direction='SELL', fill_price=9.93, fill_quantity=774, commission=2.3057459999999996, timestamp=datetime.datetime(2025, 7, 16, 0, 0))
[2025-08-21 00:09:29,272] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 774@9.93, 手续费: 2.31
[2025-08-21 00:09:29,272] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 774@9.93
[2025-08-21 00:09:29,272] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 774@9.93
[2025-08-21 00:09:29,280] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：7476.292214999999；当前available_cash:92996.67999999996
[2025-08-21 00:09:29,280] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:09:29,280] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 765@9.77
[2025-08-21 00:09:29,280] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.24 (费率: 0.0003)
[2025-08-21 00:09:29,280] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_11, 成交价=9.77, 数量=765
[2025-08-21 00:09:29,280] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,280] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_11', symbol='sh.603900', direction='BUY', fill_price=9.77, fill_quantity=765, commission=2.2422149999999994, timestamp=datetime.datetime(2025, 7, 25, 0, 0))
[2025-08-21 00:09:29,281] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 765@9.77, 手续费: 2.24
[2025-08-21 00:09:29,281] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 765@9.77
[2025-08-21 00:09:29,281] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 765@9.77
[2025-08-21 00:09:29,283] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7457.4765720000005；当前position_amount:21103.2
[2025-08-21 00:09:29,283] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 00:09:29,283] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 767@9.72
[2025-08-21 00:09:29,283] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.24 (费率: 0.0003)
[2025-08-21 00:09:29,283] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_12, 成交价=9.72, 数量=767
[2025-08-21 00:09:29,283] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,283] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_12', symbol='sh.603900', direction='SELL', fill_price=9.72, fill_quantity=767, commission=2.2365720000000002, timestamp=datetime.datetime(2025, 7, 29, 0, 0))
[2025-08-21 00:09:29,283] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 767@9.72, 手续费: 2.24
[2025-08-21 00:09:29,283] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 767@9.72
[2025-08-21 00:09:29,283] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 767@9.72
[2025-08-21 00:09:29,289] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：7451.7548560000005；当前available_cash:92977.86999999997
[2025-08-21 00:09:29,289] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:09:29,289] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 754@9.88
[2025-08-21 00:09:29,289] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.23 (费率: 0.0003)
[2025-08-21 00:09:29,289] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_13, 成交价=9.88, 数量=754
[2025-08-21 00:09:29,289] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,289] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_13', symbol='sh.603900', direction='BUY', fill_price=9.88, fill_quantity=754, commission=2.2348559999999997, timestamp=datetime.datetime(2025, 8, 6, 0, 0))
[2025-08-21 00:09:29,289] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 754@9.88, 手续费: 2.23
[2025-08-21 00:09:29,289] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 754@9.88
[2025-08-21 00:09:29,289] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 754@9.88
[2025-08-21 00:09:29,297] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7469.740250000001；当前position_amount:21212.36
[2025-08-21 00:09:29,297] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 00:09:29,297] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 725@10.3
[2025-08-21 00:09:29,297] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.24 (费率: 0.0003)
[2025-08-21 00:09:29,297] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_14, 成交价=10.30, 数量=725
[2025-08-21 00:09:29,297] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:09:29,297] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_14', symbol='sh.603900', direction='SELL', fill_price=10.3, fill_quantity=725, commission=2.24025, timestamp=datetime.datetime(2025, 8, 15, 0, 0))
[2025-08-21 00:09:29,297] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 725@10.3, 手续费: 2.24
[2025-08-21 00:09:29,297] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 725@10.3
[2025-08-21 00:09:29,297] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 725@10.3
[2025-08-21 00:09:29,298] [DEBUG] [backtesting:273] [conn:N/A] 回测完成
[2025-08-21 00:09:29,300] [DEBUG] [backtesting:371] [conn:N/A] 回测完成！
[2025-08-21 00:19:00,526] [INFO] [database:288] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-21 00:19:00,527] [DEBUG] [database:212] [conn:N/A] 异步检查数据完整性
[2025-08-21 00:19:00,527] [INFO] [database:217] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-18
[2025-08-21 00:19:00,716] [INFO] [database:232] [conn:N/A] 从数据库获取 2025-04-01-2025-08-18 for sh.603900

[2025-08-21 00:19:00,728] [INFO] [database:269] [conn:N/A] Found 0 missing data ranges for sh.603900
[2025-08-21 00:19:00,780] [INFO] [database:345] [conn:N/A] Successfully loaded 95 rows for sh.603900
[2025-08-21 00:19:00,794] [INFO] [backtesting:166] [conn:N/A] 仓位策略创建成功: fixed_percent
[2025-08-21 00:19:00,794] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-21 00:19:00,794] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-21 00:19:00,794] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-21 00:19:00,800] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-21 00:19:00,802] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-21 00:19:00,802] [DEBUG] [backtesting:537] [conn:N/A] 注册策略调度处理器: 7d0e2463-41ba-4910-a8a4-7516419ac2c9
[2025-08-21 00:19:00,802] [INFO] [backtesting:540] [conn:N/A] 策略注册成功 | ID: 7d0e2463-41ba-4910-a8a4-7516419ac2c9 | 名称: 自定义规则策略
[2025-08-21 00:19:00,802] [DEBUG] [backtesting:358] [conn:N/A] 开始回测...
[2025-08-21 00:19:00,803] [DEBUG] [backtesting:215] [conn:N/A] 识别数据频率为：日线
[2025-08-21 00:19:00,805] [DEBUG] [backtesting:241] [conn:N/A] 开始回测...
[2025-08-21 00:19:00,805] [INFO] [backtesting:592] [conn:N/A] 回测系统初始化开始
[2025-08-21 00:19:00,805] [INFO] [backtesting:604] [conn:N/A] 策略初始化完成: 7d0e2463-41ba-4910-a8a4-7516419ac2c9
[2025-08-21 00:19:00,805] [INFO] [backtesting:615] [conn:N/A] 回测系统初始化完成
[2025-08-21 00:19:00,817] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：5000.99985；当前position_amount:0
[2025-08-21 00:19:00,817] [DEBUG] [risk_manager:35] [conn:N/A] False
[2025-08-21 00:19:00,817] [WARNING] [backtesting:418] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-21 00:19:00,819] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：4997.958938；当前available_cash:100000
[2025-08-21 00:19:00,819] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:19:00,819] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 802@6.23
[2025-08-21 00:19:00,819] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.50 (费率: 0.0003)
[2025-08-21 00:19:00,819] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=6.23, 数量=802
[2025-08-21 00:19:00,819] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,819] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='BUY', fill_price=6.23, fill_quantity=802, commission=1.4989379999999999, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-21 00:19:00,819] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 802@6.23, 手续费: 1.50
[2025-08-21 00:19:00,819] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 802@6.23
[2025-08-21 00:19:00,819] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 802@6.23
[2025-08-21 00:19:00,827] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：4997.9789439999995；当前position_amount:4996.46
[2025-08-21 00:19:00,828] [DEBUG] [risk_manager:35] [conn:N/A] False
[2025-08-21 00:19:00,828] [WARNING] [backtesting:418] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-21 00:19:00,834] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：4997.758878；当前available_cash:95003.54
[2025-08-21 00:19:00,834] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:19:00,834] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 677@7.38
[2025-08-21 00:19:00,834] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.50 (费率: 0.0003)
[2025-08-21 00:19:00,834] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=7.38, 数量=677
[2025-08-21 00:19:00,834] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,834] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', direction='BUY', fill_price=7.38, fill_quantity=677, commission=1.498878, timestamp=datetime.datetime(2025, 5, 6, 0, 0))
[2025-08-21 00:19:00,834] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 677@7.38, 手续费: 1.50
[2025-08-21 00:19:00,834] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 677@7.38
[2025-08-21 00:19:00,834] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 677@7.38
[2025-08-21 00:19:00,867] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：5034.950032；当前position_amount:10915.02
[2025-08-21 00:19:00,868] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 00:19:00,868] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 386@13.04
[2025-08-21 00:19:00,868] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.51 (费率: 0.0003)
[2025-08-21 00:19:00,868] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_2, 成交价=13.04, 数量=386
[2025-08-21 00:19:00,868] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,868] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_2', symbol='sh.603900', direction='SELL', fill_price=13.04, fill_quantity=386, commission=1.5100319999999998, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-21 00:19:00,868] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 386@13.04, 手续费: 1.51
[2025-08-21 00:19:00,868] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 386@13.04
[2025-08-21 00:19:00,868] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 386@13.04
[2025-08-21 00:19:00,870] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：5456.086335；当前available_cash:95040.72
[2025-08-21 00:19:00,870] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:19:00,870] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 465@11.73
[2025-08-21 00:19:00,870] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.64 (费率: 0.0003)
[2025-08-21 00:19:00,870] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_3, 成交价=11.73, 数量=465
[2025-08-21 00:19:00,870] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,870] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_3', symbol='sh.603900', direction='BUY', fill_price=11.73, fill_quantity=465, commission=1.6363349999999999, timestamp=datetime.datetime(2025, 6, 9, 0, 0))
[2025-08-21 00:19:00,871] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 465@11.73, 手续费: 1.64
[2025-08-21 00:19:00,871] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 465@11.73
[2025-08-21 00:19:00,871] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 465@11.73
[2025-08-21 00:19:00,873] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：5387.21568；当前position_amount:18275.34
[2025-08-21 00:19:00,873] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 00:19:00,874] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 440@12.24
[2025-08-21 00:19:00,874] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.62 (费率: 0.0003)
[2025-08-21 00:19:00,874] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_4, 成交价=12.24, 数量=440
[2025-08-21 00:19:00,874] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,874] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_4', symbol='sh.603900', direction='SELL', fill_price=12.24, fill_quantity=440, commission=1.61568, timestamp=datetime.datetime(2025, 6, 11, 0, 0))
[2025-08-21 00:19:00,874] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 440@12.24, 手续费: 1.62
[2025-08-21 00:19:00,874] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 440@12.24
[2025-08-21 00:19:00,874] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 440@12.24
[2025-08-21 00:19:00,875] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：5423.086438；当前available_cash:94971.87000000001
[2025-08-21 00:19:00,875] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:19:00,875] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 418@12.97
[2025-08-21 00:19:00,876] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.63 (费率: 0.0003)
[2025-08-21 00:19:00,876] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_5, 成交价=12.97, 数量=418
[2025-08-21 00:19:00,876] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,876] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_5', symbol='sh.603900', direction='BUY', fill_price=12.97, fill_quantity=418, commission=1.6264379999999998, timestamp=datetime.datetime(2025, 6, 13, 0, 0))
[2025-08-21 00:19:00,876] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 418@12.97, 手续费: 1.63
[2025-08-21 00:19:00,876] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 418@12.97
[2025-08-21 00:19:00,876] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 418@12.97
[2025-08-21 00:19:00,880] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：5474.661905999999；当前position_amount:19921.920000000002
[2025-08-21 00:19:00,880] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 00:19:00,880] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 471@11.62
[2025-08-21 00:19:00,880] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.64 (费率: 0.0003)
[2025-08-21 00:19:00,880] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_6, 成交价=11.62, 数量=471
[2025-08-21 00:19:00,880] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,881] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_6', symbol='sh.603900', direction='SELL', fill_price=11.62, fill_quantity=471, commission=1.6419059999999996, timestamp=datetime.datetime(2025, 6, 19, 0, 0))
[2025-08-21 00:19:00,881] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 471@11.62, 手续费: 1.64
[2025-08-21 00:19:00,881] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 471@11.62
[2025-08-21 00:19:00,881] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 471@11.62
[2025-08-21 00:19:00,891] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：5361.367928；当前available_cash:95023.43000000001
[2025-08-21 00:19:00,891] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:19:00,891] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 476@11.26
[2025-08-21 00:19:00,891] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.61 (费率: 0.0003)
[2025-08-21 00:19:00,891] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_7, 成交价=11.26, 数量=476
[2025-08-21 00:19:00,891] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,891] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_7', symbol='sh.603900', direction='BUY', fill_price=11.26, fill_quantity=476, commission=1.607928, timestamp=datetime.datetime(2025, 7, 3, 0, 0))
[2025-08-21 00:19:00,891] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 476@11.26, 手续费: 1.61
[2025-08-21 00:19:00,891] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 476@11.26
[2025-08-21 00:19:00,891] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 476@11.26
[2025-08-21 00:19:00,893] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：5350.4246459999995；当前position_amount:17351.66
[2025-08-21 00:19:00,893] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 00:19:00,893] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 478@11.19
[2025-08-21 00:19:00,893] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.60 (费率: 0.0003)
[2025-08-21 00:19:00,893] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_8, 成交价=11.19, 数量=478
[2025-08-21 00:19:00,893] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,893] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_8', symbol='sh.603900', direction='SELL', fill_price=11.19, fill_quantity=478, commission=1.6046459999999998, timestamp=datetime.datetime(2025, 7, 7, 0, 0))
[2025-08-21 00:19:00,893] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 478@11.19, 手续费: 1.60
[2025-08-21 00:19:00,893] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 478@11.19
[2025-08-21 00:19:00,893] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 478@11.19
[2025-08-21 00:19:00,897] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：5346.503470000001；当前available_cash:95012.49000000002
[2025-08-21 00:19:00,897] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:19:00,897] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 473@11.3
[2025-08-21 00:19:00,897] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.60 (费率: 0.0003)
[2025-08-21 00:19:00,897] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_9, 成交价=11.30, 数量=473
[2025-08-21 00:19:00,897] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,897] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_9', symbol='sh.603900', direction='BUY', fill_price=11.3, fill_quantity=473, commission=1.60347, timestamp=datetime.datetime(2025, 7, 11, 0, 0))
[2025-08-21 00:19:00,897] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 473@11.3, 手续费: 1.60
[2025-08-21 00:19:00,897] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 473@11.3
[2025-08-21 00:19:00,897] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 473@11.3
[2025-08-21 00:19:00,901] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：5343.942702；当前position_amount:17356.800000000003
[2025-08-21 00:19:00,901] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 00:19:00,901] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 538@9.93
[2025-08-21 00:19:00,901] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.60 (费率: 0.0003)
[2025-08-21 00:19:00,901] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_10, 成交价=9.93, 数量=538
[2025-08-21 00:19:00,901] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,901] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_10', symbol='sh.603900', direction='SELL', fill_price=9.93, fill_quantity=538, commission=1.6027019999999998, timestamp=datetime.datetime(2025, 7, 16, 0, 0))
[2025-08-21 00:19:00,901] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 538@9.93, 手续费: 1.60
[2025-08-21 00:19:00,901] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 538@9.93
[2025-08-21 00:19:00,901] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 538@9.93
[2025-08-21 00:19:00,908] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：5238.291015999999；当前available_cash:95009.93000000002
[2025-08-21 00:19:00,908] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:19:00,908] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 536@9.77
[2025-08-21 00:19:00,908] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.57 (费率: 0.0003)
[2025-08-21 00:19:00,908] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_11, 成交价=9.77, 数量=536
[2025-08-21 00:19:00,908] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,908] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_11', symbol='sh.603900', direction='BUY', fill_price=9.77, fill_quantity=536, commission=1.5710159999999997, timestamp=datetime.datetime(2025, 7, 25, 0, 0))
[2025-08-21 00:19:00,908] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 536@9.77, 手续费: 1.57
[2025-08-21 00:19:00,908] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 536@9.77
[2025-08-21 00:19:00,908] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 536@9.77
[2025-08-21 00:19:00,910] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：5230.928808000001；当前position_amount:14987.179999999998
[2025-08-21 00:19:00,910] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 00:19:00,910] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 538@9.72
[2025-08-21 00:19:00,910] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.57 (费率: 0.0003)
[2025-08-21 00:19:00,910] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_12, 成交价=9.72, 数量=538
[2025-08-21 00:19:00,910] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,910] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_12', symbol='sh.603900', direction='SELL', fill_price=9.72, fill_quantity=538, commission=1.568808, timestamp=datetime.datetime(2025, 7, 29, 0, 0))
[2025-08-21 00:19:00,910] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 538@9.72, 手续费: 1.57
[2025-08-21 00:19:00,910] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 538@9.72
[2025-08-21 00:19:00,910] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 538@9.72
[2025-08-21 00:19:00,916] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：5228.087956；当前available_cash:95002.57000000002
[2025-08-21 00:19:00,916] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 00:19:00,916] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 529@9.88
[2025-08-21 00:19:00,916] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.57 (费率: 0.0003)
[2025-08-21 00:19:00,916] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_13, 成交价=9.88, 数量=529
[2025-08-21 00:19:00,916] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,916] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_13', symbol='sh.603900', direction='BUY', fill_price=9.88, fill_quantity=529, commission=1.567956, timestamp=datetime.datetime(2025, 8, 6, 0, 0))
[2025-08-21 00:19:00,917] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 529@9.88, 手续费: 1.57
[2025-08-21 00:19:00,917] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 529@9.88
[2025-08-21 00:19:00,917] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 529@9.88
[2025-08-21 00:19:00,924] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：5233.96972；当前position_amount:15067.000000000002
[2025-08-21 00:19:00,925] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 00:19:00,925] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 508@10.3
[2025-08-21 00:19:00,925] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 1.57 (费率: 0.0003)
[2025-08-21 00:19:00,925] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_14, 成交价=10.30, 数量=508
[2025-08-21 00:19:00,925] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 00:19:00,925] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_14', symbol='sh.603900', direction='SELL', fill_price=10.3, fill_quantity=508, commission=1.56972, timestamp=datetime.datetime(2025, 8, 15, 0, 0))
[2025-08-21 00:19:00,925] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 508@10.3, 手续费: 1.57
[2025-08-21 00:19:00,925] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 508@10.3
[2025-08-21 00:19:00,925] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 508@10.3
[2025-08-21 00:19:00,926] [DEBUG] [backtesting:273] [conn:N/A] 回测完成
[2025-08-21 00:19:00,926] [DEBUG] [backtesting:371] [conn:N/A] 回测完成！
[2025-08-21 01:44:44,121] [DEBUG] [database:28] [conn:N/A] DatabaseManager initialized, instance_id: 5183286336
[2025-08-21 01:44:44,332] [DEBUG] [database:87] [conn:N/A] 连接池初始化成功, 循环ID: 4413047040
[2025-08-21 01:44:44,332] [INFO] [database:95] [conn:N/A] 开始数据库表结构初始化...
[2025-08-21 01:44:44,407] [DEBUG] [database:167] [conn:5183285472] 数据库表结构初始化完成
[2025-08-21 01:44:44,407] [DEBUG] [database:171] [conn:N/A] 当前循环活跃状态: True
[2025-08-21 01:44:44,407] [DEBUG] [database:62] [conn:N/A] initialize调用结束，总耗时: 0.29s
[2025-08-21 01:44:46,877] [DEBUG] [database:379] [conn:N/A] 检查数据是否最新
[2025-08-21 01:44:46,877] [DEBUG] [database:407] [conn:N/A] 检查StockInfo表状态(尝试1/3)
[2025-08-21 01:44:46,877] [DEBUG] [database:408] [conn:5187993904] 当前活跃连接数: 1
[2025-08-21 01:44:46,960] [WARNING] [database:434] [conn:N/A] StockInfo表为空
[2025-08-21 01:44:47,408] [DEBUG] [database:502] [conn:N/A] Truncating StockInfo table
[2025-08-21 01:44:47,429] [DEBUG] [database:506] [conn:N/A] Inserting 0 rows into StockInfo
[2025-08-21 01:44:47,450] [INFO] [database:512] [conn:N/A] 成功更新StockInfo表数据，成功插入0行，失败0行
[2025-08-21 01:45:01,323] [INFO] [database:289] [conn:N/A] Loading stock data for sh.603900 from 2025-04-01 to 2025-08-21
[2025-08-21 01:45:01,323] [INFO] [database:218] [conn:N/A] Checking data completeness for sh.603900 from 2025-04-01 to 2025-08-21
[2025-08-21 01:45:01,366] [INFO] [database:233] [conn:N/A] 从数据库获取 2025-04-01-2025-08-21 for sh.603900

[2025-08-21 01:45:01,371] [INFO] [database:270] [conn:N/A] Found 1 missing data ranges for sh.603900
[2025-08-21 01:45:01,381] [INFO] [database:300] [conn:N/A] missing_ranges [(datetime.date(2025, 8, 19), datetime.date(2025, 8, 20))]
[2025-08-21 01:45:01,381] [INFO] [database:301] [conn:N/A] Fetching missing data ranges for sh.603900
[2025-08-21 01:45:01,381] [INFO] [database:306] [conn:N/A] Fetching data from 2025-08-19 to 2025-08-20
[2025-08-21 01:45:01,707] [INFO] [database:346] [conn:N/A] Successfully loaded 96 rows for sh.603900
[2025-08-21 01:45:01,718] [INFO] [backtesting:166] [conn:N/A] 仓位策略创建成功: fixed_percent
[2025-08-21 01:45:01,719] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-21 01:45:01,719] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: OrderEvent
[2025-08-21 01:45:01,719] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: FillEvent
[2025-08-21 01:45:01,730] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: StrategySignalEvent
[2025-08-21 01:45:01,731] [DEBUG] [backtesting:512] [conn:N/A] 注册事件处理器: StrategyScheduleEvent
[2025-08-21 01:45:01,731] [DEBUG] [backtesting:537] [conn:N/A] 注册策略调度处理器: e933842c-50f6-4d8f-af18-a20492288aa7
[2025-08-21 01:45:01,731] [INFO] [backtesting:540] [conn:N/A] 策略注册成功 | ID: e933842c-50f6-4d8f-af18-a20492288aa7 | 名称: 自定义规则策略
[2025-08-21 01:45:01,731] [DEBUG] [backtesting:358] [conn:N/A] 开始回测...
[2025-08-21 01:45:01,731] [DEBUG] [backtesting:215] [conn:N/A] 识别数据频率为：日线
[2025-08-21 01:45:01,732] [DEBUG] [backtesting:241] [conn:N/A] 开始回测...
[2025-08-21 01:45:01,732] [INFO] [backtesting:592] [conn:N/A] 回测系统初始化开始
[2025-08-21 01:45:01,732] [INFO] [backtesting:604] [conn:N/A] 策略初始化完成: e933842c-50f6-4d8f-af18-a20492288aa7
[2025-08-21 01:45:01,732] [INFO] [backtesting:615] [conn:N/A] 回测系统初始化完成
[2025-08-21 01:45:01,742] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7001.3997899999995；当前position_amount:0
[2025-08-21 01:45:01,742] [DEBUG] [risk_manager:35] [conn:N/A] False
[2025-08-21 01:45:01,742] [WARNING] [backtesting:418] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-21 01:45:01,744] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：6998.388887000001；当前available_cash:100000
[2025-08-21 01:45:01,744] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 01:45:01,744] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 1123@6.23
[2025-08-21 01:45:01,744] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.10 (费率: 0.0003)
[2025-08-21 01:45:01,744] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_0, 成交价=6.23, 数量=1123
[2025-08-21 01:45:01,744] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,744] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_0', symbol='sh.603900', direction='BUY', fill_price=6.23, fill_quantity=1123, commission=2.098887, timestamp=datetime.datetime(2025, 4, 15, 0, 0))
[2025-08-21 01:45:01,744] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 1123@6.23, 手续费: 2.10
[2025-08-21 01:45:01,744] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 1123@6.23
[2025-08-21 01:45:01,744] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 1123@6.23
[2025-08-21 01:45:01,771] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：6999.539231999999；当前position_amount:6996.290000000001
[2025-08-21 01:45:01,772] [DEBUG] [risk_manager:35] [conn:N/A] False
[2025-08-21 01:45:01,772] [WARNING] [backtesting:418] [conn:N/A] 订单风险检查失败: 拒绝操作！
[2025-08-21 01:45:01,779] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：6998.338871999999；当前available_cash:93003.70999999999
[2025-08-21 01:45:01,779] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 01:45:01,779] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 948@7.38
[2025-08-21 01:45:01,779] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.10 (费率: 0.0003)
[2025-08-21 01:45:01,779] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_1, 成交价=7.38, 数量=948
[2025-08-21 01:45:01,779] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,779] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_1', symbol='sh.603900', direction='BUY', fill_price=7.38, fill_quantity=948, commission=2.0988719999999996, timestamp=datetime.datetime(2025, 5, 6, 0, 0))
[2025-08-21 01:45:01,779] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 948@7.38, 手续费: 2.10
[2025-08-21 01:45:01,779] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 948@7.38
[2025-08-21 01:45:01,779] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 948@7.38
[2025-08-21 01:45:01,824] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7082.8442159999995；当前position_amount:15283.98
[2025-08-21 01:45:01,824] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 01:45:01,824] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 543@13.04
[2025-08-21 01:45:01,824] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.12 (费率: 0.0003)
[2025-08-21 01:45:01,824] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_2, 成交价=13.04, 数量=543
[2025-08-21 01:45:01,824] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,824] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_2', symbol='sh.603900', direction='SELL', fill_price=13.04, fill_quantity=543, commission=2.1242159999999997, timestamp=datetime.datetime(2025, 6, 4, 0, 0))
[2025-08-21 01:45:01,824] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 543@13.04, 手续费: 2.12
[2025-08-21 01:45:01,824] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 543@13.04
[2025-08-21 01:45:01,824] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 543@13.04
[2025-08-21 01:45:01,828] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：7908.3918060000005；当前available_cash:93088.18999999999
[2025-08-21 01:45:01,828] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 01:45:01,828] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 674@11.73
[2025-08-21 01:45:01,828] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.37 (费率: 0.0003)
[2025-08-21 01:45:01,828] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_3, 成交价=11.73, 数量=674
[2025-08-21 01:45:01,828] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,828] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_3', symbol='sh.603900', direction='BUY', fill_price=11.73, fill_quantity=674, commission=2.371806, timestamp=datetime.datetime(2025, 6, 9, 0, 0))
[2025-08-21 01:45:01,828] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 674@11.73, 手续费: 2.37
[2025-08-21 01:45:01,828] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 674@11.73
[2025-08-21 01:45:01,828] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 674@11.73
[2025-08-21 01:45:01,831] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7762.488047999999；当前position_amount:25829.46
[2025-08-21 01:45:01,831] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 01:45:01,831] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 634@12.24
[2025-08-21 01:45:01,831] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.33 (费率: 0.0003)
[2025-08-21 01:45:01,831] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_4, 成交价=12.24, 数量=634
[2025-08-21 01:45:01,831] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,831] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_4', symbol='sh.603900', direction='SELL', fill_price=12.24, fill_quantity=634, commission=2.328048, timestamp=datetime.datetime(2025, 6, 11, 0, 0))
[2025-08-21 01:45:01,832] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 634@12.24, 手续费: 2.33
[2025-08-21 01:45:01,832] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 634@12.24
[2025-08-21 01:45:01,832] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 634@12.24
[2025-08-21 01:45:01,835] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：7849.204055；当前available_cash:92942.32999999999
[2025-08-21 01:45:01,835] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 01:45:01,835] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 605@12.97
[2025-08-21 01:45:01,835] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.35 (费率: 0.0003)
[2025-08-21 01:45:01,835] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_5, 成交价=12.97, 数量=605
[2025-08-21 01:45:01,835] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,835] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_5', symbol='sh.603900', direction='BUY', fill_price=12.97, fill_quantity=605, commission=2.354055, timestamp=datetime.datetime(2025, 6, 13, 0, 0))
[2025-08-21 01:45:01,835] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 605@12.97, 手续费: 2.35
[2025-08-21 01:45:01,835] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 605@12.97
[2025-08-21 01:45:01,835] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 605@12.97
[2025-08-21 01:45:01,840] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7927.217451999999；当前position_amount:28183.81
[2025-08-21 01:45:01,840] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 01:45:01,840] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 682@11.62
[2025-08-21 01:45:01,840] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.38 (费率: 0.0003)
[2025-08-21 01:45:01,840] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_6, 成交价=11.62, 数量=682
[2025-08-21 01:45:01,840] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,840] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_6', symbol='sh.603900', direction='SELL', fill_price=11.62, fill_quantity=682, commission=2.3774519999999995, timestamp=datetime.datetime(2025, 6, 19, 0, 0))
[2025-08-21 01:45:01,840] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 682@11.62, 手续费: 2.38
[2025-08-21 01:45:01,840] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 682@11.62
[2025-08-21 01:45:01,840] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 682@11.62
[2025-08-21 01:45:01,853] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：7715.413929999999；当前available_cash:93020.31999999998
[2025-08-21 01:45:01,853] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 01:45:01,853] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 685@11.26
[2025-08-21 01:45:01,853] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.31 (费率: 0.0003)
[2025-08-21 01:45:01,853] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_7, 成交价=11.26, 数量=685
[2025-08-21 01:45:01,854] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,854] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_7', symbol='sh.603900', direction='BUY', fill_price=11.26, fill_quantity=685, commission=2.3139299999999996, timestamp=datetime.datetime(2025, 7, 3, 0, 0))
[2025-08-21 01:45:01,854] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 685@11.26, 手续费: 2.31
[2025-08-21 01:45:01,854] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 685@11.26
[2025-08-21 01:45:01,854] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 685@11.26
[2025-08-21 01:45:01,856] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7678.642901999999；当前position_amount:24501.76
[2025-08-21 01:45:01,856] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 01:45:01,856] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 686@11.19
[2025-08-21 01:45:01,856] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.30 (费率: 0.0003)
[2025-08-21 01:45:01,856] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_8, 成交价=11.19, 数量=686
[2025-08-21 01:45:01,856] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,856] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_8', symbol='sh.603900', direction='SELL', fill_price=11.19, fill_quantity=686, commission=2.3029019999999996, timestamp=datetime.datetime(2025, 7, 7, 0, 0))
[2025-08-21 01:45:01,856] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 686@11.19, 手续费: 2.30
[2025-08-21 01:45:01,856] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 686@11.19
[2025-08-21 01:45:01,856] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 686@11.19
[2025-08-21 01:45:01,861] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：7675.001810000001；当前available_cash:92983.55999999997
[2025-08-21 01:45:01,861] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 01:45:01,861] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 679@11.3
[2025-08-21 01:45:01,861] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.30 (费率: 0.0003)
[2025-08-21 01:45:01,861] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_9, 成交价=11.30, 数量=679
[2025-08-21 01:45:01,861] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,861] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_9', symbol='sh.603900', direction='BUY', fill_price=11.3, fill_quantity=679, commission=2.30181, timestamp=datetime.datetime(2025, 7, 11, 0, 0))
[2025-08-21 01:45:01,861] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 679@11.3, 手续费: 2.30
[2025-08-21 01:45:01,861] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 679@11.3
[2025-08-21 01:45:01,861] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 679@11.3
[2025-08-21 01:45:01,865] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7688.125746；当前position_amount:24509.7
[2025-08-21 01:45:01,865] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 01:45:01,865] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 774@9.93
[2025-08-21 01:45:01,865] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.31 (费率: 0.0003)
[2025-08-21 01:45:01,865] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_10, 成交价=9.93, 数量=774
[2025-08-21 01:45:01,865] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,865] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_10', symbol='sh.603900', direction='SELL', fill_price=9.93, fill_quantity=774, commission=2.3057459999999996, timestamp=datetime.datetime(2025, 7, 16, 0, 0))
[2025-08-21 01:45:01,865] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 774@9.93, 手续费: 2.31
[2025-08-21 01:45:01,865] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 774@9.93
[2025-08-21 01:45:01,866] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 774@9.93
[2025-08-21 01:45:01,875] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：7476.292214999999；当前available_cash:92996.67999999996
[2025-08-21 01:45:01,875] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 01:45:01,875] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 765@9.77
[2025-08-21 01:45:01,875] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.24 (费率: 0.0003)
[2025-08-21 01:45:01,875] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_11, 成交价=9.77, 数量=765
[2025-08-21 01:45:01,875] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,875] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_11', symbol='sh.603900', direction='BUY', fill_price=9.77, fill_quantity=765, commission=2.2422149999999994, timestamp=datetime.datetime(2025, 7, 25, 0, 0))
[2025-08-21 01:45:01,875] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 765@9.77, 手续费: 2.24
[2025-08-21 01:45:01,875] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 765@9.77
[2025-08-21 01:45:01,875] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 765@9.77
[2025-08-21 01:45:01,878] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7457.4765720000005；当前position_amount:21103.2
[2025-08-21 01:45:01,878] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 01:45:01,878] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 767@9.72
[2025-08-21 01:45:01,878] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.24 (费率: 0.0003)
[2025-08-21 01:45:01,878] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_12, 成交价=9.72, 数量=767
[2025-08-21 01:45:01,878] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,878] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_12', symbol='sh.603900', direction='SELL', fill_price=9.72, fill_quantity=767, commission=2.2365720000000002, timestamp=datetime.datetime(2025, 7, 29, 0, 0))
[2025-08-21 01:45:01,878] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 767@9.72, 手续费: 2.24
[2025-08-21 01:45:01,878] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 767@9.72
[2025-08-21 01:45:01,878] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 767@9.72
[2025-08-21 01:45:01,885] [DEBUG] [risk_manager:29] [conn:N/A] 资金检查：尝试买入：7451.7548560000005；当前available_cash:92977.86999999997
[2025-08-21 01:45:01,885] [DEBUG] [risk_manager:30] [conn:N/A] True
[2025-08-21 01:45:01,885] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: BUY 754@9.88
[2025-08-21 01:45:01,885] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.23 (费率: 0.0003)
[2025-08-21 01:45:01,885] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_13, 成交价=9.88, 数量=754
[2025-08-21 01:45:01,885] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,885] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_13', symbol='sh.603900', direction='BUY', fill_price=9.88, fill_quantity=754, commission=2.2348559999999997, timestamp=datetime.datetime(2025, 8, 6, 0, 0))
[2025-08-21 01:45:01,885] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: BUY 754@9.88, 手续费: 2.23
[2025-08-21 01:45:01,885] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: BUY 754@9.88
[2025-08-21 01:45:01,885] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: BUY 754@9.88
[2025-08-21 01:45:01,894] [DEBUG] [risk_manager:34] [conn:N/A] 资金检查：尝试卖出：7469.740250000001；当前position_amount:21212.36
[2025-08-21 01:45:01,894] [DEBUG] [risk_manager:35] [conn:N/A] True
[2025-08-21 01:45:01,894] [DEBUG] [backtesting:362] [conn:N/A] 开始处理回测订单: SELL 725@10.3
[2025-08-21 01:45:01,894] [DEBUG] [backtesting:369] [conn:N/A] 计算手续费: 2.24 (费率: 0.0003)
[2025-08-21 01:45:01,894] [DEBUG] [backtesting:391] [conn:N/A] 创建模拟成交回报: 订单ID=backtest_order_14, 成交价=10.30, 数量=725
[2025-08-21 01:45:01,894] [DEBUG] [backtesting:394] [conn:N/A] 开始处理成交回报事件...
[2025-08-21 01:45:01,894] [DEBUG] [backtesting:689] [conn:N/A] 处理成交回报事件: FillEvent(order_id='backtest_order_14', symbol='sh.603900', direction='SELL', fill_price=10.3, fill_quantity=725, commission=2.24025, timestamp=datetime.datetime(2025, 8, 15, 0, 0))
[2025-08-21 01:45:01,894] [INFO] [backtesting:723] [conn:N/A] 成交回报处理完成: SELL 725@10.3, 手续费: 2.24
[2025-08-21 01:45:01,894] [DEBUG] [backtesting:396] [conn:N/A] 回测订单执行成功: SELL 725@10.3
[2025-08-21 01:45:01,894] [DEBUG] [backtesting:351] [conn:N/A] 订单处理完成: SELL 725@10.3
[2025-08-21 01:45:01,896] [DEBUG] [backtesting:273] [conn:N/A] 回测完成
[2025-08-21 01:45:01,897] [DEBUG] [backtesting:371] [conn:N/A] 回测完成！
