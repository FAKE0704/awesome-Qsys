<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>任务折叠面板</title>
    <style>
        /* 基础样式 */
        .task-manager {
            max-width: 800px;
            margin: 20px auto;
            font-family: Arial, sans-serif;
        }

        /* 全局控制按钮样式 */
        #global-control {
            margin-bottom: 15px;
            padding: 8px 20px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }

        #global-control:hover {
            background: #1976D2;
        }

        /* 单个任务项样式 */
        .task-item {
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        /* 任务标题栏 */
        .task-header {
            padding: 12px 15px;
            background: #f5f5f5;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* 内容区域动画效果 */
        .task-content {
            max-height: 0;
            overflow: hidden;
            padding: 0 15px;
            transition: max-height 0.3s ease-out;
            background: #fff;
        }

        /* 展开状态 */
        .expanded .task-content {
            max-height: 500px; /* 根据实际内容调整 */
        }

        /* 状态指示器 */
        .status-indicator {
            font-size: 0.9em;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="task-manager">
        <button id="global-control">全部展开</button>
        
        <!-- 任务项 -->
        <div class="task-item">
            <div class="task-header" onclick="toggleTask(this)">
                <span>任务1：系统架构设计</span>
                <span class="status-indicator">▶ 点击展开</span>
            </div>
            <div class="task-content">
                <p>任务描述：完成系统模块划分和技术选型...</p>
                <p>截止时间：2025-06-01</p>
            </div>
        </div>

        <div class="task-item">
            <div class="task-header" onclick="toggleTask(this)">
                <span>任务2：接口开发</span>
                <span class="status-indicator">▶ 点击展开</span>
            </div>
            <div class="task-content">
                <p>任务描述：实现用户管理模块API...</p>
                <p>负责人：张工程师</p>
            </div>
        </div>
    </div>

    <script>
        // 单个任务切换
        function toggleTask(header) {
            const taskItem = header.parentElement;
            const content = taskItem.querySelector('.task-content');
            const isExpanded = taskItem.classList.toggle('expanded');
            
            // 更新指示器
            header.querySelector('.status-indicator').textContent = 
                isExpanded ? "▼ 已展开" : "▶ 点击展开";
        }

        // 全局控制按钮
        const globalBtn = document.getElementById('global-control');
        let isAllExpanded = false;

        globalBtn.addEventListener('click', () => {
            const tasks = document.querySelectorAll('.task-item');
            isAllExpanded = !isAllExpanded;
            
            tasks.forEach(task => {
                const header = task.querySelector('.task-header');
                const indicator = header.querySelector('.status-indicator');
                
                if (isAllExpanded) {
                    task.classList.add('expanded');
                    indicator.textContent = "▼ 已展开";
                } else {
                    task.classList.remove('expanded');
                    indicator.textContent = "▶ 点击展开";
                }
            });

            globalBtn.textContent = isAllExpanded ? '全部折叠' : '全部展开';
        });
    </script>
</body>
</html>