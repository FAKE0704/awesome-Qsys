# 交易模块  
1. 使用同花顺GUI实现交易操作
1.1 识别所有按钮
1.1.1 **界面按钮识别**：detect_buttons根据路径的图片识别按钮==已实现
1.1.2 **按钮点击**：click_button模仿人进行点击==已实现
1.1.3 **内容输入**：写一个方法input_method(self,name,str)用于选择特定的name框并输入内容str,调用示例：input_method(self, "委托数量", "400")

1. 使用规则引擎实现风控自动拦截  
2.1 **风控规则配置**：基于Drools等规则引擎，设置风险阈值（如单笔交易金额限制、用户信用评分、IP异常检测）。例如，检测到同一用户10分钟内频繁下单，自动触发人工审核流程。  
2.2 **实时拦截机制**：在订单提交阶段，风控模块通过API调用实时分析用户行为数据（如设备指纹、历史订单记录），拦截高风险交易并返回提示信息。  


3. 订单记录功能  
3.1 使用数据库分表实现订单存储与查询  
3.1.1 **数据库设计**：  
- 主表（`orders`）：存储订单基础信息（订单ID、用户ID、总金额、状态、创建时间）。  
- 子表（`order_details`）：记录商品详情（商品ID、单价、数量、快照信息），通过外键关联主表。  
- 使用MySQL分库分表策略，按用户ID哈希分片，提升查询效率。  
3.1.2 **查询优化**：  
- 为常用字段（如用户ID、订单状态）添加索引，支持多条件筛选（时间范围、商品名称）。  
- 使用Elasticsearch实现模糊搜索（如根据订单备注关键词检索）。
